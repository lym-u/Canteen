Index: src/main/resources/public/CM-dishEdit.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"renderer\" content=\"webkit\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\r\n    <meta name=\"viewport\"\r\n          content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\" />\r\n    <title>编辑菜品</title>\r\n    <link rel=\"stylesheet\" type=\"text/css\"\r\n          href=\"assets/admin/layui/css/layui.css\" />\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/css/admin.css\" />\r\n</head>\r\n\r\n<body>\r\n<div class=\"page-content-wrap\" id=\"dishUpdate\">\r\n\r\n    <form class=\"layui-form\" action=\"\" id=\"\">\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">菜品编号</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"dishid\" id=\"dishid\" lay-verify=\"required|dishID\"\r\n                       placeholder=\"请输入菜品编号\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">名称</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"dishname\" id=\"dishname\" lay-verify=\"required|dishName\"\r\n                       placeholder=\"请输入菜品名称\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">价格</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"price\" id=\"price\" lay-verify=\"required|dishPrice\"\r\n                       placeholder=\"请输入菜品名称\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">促销价格</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"promoteprice\" id=\"promoteprice\" lay-verify=\"required|promoterPrice\"\r\n                       placeholder=\"请输入促销价格\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">菜系</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"dishstyle\" id=\"dishstyle\" lay-verify=\"required|dishStyle\"\r\n                       placeholder=\"请输入菜系\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">所属食堂ID</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"canteenid\" id=\"canteenid\" lay-verify=\"required|canteenid\"\r\n                       placeholder=\"请输入所属食堂ID\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">简介</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"description\" id=\"description\" lay-verify=\"required|description\"\r\n                       placeholder=\"请输入简介\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">图片文件名</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"imagefilename\" id=\"imagefilename\" lay-verify=\"required|imagefileName\"\r\n                       placeholder=\"请输入图片文件名\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">是否推荐</label>\r\n            <div class=\"layui-input-block\">\r\n                <select name=\"ifrecommend\" lay-verify=\"required\">\r\n                    <option value=\"\">请选择</option>\r\n                    <option value=\"1\">是</option>\r\n                    <option value=\"0\">否</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"layui-form-item m-login-btn\" style=\"text-align:center\">\r\n            <div class=\"layui-inline\">\r\n                <button class=\"layui-btn layui-btn-normal\" lay-submit lay-filter=\"updateScore\">修改菜品信息</button>\r\n            </div>\r\n            <div class=\"layui-inline\">\r\n                <button type=\"reset\" class=\"layui-btn layui-btn-primary  site-demo-active\"\r\n                        data-type=\"reset\">取消添加</button>\r\n            </div>\r\n        </div>\r\n    </form>\r\n\r\n    <hr></hr>\r\n    <h5 style=\"text-align: center;\">@2023.食堂菜品管理系统</h5>\r\n</div>\r\n<script src=\"assets/admin/layui/layui.all.js\" type=\"text/javascript\"\r\n        charset=\"utf-8\"></script>\r\n<script>\r\n    layui.use(['form', 'layedit', 'laydate'], function(){\r\n        var form = layui.form\r\n            ,layer = layui.layer,layedit=layui.layedit;\r\n        var $ = layui.jquery;\r\n\r\n        //创建一个编辑器\r\n        var editIndex = layedit.build('LAY_demo_editor');\r\n        form.verify({\r\n            dishID: function(value) {\r\n                if (!/^\\d{3}$/.test(value)) {\r\n                    return '菜品编号必须为3位数字';\r\n                }\r\n            },\r\n            dishName: function(value) {\r\n                if (value.length < 2 || value.length > 20) {\r\n                    return '菜品名称长度必须为2-20个字符';\r\n                }\r\n            },\r\n            dishPrice: function(value) {\r\n                if (!/^\\d+(\\.\\d{1,2})?$/.test(value)) {\r\n                    return '菜品价格必须为数字，最多保留两位小数';\r\n                }\r\n            },\r\n            promoterPrice: function(value) {\r\n                if (!/^\\d+(\\.\\d{1,2})?$/.test(value)) {\r\n                    return '促销菜品价格必须为数字，最多保留两位小数';\r\n                }\r\n            },\r\n            dishStyle: function(value) {\r\n                if (value.length < 2 || value.length > 10) {\r\n                    return '菜系长度必须为2-10个字符';\r\n                }\r\n            },\r\n            canteenid: function(value) {\r\n                if (!/^\\d{3}$/.test(value)) {\r\n                    return '所属食堂ID必须为3位数字';\r\n                }\r\n            },\r\n            description: function(value) {\r\n                if (value.length < 10 || value.length > 100) {\r\n                    return '简介长度必须为10-100个字符';\r\n                }\r\n            },\r\n            imagefileName: function(value) {\r\n                if (!/^[a-zA-Z0-9]{1,10}\\.(jpg|jpeg|png)$/.test(value)) {\r\n                    return '图片文件名格式不正确，只允许使用字母、数字和点号，并且后缀只能为jpg、jpeg或png';\r\n                }\r\n            }\r\n        });\r\n        form.on('submit(updateDish)', function(data){\r\n            var str=JSON.stringify(data.field)\r\n            var param = JSON.parse(str);\r\n            $.ajax({\r\n                //几个参数需要注意一下\r\n                type: \"POST\",//方法类型\r\n                dataType: \"json\",//预期服务器返回的数据类型\r\n                url: \"/score/updateScore\",//url\r\n                data: param,\r\n                success: function (result) {\r\n                    if (result.code == \"0\") {\r\n                        var index = parent.layer.getFrameIndex(window.name); //先得到当前iframe层的索引\r\n                        parent.layer.close(index);\r\n                        parent.layer.msg('修改菜品成功');\r\n                        parent.layui.table.reload('scoreTest',{page:{curr:1}});\r\n                    }else{\r\n                        layer.msg('修改菜品失败', {\r\n                            icon: 5\r\n                        });\r\n                    }\r\n                },\r\n                error : function() {\r\n                    layer.msg('服务器错误', {\r\n                        icon: 5\r\n                    });\r\n                }\r\n            });\r\n\r\n            return false;\r\n        });\r\n        //触发事件\r\n        var active = {\r\n            reset : function() {\r\n                var index = parent.layer.getFrameIndex(window.name); //先得到当前iframe层的索引\r\n                parent.layer.close(index);\r\n                parent.layer.msg('已取消操作');\r\n            }\r\n        };\r\n        $('#dishUpdate .layui-btn').on('click', function() {\r\n            var type = $(this).data('type');\r\n            active[type] ? active[type].call(this) : '';\r\n        });\r\n\r\n    });\r\n</script>\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/public/CM-dishEdit.html b/src/main/resources/public/CM-dishEdit.html
--- a/src/main/resources/public/CM-dishEdit.html	(revision 2acca4c0297436517a73e50fab3adf51b66ff569)
+++ b/src/main/resources/public/CM-dishEdit.html	(date 1703927106815)
@@ -165,7 +165,7 @@
                 //几个参数需要注意一下
                 type: "POST",//方法类型
                 dataType: "json",//预期服务器返回的数据类型
-                url: "/score/updateScore",//url
+                url: "/dish/updateDish",//url
                 data: param,
                 success: function (result) {
                     if (result.code == "0") {
Index: src/main/resources/public/CM-dishAdd.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"renderer\" content=\"webkit\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\r\n    <meta name=\"viewport\"\r\n          content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\" />\r\n    <title>添加菜品信息</title>\r\n    <link rel=\"stylesheet\" type=\"text/css\"\r\n          href=\"assets/admin/layui/css/layui.css\" />\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/css/admin.css\" />\r\n</head>\r\n\r\n<body>\r\n<div class=\"page-content-wrap\" id=\"dishAdd\">\r\n\r\n    <form class=\"layui-form\" action=\"\" id=\"\">\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">菜品编号</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"dishid\" lay-verify=\"required|dishID\" placeholder=\"请输入菜品编号\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">食堂名称</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"dishname\" lay-verify=\"required|dishName\" placeholder=\"请输入菜品名称\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">菜品价格</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"price\" lay-verify=\"required|dishPrice\" placeholder=\"请输入菜品价格\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">促销价格</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"promoteprice\" lay-verify=\"required|promoterPrice\" placeholder=\"请输入促销菜品价格\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">菜系</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"dishstyle\" lay-verify=\"required|dishStyle\" placeholder=\"请输入菜系\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">所属食堂ID</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"canteenid\" lay-verify=\"required|canteenid\" placeholder=\"请输入所属食堂ID\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">简介</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"description\" lay-verify=\"required|description\" placeholder=\"请输入简介\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">图片文件名</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"imagefilename\" lay-verify=\"required|imagefileName\" placeholder=\"请输入图片文件名\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">是否推荐</label>\r\n            <div class=\"layui-input-block\">\r\n                <select name=\"ifrecommend\" lay-verify=\"required\">\r\n                    <option value=\"\">请选择</option>\r\n                    <option value=\"1\">是</option>\r\n                    <option value=\"0\">否</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item m-login-btn\" style=\"text-align:center\">\r\n            <div class=\"layui-inline\">\r\n                <button class=\"layui-btn layui-btn-normal\" lay-submit lay-filter=\"addCanteen\">添加菜品信息</button>\r\n            </div>\r\n            <div class=\"layui-inline\">\r\n                <button type=\"reset\" class=\"layui-btn layui-btn-primary site-demo-active\" data-type=\"reset\">取消添加</button>\r\n            </div>\r\n        </div>\r\n    </form>\r\n\r\n\r\n    <hr></hr>\r\n    <h5 style=\"text-align: center;\">@2023.食堂菜品管理系统</h5>\r\n</div>\r\n<script src=\"assets/admin/layui/layui.all.js\" type=\"text/javascript\"\r\n        charset=\"utf-8\"></script>\r\n<script>\r\n    layui.use(['form', 'layedit', 'laydate'], function(){\r\n        var form = layui.form\r\n            ,layer = layui.layer,layedit=layui.layedit;\r\n        var $ = layui.jquery;\r\n\r\n        //创建一个编辑器\r\n        var editIndex = layedit.build('LAY_demo_editor');\r\n        form.verify({\r\n            dishID: function(value) {\r\n                if (!/^\\d{3}$/.test(value)) {\r\n                    return '菜品编号必须为3位数字';\r\n                }\r\n            },\r\n            dishName: function(value) {\r\n                if (value.length < 2 || value.length > 20) {\r\n                    return '菜品名称长度必须为2-20个字符';\r\n                }\r\n            },\r\n            dishPrice: function(value) {\r\n                if (!/^\\d+(\\.\\d{1,2})?$/.test(value)) {\r\n                    return '菜品价格必须为数字，最多保留两位小数';\r\n                }\r\n            },\r\n            promoterPrice: function(value) {\r\n                if (!/^\\d+(\\.\\d{1,2})?$/.test(value)) {\r\n                    return '促销菜品价格必须为数字，最多保留两位小数';\r\n                }\r\n            },\r\n            dishStyle: function(value) {\r\n                if (value.length < 2 || value.length > 10) {\r\n                    return '菜系长度必须为2-10个字符';\r\n                }\r\n            },\r\n            canteenid: function(value) {\r\n                if (!/^\\d{3}$/.test(value)) {\r\n                    return '所属食堂ID必须为3位数字';\r\n                }\r\n            },\r\n            description: function(value) {\r\n                if (value.length < 10 || value.length > 100) {\r\n                    return '简介长度必须为10-100个字符';\r\n                }\r\n            },\r\n            imagefileName: function(value) {\r\n                if (!/^[a-zA-Z0-9]{1,10}\\.(jpg|jpeg|png)$/.test(value)) {\r\n                    return '图片文件名格式不正确，只允许使用字母、数字和点号，并且后缀只能为jpg、jpeg或png';\r\n                }\r\n            }\r\n        });\r\n\r\n        form.on('submit(addDish)', function(data) {\r\n            var str = JSON.stringify(data.field);\r\n            var param = JSON.parse(str);\r\n            $.ajax({\r\n                type: \"POST\",\r\n                dataType: \"json\",\r\n                url: \"/canteen/addCanteen\",\r\n                data: JSON.stringify(param),  // 将参数转为 JSON 字符串\r\n                contentType: \"application/json\",  // 设置请求头为 application/json\r\n                success: function(result) {\r\n                    if (result.code == \"0\") {\r\n                        var index = parent.layer.getFrameIndex(window.name);\r\n                        parent.layer.close(index);\r\n                        parent.layer.msg('添加菜品成功');\r\n                        parent.layui.table.reload('canteenTable', {\r\n                            page: {\r\n                                curr: 1\r\n                            }\r\n                        });\r\n                    } else {\r\n                        layer.msg(result.msg, {\r\n                            icon: 5\r\n                        });\r\n                    }\r\n                },\r\n                error: function(xhr, status, error) {  // 处理请求错误\r\n                    console.error(error);\r\n                }\r\n            });\r\n        });\r\n\r\n        var active = {\r\n            reset: function() {\r\n                var index = parent.layer.getFrameIndex(window.name);\r\n                parent.layer.close(index);\r\n                parent.layer.msg('已取消操作');\r\n            }\r\n        };\r\n\r\n        $('#dishAdd .layui-btn').on('click', function() {\r\n            var type = $(this).data('type');\r\n            active[type] ? active[type].call(this) : '';\r\n        });\r\n\r\n\r\n    });\r\n</script>\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/public/CM-dishAdd.html b/src/main/resources/public/CM-dishAdd.html
--- a/src/main/resources/public/CM-dishAdd.html	(revision 2acca4c0297436517a73e50fab3adf51b66ff569)
+++ b/src/main/resources/public/CM-dishAdd.html	(date 1703927847699)
@@ -24,7 +24,7 @@
             </div>
         </div>
         <div class="layui-form-item">
-            <label class="layui-form-label">食堂名称</label>
+            <label class="layui-form-label">菜品名称</label>
             <div class="layui-input-block">
                 <input type="text" name="dishname" lay-verify="required|dishName" placeholder="请输入菜品名称" autocomplete="off" class="layui-input">
             </div>
@@ -148,7 +148,7 @@
             $.ajax({
                 type: "POST",
                 dataType: "json",
-                url: "/canteen/addCanteen",
+                url: "/dish/addDish",
                 data: JSON.stringify(param),  // 将参数转为 JSON 字符串
                 contentType: "application/json",  // 设置请求头为 application/json
                 success: function(result) {
@@ -156,7 +156,7 @@
                         var index = parent.layer.getFrameIndex(window.name);
                         parent.layer.close(index);
                         parent.layer.msg('添加菜品成功');
-                        parent.layui.table.reload('canteenTable', {
+                        parent.layui.table.reload('dishTable', {
                             page: {
                                 curr: 1
                             }
Index: src/main/resources/public/CM-dish.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"renderer\" content=\"webkit\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\r\n    <meta name=\"viewport\"\r\n          content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\" />\r\n    <title>网站后台管理模版</title>\r\n    <link rel=\"stylesheet\" type=\"text/css\"\r\n          href=\"assets/admin/layui/css/layui.css\" />\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/css/admin.css\" />\r\n</head>\r\n\r\n<body>\r\n<div class=\"page-content-wrap\" id=\"dishSearch\">\r\n    <h5 style=\"text-align:center;font-size: 20px;line-height: 25px;color:#666\">菜品管理</h5>\r\n    <hr>\r\n    <div class=\"layui-form-item\">\r\n        <div class=\"layui-inline tool-btn\">\r\n            <button class=\"layui-btn layui-btn-small site-demo-active\"\r\n                    data-type=\"tabAdd\">\r\n                <i class=\"layui-icon\">&#xe654;</i>\r\n            </button>\r\n        </div>\r\n        <div class=\"layui-inline\">\r\n            <input type=\"text\" id=\"dishSearch\" placeholder=\"请输入菜品名称\"\r\n                   autocomplete=\"off\" class=\"layui-input\">\r\n        </div>\r\n        <button class=\"layui-btn layui-btn-normal site-demo-active\"\r\n                data-type=\"search\" id=\"searchdish\">搜索</button>\r\n        <table class=\"layui-table\"\r\n               lay-data=\"{ url:'/student/getAllStudent', page:true, id:'idTest'}\"\r\n               lay-filter=\"demo\">\r\n            <thead>\r\n            <tr>\r\n                <th lay-data=\"{type:'checkbox', }\"></th>\r\n                <th lay-data=\"{field:'dishid',sort: true}\">编号</th>\r\n                <th lay-data=\"{field:'dishname'}\">姓名</th>\r\n                <th lay-data=\"{field:'price'}\">价格</th>\r\n                <th lay-data=\"{field:'promoteprice'}\">促销价格</th>\r\n                <th lay-data=\"{field:'dishstyle'}\">菜系</th>\r\n                <th lay-data=\"{field:'canteenid'}\">所属食堂ID</th>\r\n                <th lay-data=\"{field:'description'}\">简介</th>\r\n                <th lay-data=\"{field:'imagefilename'}\">图片文件名</th>\r\n                <th lay-data=\"{field:'ifrecommend'}\">是否推荐</th>\r\n                <th\r\n                        lay-data=\"{fixed: 'right', width:220, align:'left', toolbar: '#barDemo'}\"></th>\r\n            </tr>\r\n            </thead>\r\n        </table>\r\n    </div>\r\n\r\n\r\n    <script type=\"text/html\" id=\"barDemo\">\r\n        <a class=\"layui-btn layui-btn-sm\" lay-event=\"edit\">编辑</a>\r\n        <a class=\"layui-btn layui-btn-danger layui-btn-sm\" lay-event=\"del\">删除</a>\r\n    </script>\r\n    <hr></hr>\r\n    <h5 style=\"text-align: center;\">@2023.菜品管理系统</h5>\r\n</div>\r\n<script src=\"assets/admin/layui/layui.all.js\" type=\"text/javascript\"\r\n        charset=\"utf-8\"></script>\r\n<script>\r\n    layui.use('table', function() {\r\n        var $ = layui.jquery\r\n        var table = layui.table;\r\n        //监听表格复选框选择\r\n        table.on('checkbox(demo)', function(obj) {\r\n            console.log(obj)\r\n        });\r\n        //监听工具条\r\n        table.on('tool(demo)', function(obj) {\r\n            var data = obj.data;\r\n            if (obj.event === 'del') {\r\n                layer.confirm('真的删除该食堂吗？', function(index) {\r\n                    var data = obj.data;\r\n                    $.ajax({\r\n                        //几个参数需要注意一下\r\n                        type: \"POST\",//方法类型\r\n                        dataType: \"json\",//预期服务器返回的数据类型\r\n                        url: \"/student/deleteStudent\",//url\r\n                        data: data,\r\n                        success: function (result) {\r\n                            if (result.code == \"0\") {\r\n                                layer.close(index);\r\n                                layer.msg('删除菜品成功');\r\n                                layui.table.reload('idTest',{page:{curr:1}});\r\n                            }else{\r\n                                layer.msg('删除菜品失败', {\r\n                                    icon: 5\r\n                                });\r\n                            }\r\n                        },\r\n                        error : function() {\r\n                            layer.msg('服务器错误', {\r\n                                icon: 5\r\n                            });\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            if (obj.event === 'edit') {\r\n                var editFrom = layui.layer.open({\r\n                    title : \"编辑菜品信息\",\r\n                    type : 2,\r\n                    content : \"/CM-dishEdit.html\",//弹出层页面\r\n                    area: ['800px', '400px'],\r\n                    success : function(layero, index){\r\n                        var body = layui.layer.getChildFrame('body', index);\r\n                        //获取窗口对象\r\n                        var iframeWindow = layero.find('iframe')[0].contentWindow;\r\n                        body.find(\"#dishid\").val(data.dishid);\r\n                        body.find(\"#dishname\").val(data.dishname);\r\n                        body.find(\"#price\").val(data.price);\r\n                        body.find(\"#promoteprice\").val(data.promoteprice);\r\n                        body.find(\"#dishstyle\").val(data.dishstyle);\r\n                        body.find(\"#canteenid\").val(data.canteenid);\r\n                        body.find(\"#description\").val(data.description);\r\n                        body.find(\"#imagefilename\").val(data.imagefilename);\r\n                        body.find(\"#ifrecommend\").val(data.ifrecommend);\r\n                        iframeWindow.layui.form.render();\r\n                        iframeWindow.layui.form.render('select');\r\n                    }});\r\n            }\r\n        });\r\n\r\n        //触发事件\r\n        var active = {\r\n            tabAdd : function() {\r\n\r\n                layer.open({\r\n                    type: 2,\r\n                    title: '添加菜品信息',\r\n                    shadeClose: true,\r\n                    shade: false,\r\n                    /*    maxmin: true,  *///开启最大化最小化按钮\r\n                    area: ['800px', '400px'],\r\n                    content: '/CM-dishAdd.html'\r\n                });\r\n\r\n            },search:function(){\r\n                var name=$(\"#dishSearch\").val();\r\n                table.reload('idTest',{\r\n                    method: 'POST'\r\n                    , where: {\"canteenName\":name},page: {\r\n                        curr: 1 //重新从第 1 页开始\r\n                    }\r\n\r\n                })\r\n            }\r\n        };\r\n\r\n        $('#dishSearch .layui-btn').on('click', function() {\r\n            var type = $(this).data('type');\r\n            active[type] ? active[type].call(this) : '';\r\n        });\r\n\r\n    });\r\n</script>\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/public/CM-dish.html b/src/main/resources/public/CM-dish.html
--- a/src/main/resources/public/CM-dish.html	(revision 2acca4c0297436517a73e50fab3adf51b66ff569)
+++ b/src/main/resources/public/CM-dish.html	(date 1703927507415)
@@ -31,7 +31,7 @@
         <button class="layui-btn layui-btn-normal site-demo-active"
                 data-type="search" id="searchdish">搜索</button>
         <table class="layui-table"
-               lay-data="{ url:'/student/getAllStudent', page:true, id:'idTest'}"
+               lay-data="{ url:'/dish/getAllDishes', page:true, id:'idTest'}"
                lay-filter="demo">
             <thead>
             <tr>
@@ -45,8 +45,7 @@
                 <th lay-data="{field:'description'}">简介</th>
                 <th lay-data="{field:'imagefilename'}">图片文件名</th>
                 <th lay-data="{field:'ifrecommend'}">是否推荐</th>
-                <th
-                        lay-data="{fixed: 'right', width:220, align:'left', toolbar: '#barDemo'}"></th>
+                <th lay-data="{fixed: 'right', width:220, align:'left', toolbar: '#barDemo'}"></th>
             </tr>
             </thead>
         </table>
@@ -74,13 +73,13 @@
         table.on('tool(demo)', function(obj) {
             var data = obj.data;
             if (obj.event === 'del') {
-                layer.confirm('真的删除该食堂吗？', function(index) {
+                layer.confirm('真的删除该菜品吗？', function(index) {
                     var data = obj.data;
                     $.ajax({
                         //几个参数需要注意一下
                         type: "POST",//方法类型
                         dataType: "json",//预期服务器返回的数据类型
-                        url: "/student/deleteStudent",//url
+                        url: "/dish/deleteDish",//url
                         data: data,
                         success: function (result) {
                             if (result.code == "0") {
Index: target/classes/mapper/PostlikesMapper.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<!DOCTYPE mapper PUBLIC \"-//mybatis.org//DTD Mapper 3.0//EN\" \"http://mybatis.org/dtd/mybatis-3-mapper.dtd\">\r\n<mapper namespace=\"com.canteen.dao.PostlikesMapper\">\r\n  <resultMap id=\"BaseResultMap\" type=\"com.canteen.bean.Postlikes\">\r\n    <!--\r\n      WARNING - @mbg.generated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n    -->\r\n    <id column=\"LikeID\" jdbcType=\"INTEGER\" property=\"likeid\" />\r\n    <result column=\"PostID\" jdbcType=\"INTEGER\" property=\"postid\" />\r\n    <result column=\"UserID\" jdbcType=\"INTEGER\" property=\"userid\" />\r\n  </resultMap>\r\n  <sql id=\"Example_Where_Clause\">\r\n    <!--\r\n      WARNING - @mbg.generated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n    -->\r\n    <where>\r\n      <foreach collection=\"oredCriteria\" item=\"criteria\" separator=\"or\">\r\n        <if test=\"criteria.valid\">\r\n          <trim prefix=\"(\" prefixOverrides=\"and\" suffix=\")\">\r\n            <foreach collection=\"criteria.criteria\" item=\"criterion\">\r\n              <choose>\r\n                <when test=\"criterion.noValue\">\r\n                  and ${criterion.condition}\r\n                </when>\r\n                <when test=\"criterion.singleValue\">\r\n                  and ${criterion.condition} #{criterion.value}\r\n                </when>\r\n                <when test=\"criterion.betweenValue\">\r\n                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}\r\n                </when>\r\n                <when test=\"criterion.listValue\">\r\n                  and ${criterion.condition}\r\n                  <foreach close=\")\" collection=\"criterion.value\" item=\"listItem\" open=\"(\" separator=\",\">\r\n                    #{listItem}\r\n                  </foreach>\r\n                </when>\r\n              </choose>\r\n            </foreach>\r\n          </trim>\r\n        </if>\r\n      </foreach>\r\n    </where>\r\n  </sql>\r\n  <sql id=\"Update_By_Example_Where_Clause\">\r\n    <!--\r\n      WARNING - @mbg.generated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n    -->\r\n    <where>\r\n      <foreach collection=\"example.oredCriteria\" item=\"criteria\" separator=\"or\">\r\n        <if test=\"criteria.valid\">\r\n          <trim prefix=\"(\" prefixOverrides=\"and\" suffix=\")\">\r\n            <foreach collection=\"criteria.criteria\" item=\"criterion\">\r\n              <choose>\r\n                <when test=\"criterion.noValue\">\r\n                  and ${criterion.condition}\r\n                </when>\r\n                <when test=\"criterion.singleValue\">\r\n                  and ${criterion.condition} #{criterion.value}\r\n                </when>\r\n                <when test=\"criterion.betweenValue\">\r\n                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}\r\n                </when>\r\n                <when test=\"criterion.listValue\">\r\n                  and ${criterion.condition}\r\n                  <foreach close=\")\" collection=\"criterion.value\" item=\"listItem\" open=\"(\" separator=\",\">\r\n                    #{listItem}\r\n                  </foreach>\r\n                </when>\r\n              </choose>\r\n            </foreach>\r\n          </trim>\r\n        </if>\r\n      </foreach>\r\n    </where>\r\n  </sql>\r\n  <sql id=\"Base_Column_List\">\r\n    <!--\r\n      WARNING - @mbg.generated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n    -->\r\n    LikeID, PostID, UserID\r\n  </sql>\r\n  <select id=\"selectByExample\" parameterType=\"com.canteen.bean.PostlikesExample\" resultMap=\"BaseResultMap\">\r\n    <!--\r\n      WARNING - @mbg.generated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n    -->\r\n    select\r\n    <if test=\"distinct\">\r\n      distinct\r\n    </if>\r\n    <include refid=\"Base_Column_List\" />\r\n    from PostLikes\r\n    <if test=\"_parameter != null\">\r\n      <include refid=\"Example_Where_Clause\" />\r\n    </if>\r\n    <if test=\"orderByClause != null\">\r\n      order by ${orderByClause}\r\n    </if>\r\n  </select>\r\n  <select id=\"selectByPrimaryKey\" parameterType=\"java.lang.Integer\" resultMap=\"BaseResultMap\">\r\n    <!--\r\n      WARNING - @mbg.generated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n    -->\r\n    select \r\n    <include refid=\"Base_Column_List\" />\r\n    from PostLikes\r\n    where LikeID = #{likeid,jdbcType=INTEGER}\r\n  </select>\r\n  <delete id=\"deleteByPrimaryKey\" parameterType=\"java.lang.Integer\">\r\n    <!--\r\n      WARNING - @mbg.generated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n    -->\r\n    delete from PostLikes\r\n    where LikeID = #{likeid,jdbcType=INTEGER}\r\n  </delete>\r\n  <delete id=\"deleteByExample\" parameterType=\"com.canteen.bean.PostlikesExample\">\r\n    <!--\r\n      WARNING - @mbg.generated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n    -->\r\n    delete from PostLikes\r\n    <if test=\"_parameter != null\">\r\n      <include refid=\"Example_Where_Clause\" />\r\n    </if>\r\n  </delete>\r\n  <insert id=\"insert\" parameterType=\"com.canteen.bean.Postlikes\">\r\n    <!--\r\n      WARNING - @mbg.generated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n    -->\r\n    insert into PostLikes (LikeID, PostID, UserID\r\n      )\r\n    values (#{likeid,jdbcType=INTEGER}, #{postid,jdbcType=INTEGER}, #{userid,jdbcType=INTEGER}\r\n      )\r\n  </insert>\r\n  <insert id=\"insertSelective\" parameterType=\"com.canteen.bean.Postlikes\">\r\n    <!--\r\n      WARNING - @mbg.generated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n    -->\r\n    insert into PostLikes\r\n    <trim prefix=\"(\" suffix=\")\" suffixOverrides=\",\">\r\n      <if test=\"likeid != null\">\r\n        LikeID,\r\n      </if>\r\n      <if test=\"postid != null\">\r\n        PostID,\r\n      </if>\r\n      <if test=\"userid != null\">\r\n        UserID,\r\n      </if>\r\n    </trim>\r\n    <trim prefix=\"values (\" suffix=\")\" suffixOverrides=\",\">\r\n      <if test=\"likeid != null\">\r\n        #{likeid,jdbcType=INTEGER},\r\n      </if>\r\n      <if test=\"postid != null\">\r\n        #{postid,jdbcType=INTEGER},\r\n      </if>\r\n      <if test=\"userid != null\">\r\n        #{userid,jdbcType=INTEGER},\r\n      </if>\r\n    </trim>\r\n  </insert>\r\n  <select id=\"countByExample\" parameterType=\"com.canteen.bean.PostlikesExample\" resultType=\"java.lang.Long\">\r\n    <!--\r\n      WARNING - @mbg.generated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n    -->\r\n    select count(*) from PostLikes\r\n    <if test=\"_parameter != null\">\r\n      <include refid=\"Example_Where_Clause\" />\r\n    </if>\r\n  </select>\r\n  <update id=\"updateByExampleSelective\" parameterType=\"map\">\r\n    <!--\r\n      WARNING - @mbg.generated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n    -->\r\n    update PostLikes\r\n    <set>\r\n      <if test=\"record.likeid != null\">\r\n        LikeID = #{record.likeid,jdbcType=INTEGER},\r\n      </if>\r\n      <if test=\"record.postid != null\">\r\n        PostID = #{record.postid,jdbcType=INTEGER},\r\n      </if>\r\n      <if test=\"record.userid != null\">\r\n        UserID = #{record.userid,jdbcType=INTEGER},\r\n      </if>\r\n    </set>\r\n    <if test=\"_parameter != null\">\r\n      <include refid=\"Update_By_Example_Where_Clause\" />\r\n    </if>\r\n  </update>\r\n  <update id=\"updateByExample\" parameterType=\"map\">\r\n    <!--\r\n      WARNING - @mbg.generated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n    -->\r\n    update PostLikes\r\n    set LikeID = #{record.likeid,jdbcType=INTEGER},\r\n      PostID = #{record.postid,jdbcType=INTEGER},\r\n      UserID = #{record.userid,jdbcType=INTEGER}\r\n    <if test=\"_parameter != null\">\r\n      <include refid=\"Update_By_Example_Where_Clause\" />\r\n    </if>\r\n  </update>\r\n  <update id=\"updateByPrimaryKeySelective\" parameterType=\"com.canteen.bean.Postlikes\">\r\n    <!--\r\n      WARNING - @mbg.generated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n    -->\r\n    update PostLikes\r\n    <set>\r\n      <if test=\"postid != null\">\r\n        PostID = #{postid,jdbcType=INTEGER},\r\n      </if>\r\n      <if test=\"userid != null\">\r\n        UserID = #{userid,jdbcType=INTEGER},\r\n      </if>\r\n    </set>\r\n    where LikeID = #{likeid,jdbcType=INTEGER}\r\n  </update>\r\n  <update id=\"updateByPrimaryKey\" parameterType=\"com.canteen.bean.Postlikes\">\r\n    <!--\r\n      WARNING - @mbg.generated\r\n      This element is automatically generated by MyBatis Generator, do not modify.\r\n    -->\r\n    update PostLikes\r\n    set PostID = #{postid,jdbcType=INTEGER},\r\n      UserID = #{userid,jdbcType=INTEGER}\r\n    where LikeID = #{likeid,jdbcType=INTEGER}\r\n  </update>\r\n</mapper>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/mapper/PostlikesMapper.xml b/target/classes/mapper/PostlikesMapper.xml
--- a/target/classes/mapper/PostlikesMapper.xml	(revision 2acca4c0297436517a73e50fab3adf51b66ff569)
+++ b/target/classes/mapper/PostlikesMapper.xml	(date 1704536662571)
@@ -6,7 +6,7 @@
       WARNING - @mbg.generated
       This element is automatically generated by MyBatis Generator, do not modify.
     -->
-    <id column="LikeID" jdbcType="INTEGER" property="likeid" />
+    <id column="LikeID" jdbcType="INTEGER" property="likeid"  />
     <result column="PostID" jdbcType="INTEGER" property="postid" />
     <result column="UserID" jdbcType="INTEGER" property="userid" />
   </resultMap>
@@ -129,14 +129,14 @@
       <include refid="Example_Where_Clause" />
     </if>
   </delete>
-  <insert id="insert" parameterType="com.canteen.bean.Postlikes">
+  <insert id="insert" parameterType="com.canteen.bean.Postlikes" useGeneratedKeys="true" keyProperty="likeid">
     <!--
       WARNING - @mbg.generated
       This element is automatically generated by MyBatis Generator, do not modify.
     -->
-    insert into PostLikes (LikeID, PostID, UserID
+    insert into PostLikes (PostID, UserID
       )
-    values (#{likeid,jdbcType=INTEGER}, #{postid,jdbcType=INTEGER}, #{userid,jdbcType=INTEGER}
+    values (#{postid,jdbcType=INTEGER}, #{userid,jdbcType=INTEGER}
       )
   </insert>
   <insert id="insertSelective" parameterType="com.canteen.bean.Postlikes">
Index: target/classes/public/CM-dishEdit.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"renderer\" content=\"webkit\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\r\n    <meta name=\"viewport\"\r\n          content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\" />\r\n    <title>编辑菜品</title>\r\n    <link rel=\"stylesheet\" type=\"text/css\"\r\n          href=\"assets/admin/layui/css/layui.css\" />\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/css/admin.css\" />\r\n</head>\r\n\r\n<body>\r\n<div class=\"page-content-wrap\" id=\"dishUpdate\">\r\n\r\n    <form class=\"layui-form\" action=\"\" id=\"\">\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">菜品编号</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"dishid\" id=\"dishid\" lay-verify=\"required|dishID\"\r\n                       placeholder=\"请输入菜品编号\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">名称</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"dishname\" id=\"dishname\" lay-verify=\"required|dishName\"\r\n                       placeholder=\"请输入菜品名称\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">价格</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"price\" id=\"price\" lay-verify=\"required|dishPrice\"\r\n                       placeholder=\"请输入菜品名称\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">促销价格</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"promoteprice\" id=\"promoteprice\" lay-verify=\"required|promoterPrice\"\r\n                       placeholder=\"请输入促销价格\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">菜系</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"dishstyle\" id=\"dishstyle\" lay-verify=\"required|dishStyle\"\r\n                       placeholder=\"请输入菜系\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">所属食堂ID</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"canteenid\" id=\"canteenid\" lay-verify=\"required|canteenid\"\r\n                       placeholder=\"请输入所属食堂ID\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">简介</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"description\" id=\"description\" lay-verify=\"required|description\"\r\n                       placeholder=\"请输入简介\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">图片文件名</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"imagefilename\" id=\"imagefilename\" lay-verify=\"required|imagefileName\"\r\n                       placeholder=\"请输入图片文件名\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"layui-form-item m-login-btn\" style=\"text-align:center\">\r\n            <div class=\"layui-inline\">\r\n                <button class=\"layui-btn layui-btn-normal\" lay-submit lay-filter=\"updateScore\">修改成绩</button>\r\n            </div>\r\n            <div class=\"layui-inline\">\r\n                <button type=\"reset\" class=\"layui-btn layui-btn-primary  site-demo-active\"\r\n                        data-type=\"reset\">取消添加</button>\r\n            </div>\r\n        </div>\r\n    </form>\r\n\r\n    <hr></hr>\r\n    <h5 style=\"text-align: center;\">@2023.食堂菜品管理系统</h5>\r\n</div>\r\n<script src=\"assets/admin/layui/layui.all.js\" type=\"text/javascript\"\r\n        charset=\"utf-8\"></script>\r\n<script>\r\n    layui.use(['form', 'layedit', 'laydate'], function(){\r\n        var form = layui.form\r\n            ,layer = layui.layer,layedit=layui.layedit;\r\n        var $ = layui.jquery;\r\n\r\n        //创建一个编辑器\r\n        var editIndex = layedit.build('LAY_demo_editor');\r\n        form.verify({\r\n            dishID: function(value) {\r\n                if (!/^\\d{3}$/.test(value)) {\r\n                    return '菜品编号必须为3位数字';\r\n                }\r\n            },\r\n            dishName: function(value) {\r\n                if (value.length < 2 || value.length > 20) {\r\n                    return '菜品名称长度必须为2-20个字符';\r\n                }\r\n            },\r\n            dishPrice: function(value) {\r\n                if (!/^\\d+(\\.\\d{1,2})?$/.test(value)) {\r\n                    return '菜品价格必须为数字，最多保留两位小数';\r\n                }\r\n            },\r\n            promoterPrice: function(value) {\r\n                if (!/^\\d+(\\.\\d{1,2})?$/.test(value)) {\r\n                    return '促销菜品价格必须为数字，最多保留两位小数';\r\n                }\r\n            },\r\n            dishStyle: function(value) {\r\n                if (value.length < 2 || value.length > 10) {\r\n                    return '菜系长度必须为2-10个字符';\r\n                }\r\n            },\r\n            canteenid: function(value) {\r\n                if (!/^\\d{3}$/.test(value)) {\r\n                    return '所属食堂ID必须为3位数字';\r\n                }\r\n            },\r\n            description: function(value) {\r\n                if (value.length < 10 || value.length > 100) {\r\n                    return '简介长度必须为10-100个字符';\r\n                }\r\n            },\r\n            imagefileName: function(value) {\r\n                if (!/^[a-zA-Z0-9]{1,10}\\.(jpg|jpeg|png)$/.test(value)) {\r\n                    return '图片文件名格式不正确，只允许使用字母、数字和点号，并且后缀只能为jpg、jpeg或png';\r\n                }\r\n            }\r\n        });\r\n        form.on('submit(updateDish)', function(data){\r\n            var str=JSON.stringify(data.field)\r\n            var param = JSON.parse(str);\r\n            $.ajax({\r\n                //几个参数需要注意一下\r\n                type: \"POST\",//方法类型\r\n                dataType: \"json\",//预期服务器返回的数据类型\r\n                url: \"/score/updateScore\",//url\r\n                data: param,\r\n                success: function (result) {\r\n                    if (result.code == \"0\") {\r\n                        var index = parent.layer.getFrameIndex(window.name); //先得到当前iframe层的索引\r\n                        parent.layer.close(index);\r\n                        parent.layer.msg('修改菜品成功');\r\n                        parent.layui.table.reload('scoreTest',{page:{curr:1}});\r\n                    }else{\r\n                        layer.msg('修改菜品失败', {\r\n                            icon: 5\r\n                        });\r\n                    }\r\n                },\r\n                error : function() {\r\n                    layer.msg('服务器错误', {\r\n                        icon: 5\r\n                    });\r\n                }\r\n            });\r\n\r\n            return false;\r\n        });\r\n        //触发事件\r\n        var active = {\r\n            reset : function() {\r\n                var index = parent.layer.getFrameIndex(window.name); //先得到当前iframe层的索引\r\n                parent.layer.close(index);\r\n                parent.layer.msg('已取消操作');\r\n            }\r\n        };\r\n        $('#dishUpdate .layui-btn').on('click', function() {\r\n            var type = $(this).data('type');\r\n            active[type] ? active[type].call(this) : '';\r\n        });\r\n\r\n    });\r\n</script>\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/public/CM-dishEdit.html b/target/classes/public/CM-dishEdit.html
--- a/target/classes/public/CM-dishEdit.html	(revision 2acca4c0297436517a73e50fab3adf51b66ff569)
+++ b/target/classes/public/CM-dishEdit.html	(date 1703927106815)
@@ -81,9 +81,20 @@
             </div>
         </div>
 
+        <div class="layui-form-item">
+            <label class="layui-form-label">是否推荐</label>
+            <div class="layui-input-block">
+                <select name="ifrecommend" lay-verify="required">
+                    <option value="">请选择</option>
+                    <option value="1">是</option>
+                    <option value="0">否</option>
+                </select>
+            </div>
+        </div>
+
         <div class="layui-form-item m-login-btn" style="text-align:center">
             <div class="layui-inline">
-                <button class="layui-btn layui-btn-normal" lay-submit lay-filter="updateScore">修改成绩</button>
+                <button class="layui-btn layui-btn-normal" lay-submit lay-filter="updateScore">修改菜品信息</button>
             </div>
             <div class="layui-inline">
                 <button type="reset" class="layui-btn layui-btn-primary  site-demo-active"
@@ -154,7 +165,7 @@
                 //几个参数需要注意一下
                 type: "POST",//方法类型
                 dataType: "json",//预期服务器返回的数据类型
-                url: "/score/updateScore",//url
+                url: "/dish/updateDish",//url
                 data: param,
                 success: function (result) {
                     if (result.code == "0") {
Index: target/classes/public/CM-dishAdd.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"renderer\" content=\"webkit\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\r\n    <meta name=\"viewport\"\r\n          content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\" />\r\n    <title>添加菜品信息</title>\r\n    <link rel=\"stylesheet\" type=\"text/css\"\r\n          href=\"assets/admin/layui/css/layui.css\" />\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/css/admin.css\" />\r\n</head>\r\n\r\n<body>\r\n<div class=\"page-content-wrap\" id=\"dishAdd\">\r\n\r\n    <form class=\"layui-form\" action=\"\" id=\"\">\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">菜品编号</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"dishid\" lay-verify=\"required|dishID\" placeholder=\"请输入菜品编号\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">食堂名称</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"dishname\" lay-verify=\"required|dishName\" placeholder=\"请输入菜品名称\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">菜品价格</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"price\" lay-verify=\"required|dishPrice\" placeholder=\"请输入菜品价格\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">促销价格</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"promoteprice\" lay-verify=\"required|promoterPrice\" placeholder=\"请输入促销菜品价格\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">菜系</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"dishstyle\" lay-verify=\"required|dishStyle\" placeholder=\"请输入菜系\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">所属食堂ID</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"canteenid\" lay-verify=\"required|canteenid\" placeholder=\"请输入所属食堂ID\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">简介</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"description\" lay-verify=\"required|description\" placeholder=\"请输入简介\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">图片文件名</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"imagefilename\" lay-verify=\"required|imagefileName\" placeholder=\"请输入图片文件名\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item m-login-btn\" style=\"text-align:center\">\r\n            <div class=\"layui-inline\">\r\n                <button class=\"layui-btn layui-btn-normal\" lay-submit lay-filter=\"addCanteen\">添加食堂信息</button>\r\n            </div>\r\n            <div class=\"layui-inline\">\r\n                <button type=\"reset\" class=\"layui-btn layui-btn-primary site-demo-active\" data-type=\"reset\">取消添加</button>\r\n            </div>\r\n        </div>\r\n    </form>\r\n\r\n\r\n    <hr></hr>\r\n    <h5 style=\"text-align: center;\">@2023.食堂菜品管理系统</h5>\r\n</div>\r\n<script src=\"assets/admin/layui/layui.all.js\" type=\"text/javascript\"\r\n        charset=\"utf-8\"></script>\r\n<script>\r\n    layui.use(['form', 'layedit', 'laydate'], function(){\r\n        var form = layui.form\r\n            ,layer = layui.layer,layedit=layui.layedit;\r\n        var $ = layui.jquery;\r\n\r\n        //创建一个编辑器\r\n        var editIndex = layedit.build('LAY_demo_editor');\r\n        form.verify({\r\n            dishID: function(value) {\r\n                if (!/^\\d{3}$/.test(value)) {\r\n                    return '菜品编号必须为3位数字';\r\n                }\r\n            },\r\n            dishName: function(value) {\r\n                if (value.length < 2 || value.length > 20) {\r\n                    return '菜品名称长度必须为2-20个字符';\r\n                }\r\n            },\r\n            dishPrice: function(value) {\r\n                if (!/^\\d+(\\.\\d{1,2})?$/.test(value)) {\r\n                    return '菜品价格必须为数字，最多保留两位小数';\r\n                }\r\n            },\r\n            promoterPrice: function(value) {\r\n                if (!/^\\d+(\\.\\d{1,2})?$/.test(value)) {\r\n                    return '促销菜品价格必须为数字，最多保留两位小数';\r\n                }\r\n            },\r\n            dishStyle: function(value) {\r\n                if (value.length < 2 || value.length > 10) {\r\n                    return '菜系长度必须为2-10个字符';\r\n                }\r\n            },\r\n            canteenid: function(value) {\r\n                if (!/^\\d{3}$/.test(value)) {\r\n                    return '所属食堂ID必须为3位数字';\r\n                }\r\n            },\r\n            description: function(value) {\r\n                if (value.length < 10 || value.length > 100) {\r\n                    return '简介长度必须为10-100个字符';\r\n                }\r\n            },\r\n            imagefileName: function(value) {\r\n                if (!/^[a-zA-Z0-9]{1,10}\\.(jpg|jpeg|png)$/.test(value)) {\r\n                    return '图片文件名格式不正确，只允许使用字母、数字和点号，并且后缀只能为jpg、jpeg或png';\r\n                }\r\n            }\r\n        });\r\n\r\n        form.on('submit(addDish)', function(data) {\r\n            var str = JSON.stringify(data.field);\r\n            var param = JSON.parse(str);\r\n            $.ajax({\r\n                type: \"POST\",\r\n                dataType: \"json\",\r\n                url: \"/canteen/addCanteen\",\r\n                data: JSON.stringify(param),  // 将参数转为 JSON 字符串\r\n                contentType: \"application/json\",  // 设置请求头为 application/json\r\n                success: function(result) {\r\n                    if (result.code == \"0\") {\r\n                        var index = parent.layer.getFrameIndex(window.name);\r\n                        parent.layer.close(index);\r\n                        parent.layer.msg('添加菜品成功');\r\n                        parent.layui.table.reload('canteenTable', {\r\n                            page: {\r\n                                curr: 1\r\n                            }\r\n                        });\r\n                    } else {\r\n                        layer.msg(result.msg, {\r\n                            icon: 5\r\n                        });\r\n                    }\r\n                },\r\n                error: function(xhr, status, error) {  // 处理请求错误\r\n                    console.error(error);\r\n                }\r\n            });\r\n        });\r\n\r\n        var active = {\r\n            reset: function() {\r\n                var index = parent.layer.getFrameIndex(window.name);\r\n                parent.layer.close(index);\r\n                parent.layer.msg('已取消操作');\r\n            }\r\n        };\r\n\r\n        $('#dishAdd .layui-btn').on('click', function() {\r\n            var type = $(this).data('type');\r\n            active[type] ? active[type].call(this) : '';\r\n        });\r\n\r\n\r\n    });\r\n</script>\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/public/CM-dishAdd.html b/target/classes/public/CM-dishAdd.html
--- a/target/classes/public/CM-dishAdd.html	(revision 2acca4c0297436517a73e50fab3adf51b66ff569)
+++ b/target/classes/public/CM-dishAdd.html	(date 1703927847699)
@@ -24,7 +24,7 @@
             </div>
         </div>
         <div class="layui-form-item">
-            <label class="layui-form-label">食堂名称</label>
+            <label class="layui-form-label">菜品名称</label>
             <div class="layui-input-block">
                 <input type="text" name="dishname" lay-verify="required|dishName" placeholder="请输入菜品名称" autocomplete="off" class="layui-input">
             </div>
@@ -63,11 +63,21 @@
             <label class="layui-form-label">图片文件名</label>
             <div class="layui-input-block">
                 <input type="text" name="imagefilename" lay-verify="required|imagefileName" placeholder="请输入图片文件名" autocomplete="off" class="layui-input">
+            </div>
+        </div>
+        <div class="layui-form-item">
+            <label class="layui-form-label">是否推荐</label>
+            <div class="layui-input-block">
+                <select name="ifrecommend" lay-verify="required">
+                    <option value="">请选择</option>
+                    <option value="1">是</option>
+                    <option value="0">否</option>
+                </select>
             </div>
         </div>
         <div class="layui-form-item m-login-btn" style="text-align:center">
             <div class="layui-inline">
-                <button class="layui-btn layui-btn-normal" lay-submit lay-filter="addCanteen">添加食堂信息</button>
+                <button class="layui-btn layui-btn-normal" lay-submit lay-filter="addCanteen">添加菜品信息</button>
             </div>
             <div class="layui-inline">
                 <button type="reset" class="layui-btn layui-btn-primary site-demo-active" data-type="reset">取消添加</button>
@@ -138,7 +148,7 @@
             $.ajax({
                 type: "POST",
                 dataType: "json",
-                url: "/canteen/addCanteen",
+                url: "/dish/addDish",
                 data: JSON.stringify(param),  // 将参数转为 JSON 字符串
                 contentType: "application/json",  // 设置请求头为 application/json
                 success: function(result) {
@@ -146,7 +156,7 @@
                         var index = parent.layer.getFrameIndex(window.name);
                         parent.layer.close(index);
                         parent.layer.msg('添加菜品成功');
-                        parent.layui.table.reload('canteenTable', {
+                        parent.layui.table.reload('dishTable', {
                             page: {
                                 curr: 1
                             }
Index: target/classes/public/CM-dish.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"renderer\" content=\"webkit\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\r\n    <meta name=\"viewport\"\r\n          content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\" />\r\n    <title>网站后台管理模版</title>\r\n    <link rel=\"stylesheet\" type=\"text/css\"\r\n          href=\"assets/admin/layui/css/layui.css\" />\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/css/admin.css\" />\r\n</head>\r\n\r\n<body>\r\n<div class=\"page-content-wrap\" id=\"canteenSearch\">\r\n    <h5 style=\"text-align:center;font-size: 20px;line-height: 25px;color:#666\">菜品管理</h5>\r\n    <hr>\r\n    <div class=\"layui-form-item\">\r\n        <div class=\"layui-inline tool-btn\">\r\n            <button class=\"layui-btn layui-btn-small site-demo-active\"\r\n                    data-type=\"tabAdd\">\r\n                <i class=\"layui-icon\">&#xe654;</i>\r\n            </button>\r\n        </div>\r\n        <div class=\"layui-inline\">\r\n            <input type=\"text\" id=\"dishSearch\" placeholder=\"请输入菜品名称\"\r\n                   autocomplete=\"off\" class=\"layui-input\">\r\n        </div>\r\n        <button class=\"layui-btn layui-btn-normal site-demo-active\"\r\n                data-type=\"search\" id=\"searchdish\">搜索</button>\r\n        <table class=\"layui-table\"\r\n               lay-data=\"{ url:'/student/getAllStudent', page:true, id:'idTest'}\"\r\n               lay-filter=\"demo\">\r\n            <thead>\r\n            <tr>\r\n                <th lay-data=\"{type:'checkbox', }\"></th>\r\n                <th lay-data=\"{field:'dishid',sort: true}\">编号</th>\r\n                <th lay-data=\"{field:'dishname'}\">姓名</th>\r\n                <th lay-data=\"{field:'price'}\">价格</th>\r\n                <th lay-data=\"{field:'promoteprice'}\">促销价格</th>\r\n                <th lay-data=\"{field:'dishstyle'}\">菜系</th>\r\n                <th lay-data=\"{field:'canteenid'}\">所属食堂ID</th>\r\n                <th lay-data=\"{field:'description'}\">简介</th>\r\n                <th lay-data=\"{field:'imagefilename'}\">图片文件名</th>\r\n                <th\r\n                        lay-data=\"{fixed: 'right', width:220, align:'left', toolbar: '#barDemo'}\"></th>\r\n            </tr>\r\n            </thead>\r\n        </table>\r\n    </div>\r\n\r\n\r\n    <script type=\"text/html\" id=\"barDemo\">\r\n        <a class=\"layui-btn layui-btn-sm\" lay-event=\"edit\">编辑</a>\r\n        <a class=\"layui-btn layui-btn-danger layui-btn-sm\" lay-event=\"del\">删除</a>\r\n    </script>\r\n    <hr></hr>\r\n    <h5 style=\"text-align: center;\">@2023.菜品管理系统</h5>\r\n</div>\r\n<script src=\"assets/admin/layui/layui.all.js\" type=\"text/javascript\"\r\n        charset=\"utf-8\"></script>\r\n<script>\r\n    layui.use('table', function() {\r\n        var $ = layui.jquery\r\n        var table = layui.table;\r\n        //监听表格复选框选择\r\n        table.on('checkbox(demo)', function(obj) {\r\n            console.log(obj)\r\n        });\r\n        //监听工具条\r\n        table.on('tool(demo)', function(obj) {\r\n            var data = obj.data;\r\n            if (obj.event === 'del') {\r\n                layer.confirm('真的删除该食堂吗？', function(index) {\r\n                    var data = obj.data;\r\n                    $.ajax({\r\n                        //几个参数需要注意一下\r\n                        type: \"POST\",//方法类型\r\n                        dataType: \"json\",//预期服务器返回的数据类型\r\n                        url: \"/student/deleteStudent\",//url\r\n                        data: data,\r\n                        success: function (result) {\r\n                            if (result.code == \"0\") {\r\n                                layer.close(index);\r\n                                layer.msg('删除菜品成功');\r\n                                layui.table.reload('idTest',{page:{curr:1}});\r\n                            }else{\r\n                                layer.msg('删除菜品失败', {\r\n                                    icon: 5\r\n                                });\r\n                            }\r\n                        },\r\n                        error : function() {\r\n                            layer.msg('服务器错误', {\r\n                                icon: 5\r\n                            });\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            if (obj.event === 'edit') {\r\n                var editFrom = layui.layer.open({\r\n                    title : \"编辑菜品信息\",\r\n                    type : 2,\r\n                    content : \"/CM-dishEdit.html\",//弹出层页面\r\n                    area: ['800px', '400px'],\r\n                    success : function(layero, index){\r\n                        var body = layui.layer.getChildFrame('body', index);\r\n                        //获取窗口对象\r\n                        var iframeWindow = layero.find('iframe')[0].contentWindow;\r\n                        body.find(\"#studentNo\").val(data.studentNo);\r\n                        body.find(\"#studentName\").val(data.studentName);\r\n                        body.find(\".studentSex option[value=\"+data.studentSex+\"]\").attr(\"selected\",\"selected\");\r\n                        iframeWindow.layui.form.render();\r\n                        iframeWindow.layui.form.render('select');\r\n                    }});\r\n            }\r\n        });\r\n\r\n        //触发事件\r\n        var active = {\r\n            tabAdd : function() {\r\n\r\n                layer.open({\r\n                    type: 2,\r\n                    title: '添加菜品信息',\r\n                    shadeClose: true,\r\n                    shade: false,\r\n                    /*    maxmin: true,  *///开启最大化最小化按钮\r\n                    area: ['800px', '400px'],\r\n                    content: '/CM-dishAdd.html'\r\n                });\r\n\r\n            },search:function(){\r\n                var name=$(\"#canteenNameSearch\").val();\r\n                table.reload('idTest',{\r\n                    method: 'POST'\r\n                    , where: {\"canteenName\":name},page: {\r\n                        curr: 1 //重新从第 1 页开始\r\n                    }\r\n\r\n                })\r\n            }\r\n        };\r\n\r\n        $('#canteenSearch .layui-btn').on('click', function() {\r\n            var type = $(this).data('type');\r\n            active[type] ? active[type].call(this) : '';\r\n        });\r\n\r\n    });\r\n</script>\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/public/CM-dish.html b/target/classes/public/CM-dish.html
--- a/target/classes/public/CM-dish.html	(revision 2acca4c0297436517a73e50fab3adf51b66ff569)
+++ b/target/classes/public/CM-dish.html	(date 1703927507415)
@@ -14,7 +14,7 @@
 </head>
 
 <body>
-<div class="page-content-wrap" id="canteenSearch">
+<div class="page-content-wrap" id="dishSearch">
     <h5 style="text-align:center;font-size: 20px;line-height: 25px;color:#666">菜品管理</h5>
     <hr>
     <div class="layui-form-item">
@@ -31,7 +31,7 @@
         <button class="layui-btn layui-btn-normal site-demo-active"
                 data-type="search" id="searchdish">搜索</button>
         <table class="layui-table"
-               lay-data="{ url:'/student/getAllStudent', page:true, id:'idTest'}"
+               lay-data="{ url:'/dish/getAllDishes', page:true, id:'idTest'}"
                lay-filter="demo">
             <thead>
             <tr>
@@ -44,8 +44,8 @@
                 <th lay-data="{field:'canteenid'}">所属食堂ID</th>
                 <th lay-data="{field:'description'}">简介</th>
                 <th lay-data="{field:'imagefilename'}">图片文件名</th>
-                <th
-                        lay-data="{fixed: 'right', width:220, align:'left', toolbar: '#barDemo'}"></th>
+                <th lay-data="{field:'ifrecommend'}">是否推荐</th>
+                <th lay-data="{fixed: 'right', width:220, align:'left', toolbar: '#barDemo'}"></th>
             </tr>
             </thead>
         </table>
@@ -73,13 +73,13 @@
         table.on('tool(demo)', function(obj) {
             var data = obj.data;
             if (obj.event === 'del') {
-                layer.confirm('真的删除该食堂吗？', function(index) {
+                layer.confirm('真的删除该菜品吗？', function(index) {
                     var data = obj.data;
                     $.ajax({
                         //几个参数需要注意一下
                         type: "POST",//方法类型
                         dataType: "json",//预期服务器返回的数据类型
-                        url: "/student/deleteStudent",//url
+                        url: "/dish/deleteDish",//url
                         data: data,
                         success: function (result) {
                             if (result.code == "0") {
@@ -110,9 +110,15 @@
                         var body = layui.layer.getChildFrame('body', index);
                         //获取窗口对象
                         var iframeWindow = layero.find('iframe')[0].contentWindow;
-                        body.find("#studentNo").val(data.studentNo);
-                        body.find("#studentName").val(data.studentName);
-                        body.find(".studentSex option[value="+data.studentSex+"]").attr("selected","selected");
+                        body.find("#dishid").val(data.dishid);
+                        body.find("#dishname").val(data.dishname);
+                        body.find("#price").val(data.price);
+                        body.find("#promoteprice").val(data.promoteprice);
+                        body.find("#dishstyle").val(data.dishstyle);
+                        body.find("#canteenid").val(data.canteenid);
+                        body.find("#description").val(data.description);
+                        body.find("#imagefilename").val(data.imagefilename);
+                        body.find("#ifrecommend").val(data.ifrecommend);
                         iframeWindow.layui.form.render();
                         iframeWindow.layui.form.render('select');
                     }});
@@ -134,7 +140,7 @@
                 });
 
             },search:function(){
-                var name=$("#canteenNameSearch").val();
+                var name=$("#dishSearch").val();
                 table.reload('idTest',{
                     method: 'POST'
                     , where: {"canteenName":name},page: {
@@ -145,7 +151,7 @@
             }
         };
 
-        $('#canteenSearch .layui-btn').on('click', function() {
+        $('#dishSearch .layui-btn').on('click', function() {
             var type = $(this).data('type');
             active[type] ? active[type].call(this) : '';
         });
