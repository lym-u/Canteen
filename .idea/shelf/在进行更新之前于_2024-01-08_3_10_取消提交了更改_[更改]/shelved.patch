Index: src/main/resources/public/CM-dishAdd.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"renderer\" content=\"webkit\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\r\n    <meta name=\"viewport\"\r\n          content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\" />\r\n    <title>添加菜品信息</title>\r\n    <link rel=\"stylesheet\" type=\"text/css\"\r\n          href=\"assets/admin/layui/css/layui.css\" />\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/css/admin.css\" />\r\n</head>\r\n\r\n<body>\r\n<div class=\"page-content-wrap\" id=\"dishAdd\">\r\n\r\n    <form class=\"layui-form\" action=\"\" id=\"\">\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">菜品编号</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"dishid\" lay-verify=\"required|dishID\" placeholder=\"请输入菜品编号\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">菜品名称</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"dishname\" lay-verify=\"required|dishName\" placeholder=\"请输入菜品名称\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">菜品价格</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"price\" lay-verify=\"required|dishPrice\" placeholder=\"请输入菜品价格\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">促销价格</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"promoteprice\" lay-verify=\"required|promoterPrice\" placeholder=\"请输入促销菜品价格\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">菜系</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"dishstyle\" lay-verify=\"required|dishStyle\" placeholder=\"请输入菜系\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">所属食堂ID</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"canteenid\" lay-verify=\"required|canteenid\" placeholder=\"请输入所属食堂ID\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">简介</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"description\" lay-verify=\"required|description\" placeholder=\"请输入简介\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">图片文件名</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"imagefilename\" lay-verify=\"required|imagefileName\" placeholder=\"请输入图片文件名\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">是否推荐</label>\r\n            <div class=\"layui-input-block\">\r\n                <select name=\"ifrecommend\" lay-verify=\"required\">\r\n                    <option value=\"\">请选择</option>\r\n                    <option value=\"1\">是</option>\r\n                    <option value=\"0\">否</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item m-login-btn\" style=\"text-align:center\">\r\n            <div class=\"layui-inline\">\r\n                <button class=\"layui-btn layui-btn-normal\" lay-submit lay-filter=\"addCanteen\">添加菜品信息</button>\r\n            </div>\r\n            <div class=\"layui-inline\">\r\n                <button type=\"reset\" class=\"layui-btn layui-btn-primary site-demo-active\" data-type=\"reset\">取消添加</button>\r\n            </div>\r\n        </div>\r\n    </form>\r\n\r\n\r\n    <hr></hr>\r\n    <h5 style=\"text-align: center;\">@2023.食堂菜品管理系统</h5>\r\n</div>\r\n<script src=\"assets/admin/layui/layui.all.js\" type=\"text/javascript\"\r\n        charset=\"utf-8\"></script>\r\n<script>\r\n    layui.use(['form', 'layedit', 'laydate'], function(){\r\n        var form = layui.form\r\n            ,layer = layui.layer,layedit=layui.layedit;\r\n        var $ = layui.jquery;\r\n\r\n        //创建一个编辑器\r\n        var editIndex = layedit.build('LAY_demo_editor');\r\n        form.verify({\r\n            dishID: function(value) {\r\n                if (!/^\\d{3}$/.test(value)) {\r\n                    return '菜品编号必须为3位数字';\r\n                }\r\n            },\r\n            dishName: function(value) {\r\n                if (value.length < 2 || value.length > 20) {\r\n                    return '菜品名称长度必须为2-20个字符';\r\n                }\r\n            },\r\n            dishPrice: function(value) {\r\n                if (!/^\\d+(\\.\\d{1,2})?$/.test(value)) {\r\n                    return '菜品价格必须为数字，最多保留两位小数';\r\n                }\r\n            },\r\n            promoterPrice: function(value) {\r\n                if (!/^\\d+(\\.\\d{1,2})?$/.test(value)) {\r\n                    return '促销菜品价格必须为数字，最多保留两位小数';\r\n                }\r\n            },\r\n            dishStyle: function(value) {\r\n                if (value.length < 2 || value.length > 10) {\r\n                    return '菜系长度必须为2-10个字符';\r\n                }\r\n            },\r\n            canteenid: function(value) {\r\n                if (!/^\\d{3}$/.test(value)) {\r\n                    return '所属食堂ID必须为3位数字';\r\n                }\r\n            },\r\n            description: function(value) {\r\n                if (value.length < 10 || value.length > 100) {\r\n                    return '简介长度必须为10-100个字符';\r\n                }\r\n            },\r\n            imagefileName: function(value) {\r\n                if (!/^[a-zA-Z0-9]{1,10}\\.(jpg|jpeg|png)$/.test(value)) {\r\n                    return '图片文件名格式不正确，只允许使用字母、数字和点号，并且后缀只能为jpg、jpeg或png';\r\n                }\r\n            }\r\n        });\r\n\r\n        form.on('submit(addDish)', function(data) {\r\n            var str = JSON.stringify(data.field);\r\n            var param = JSON.parse(str);\r\n            $.ajax({\r\n                type: \"POST\",\r\n                dataType: \"json\",\r\n                url: \"/dish/addDish\",\r\n                data: JSON.stringify(param),  // 将参数转为 JSON 字符串\r\n                contentType: \"application/json\",  // 设置请求头为 application/json\r\n                success: function(result) {\r\n                    if (result.code == \"0\") {\r\n                        var index = parent.layer.getFrameIndex(window.name);\r\n                        parent.layer.close(index);\r\n                        parent.layer.msg('添加菜品成功');\r\n                        parent.layui.table.reload('dishTable', {\r\n                            page: {\r\n                                curr: 1\r\n                            }\r\n                        });\r\n                    } else {\r\n                        layer.msg(result.msg, {\r\n                            icon: 5\r\n                        });\r\n                    }\r\n                },\r\n                error: function(xhr, status, error) {  // 处理请求错误\r\n                    console.error(error);\r\n                }\r\n            });\r\n        });\r\n\r\n        var active = {\r\n            reset: function() {\r\n                var index = parent.layer.getFrameIndex(window.name);\r\n                parent.layer.close(index);\r\n                parent.layer.msg('已取消操作');\r\n            }\r\n        };\r\n\r\n        $('#dishAdd .layui-btn').on('click', function() {\r\n            var type = $(this).data('type');\r\n            active[type] ? active[type].call(this) : '';\r\n        });\r\n\r\n\r\n    });\r\n</script>\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/public/CM-dishAdd.html b/src/main/resources/public/CM-dishAdd.html
--- a/src/main/resources/public/CM-dishAdd.html	(revision e81b8d652216ddac7dd61bccf6ec28f0e7d33648)
+++ b/src/main/resources/public/CM-dishAdd.html	(date 1704654613093)
@@ -15,36 +15,35 @@
 
 <body>
 <div class="page-content-wrap" id="dishAdd">
-
     <form class="layui-form" action="" id="">
         <div class="layui-form-item">
             <label class="layui-form-label">菜品编号</label>
             <div class="layui-input-block">
-                <input type="text" name="dishid" lay-verify="required|dishID" placeholder="请输入菜品编号" autocomplete="off" class="layui-input">
+                <input type="text" name="dishid" lay-verify="required|dishid" placeholder="请输入菜品编号" autocomplete="off" class="layui-input">
             </div>
         </div>
         <div class="layui-form-item">
             <label class="layui-form-label">菜品名称</label>
             <div class="layui-input-block">
-                <input type="text" name="dishname" lay-verify="required|dishName" placeholder="请输入菜品名称" autocomplete="off" class="layui-input">
+                <input type="text" name="dishname" lay-verify="required|dishname" placeholder="请输入菜品名称" autocomplete="off" class="layui-input">
             </div>
         </div>
         <div class="layui-form-item">
             <label class="layui-form-label">菜品价格</label>
             <div class="layui-input-block">
-                <input type="text" name="price" lay-verify="required|dishPrice" placeholder="请输入菜品价格" autocomplete="off" class="layui-input">
+                <input type="text" name="price" lay-verify="required|price" placeholder="请输入菜品价格" autocomplete="off" class="layui-input">
             </div>
         </div>
         <div class="layui-form-item">
             <label class="layui-form-label">促销价格</label>
             <div class="layui-input-block">
-                <input type="text" name="promoteprice" lay-verify="required|promoterPrice" placeholder="请输入促销菜品价格" autocomplete="off" class="layui-input">
+                <input type="text" name="promoteprice" lay-verify="required|promoteprice" placeholder="请输入促销菜品价格" autocomplete="off" class="layui-input">
             </div>
         </div>
         <div class="layui-form-item">
             <label class="layui-form-label">菜系</label>
             <div class="layui-input-block">
-                <input type="text" name="dishstyle" lay-verify="required|dishStyle" placeholder="请输入菜系" autocomplete="off" class="layui-input">
+                <input type="text" name="dishstyle" lay-verify="required|dishstyle" placeholder="请输入菜系" autocomplete="off" class="layui-input">
             </div>
         </div>
         <div class="layui-form-item">
@@ -62,7 +61,7 @@
         <div class="layui-form-item">
             <label class="layui-form-label">图片文件名</label>
             <div class="layui-input-block">
-                <input type="text" name="imagefilename" lay-verify="required|imagefileName" placeholder="请输入图片文件名" autocomplete="off" class="layui-input">
+                <input type="text" name="imagefilename" lay-verify="required|imagefilename" placeholder="请输入图片文件名" autocomplete="off" class="layui-input">
             </div>
         </div>
         <div class="layui-form-item">
@@ -84,9 +83,7 @@
             </div>
         </div>
     </form>
-
-
-    <hr></hr>
+    <hr>
     <h5 style="text-align: center;">@2023.食堂菜品管理系统</h5>
 </div>
 <script src="assets/admin/layui/layui.all.js" type="text/javascript"
@@ -100,27 +97,27 @@
         //创建一个编辑器
         var editIndex = layedit.build('LAY_demo_editor');
         form.verify({
-            dishID: function(value) {
+            dishid: function(value) {
                 if (!/^\d{3}$/.test(value)) {
                     return '菜品编号必须为3位数字';
                 }
             },
-            dishName: function(value) {
+            dishname: function(value) {
                 if (value.length < 2 || value.length > 20) {
                     return '菜品名称长度必须为2-20个字符';
                 }
             },
-            dishPrice: function(value) {
+            price: function(value) {
                 if (!/^\d+(\.\d{1,2})?$/.test(value)) {
                     return '菜品价格必须为数字，最多保留两位小数';
                 }
             },
-            promoterPrice: function(value) {
+            promoteprice: function(value) {
                 if (!/^\d+(\.\d{1,2})?$/.test(value)) {
                     return '促销菜品价格必须为数字，最多保留两位小数';
                 }
             },
-            dishStyle: function(value) {
+            dishstyle: function(value) {
                 if (value.length < 2 || value.length > 10) {
                     return '菜系长度必须为2-10个字符';
                 }
@@ -135,7 +132,7 @@
                     return '简介长度必须为10-100个字符';
                 }
             },
-            imagefileName: function(value) {
+            imagefilename: function(value) {
                 if (!/^[a-zA-Z0-9]{1,10}\.(jpg|jpeg|png)$/.test(value)) {
                     return '图片文件名格式不正确，只允许使用字母、数字和点号，并且后缀只能为jpg、jpeg或png';
                 }
@@ -181,14 +178,11 @@
             }
         };
 
-        $('#dishAdd .layui-btn').on('click', function() {
+        $('#dishAdd.layui-btn').on('click', function() {
             var type = $(this).data('type');
             active[type] ? active[type].call(this) : '';
         });
-
-
     });
 </script>
 </body>
-
 </html>
\ No newline at end of file
Index: src/main/resources/public/TS-dish.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html>\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"renderer\" content=\"webkit\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\r\n    <meta name=\"viewport\"\r\n          content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\" />\r\n    <title>食堂点评交流社区</title>\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/layui/css/layui.css\" />\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/css/admin.css\" />\r\n    <style type=\"text/css\">\r\n        #myModal {\r\n            display: none;\r\n            position: absolute;\r\n            top: 50%;\r\n            left: 50%;\r\n            transform: translate(-50%, -50%);\r\n            width: 300px;\r\n            height: 200px;\r\n            border: 1px solid #ccc;\r\n            background-color: #fff;\r\n            padding: 20px;\r\n        }\r\n    </style>\r\n</head>\r\n<body>\r\n<div class=\"main-layout\" id='main-layout'>\r\n    <!--侧边栏-->\r\n    <div class=\"main-layout-side\">\r\n        <div class=\"m-logo\" style=\"color:white;line-height:60px;text-align:center; font-size:18px;\">\r\n            <span>食堂点评交流社区</span>\r\n        </div>\r\n        <ul class=\"layui-nav layui-nav-tree\" lay-filter=\"leftNav\">\r\n            <li class=\"layui-nav-item\">\r\n                <a href=\"javascript:;\" data-url=\"TS-index-index.html\"><i class=\"iconfont\">&#xe604;</i>首页</a>\r\n            </li>\r\n            <li class=\"layui-nav-item\">\r\n                <a href=\"javascript:;\" data-url=\"TS-communication-social.html\"><i\r\n                        class=\"iconfont\">&#xe604;</i>交流社区</a>\r\n            </li>\r\n            <li class=\"layui-nav-item\">\r\n                <a href=\"javascript:;\" data-url=\"TS-dish.html\"><i class=\"iconfont\">&#xe604;</i>菜品浏览</a>\r\n            </li>\r\n            <li class=\"layui-nav-item\">\r\n                <a href=\"javascript:;\" data-url=\"TS-appraise.html\"><i class=\"iconfont\">&#xe604;</i>菜品打分</a>\r\n            </li>\r\n            <li class=\"layui-nav-item\">\r\n                <a href=\"javascript:;\" data-url=\"TS-canteen.html\"><i class=\"iconfont\">&#xe604;</i>食堂检索</a>\r\n            </li>\r\n            <li class=\"layui-nav-item\">\r\n                <a href=\"javascript:;\" data-id='6' data-url=\"loginOut\" data-text=\"退出登录\"><i\r\n                        class=\"iconfont\">&#x1006;</i>退出登录</a>\r\n            </li>\r\n        </ul>\r\n    </div>\r\n    <!--右侧内容-->\r\n    <div class=\"main-layout-container\">\r\n        <div class=\"main-layout-header\">\r\n            <div class=\"menu-btn\" id=\"hideBtn\" style=\"font-size: 16px;width: 100px;\">\r\n                菜品浏览\r\n            </div>\r\n            <ul class=\"layui-nav\" lay-filter=\"rightNav\">\r\n                <li class=\"layui-nav-item\"><a href=\"javascript:;\" data-url=\"loginOut\" style=\"color:black\">退出</a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n\r\n        <div id=\"myModal\">\r\n            <h2 style=\"text-align: center;\">鱼香肉丝</h2>\r\n            <textarea id=\"textarea\"  style=\"width: 90%;height: 120px;margin-left: 20px;border: 1px solid black;\">\r\n\r\n\t\t\t\t    </textarea>\r\n            <button style=\"margin-left: 120px;\" id=\"comment\">评论</button>\r\n            <button id=\"closeBtn\">关闭</button>\r\n        </div>\r\n        <div class=\"browse-main\">\r\n            <div class=\"browse-jiansuo\">\r\n                <select name=\"\">\r\n                    <option value=\"\" disabled selected hidden>请选择菜系</option>\r\n                    <option value=\"\">川菜</option>\r\n                    <option value=\"\">鲁菜</option>\r\n                    <option value=\"\">粤菜</option>\r\n                    <option value=\"\">苏菜</option>\r\n                    <option value=\"\">闽菜</option>\r\n                    <option value=\"\">浙菜</option>\r\n                    <option value=\"\">湘菜</option>\r\n                    <option value=\"\">徽菜</option>\r\n                </select>\r\n                <select name=\"\">\r\n                    <option value=\"\" disabled selected hidden>请选择食堂</option>\r\n                    <option value=\"\"></option>\r\n                </select>\r\n                <form style=\"display: flex;\">\r\n                    <input type=\"number\" id=\"minPrice\" name=\"minPrice\" oninput=\"updatePrice()\" required placeholder=\"价格下限\">\r\n                    <div style=\"width: 12px;border: 1px solid black;height: 0px;margin-top: 47px;\"></div>\r\n                    <input type=\"number\" id=\"maxPrice\" name=\"maxPrice\" required placeholder=\"价格上限\">\r\n                </form>\r\n                <button type=\"button\" style=\"width: 150px;height: 35px;margin-top: 30px;\">查询</button>\r\n            </div>\r\n            <div class=\"browse-list\">\r\n                <ul>\r\n<!--                    <c:forEach var=\"sa\" items=\"${sandoAdmin}\">-->\r\n<!--                        <li>-->\r\n<!--                            <img src=\"assets/admin/images/ms-list/ms1.jpg\" >-->\r\n<!--                            <p id=\"myBtn\">鱼香肉丝</p>-->\r\n<!--                        </li>-->\r\n<!--                    </c:forEach>-->\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n<script src=\"assets/js/jquery-3.3.1.min.js\"></script>\r\n<script type=\"text/javascript\">\r\n    function updatePrice() {\r\n        var minPrice = document.getElementById(\"minPrice\").value;\r\n        document.getElementById(\"maxPrice\").setAttribute(\"min\", minPrice);\r\n    }\r\n\r\n    document.addEventListener(\"keyup\", function(event) {\r\n        if (event.key === \"Enter\") {\r\n            event.preventDefault();\r\n            var minPrice = document.getElementById(\"minPrice\").value;\r\n            var maxPrice = document.getElementById(\"maxPrice\").value;\r\n            if (parseInt(maxPrice) < parseInt(minPrice)) {\r\n                alert(\"最大价格不能小于最小价格，请重新输入！\");\r\n            } else {\r\n                alert(\"提交成功！最小价格: \" + minPrice + \", 最大价格: \" + maxPrice);\r\n            }\r\n        }\r\n    });\r\n    var btn = document.getElementById(\"myBtn\");\r\n    var modal = document.getElementById(\"myModal\");\r\n    var closeBtn = document.getElementById(\"closeBtn\");\r\n    var comment = document.getElementById(\"comment\");\r\n    var textarea = document.getElementById(\"textarea\");\r\n    btn.onclick = function() {\r\n        modal.style.display = \"block\";\r\n    }\r\n    closeBtn.onclick = function() {\r\n        modal.style.display = \"none\";\r\n    }\r\n    comment.onclick = function (){\r\n        var id=Math.random()*(0-10000)+100000\r\n        ajaxPostJson('/dishReview/addDishReview',{content:textarea.value,dishreviewid:id},function(res,res2){\r\n            if(res){\r\n                layer.msg('添加评论成功！');\r\n                modal.style.display = \"none\";\r\n            }else{\r\n                layer.msg('添加评论失败', {\r\n                    icon: 5\r\n                });\r\n            }\r\n        })\r\n    }\r\n</script>\r\n\r\n<script src=\"assets/admin/layui/layui.js\" type=\"text/javascript\" charset=\"utf-8\"></script>\r\n<script src=\"assets/admin/js/common.js\" type=\"text/javascript\" charset=\"utf-8\"></script>\r\n<script src=\"assets/admin/js/main.js\" type=\"text/javascript\" charset=\"utf-8\"></script>\r\n<script src=\"assets/js/aJaxUtil.js\" type=\"text/javascript\" charset=\"utf-8\"></script>\r\n</body>\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/public/TS-dish.html b/src/main/resources/public/TS-dish.html
--- a/src/main/resources/public/TS-dish.html	(revision e81b8d652216ddac7dd61bccf6ec28f0e7d33648)
+++ b/src/main/resources/public/TS-dish.html	(date 1704653488482)
@@ -6,160 +6,108 @@
     <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
     <meta name="viewport"
           content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
-    <title>食堂点评交流社区</title>
-    <link rel="stylesheet" type="text/css" href="assets/admin/layui/css/layui.css" />
+    <title>菜品信息浏览</title>
+    <link rel="stylesheet" type="text/css"
+          href="assets/admin/layui/css/layui.css" />
     <link rel="stylesheet" type="text/css" href="assets/admin/css/admin.css" />
-    <style type="text/css">
-        #myModal {
-            display: none;
-            position: absolute;
-            top: 50%;
-            left: 50%;
-            transform: translate(-50%, -50%);
-            width: 300px;
-            height: 200px;
-            border: 1px solid #ccc;
-            background-color: #fff;
-            padding: 20px;
-        }
-    </style>
 </head>
+
 <body>
-<div class="main-layout" id='main-layout'>
-    <!--侧边栏-->
-    <div class="main-layout-side">
-        <div class="m-logo" style="color:white;line-height:60px;text-align:center; font-size:18px;">
-            <span>食堂点评交流社区</span>
-        </div>
-        <ul class="layui-nav layui-nav-tree" lay-filter="leftNav">
-            <li class="layui-nav-item">
-                <a href="javascript:;" data-url="TS-index-index.html"><i class="iconfont">&#xe604;</i>首页</a>
-            </li>
-            <li class="layui-nav-item">
-                <a href="javascript:;" data-url="TS-communication-social.html"><i
-                        class="iconfont">&#xe604;</i>交流社区</a>
-            </li>
-            <li class="layui-nav-item">
-                <a href="javascript:;" data-url="TS-dish.html"><i class="iconfont">&#xe604;</i>菜品浏览</a>
-            </li>
-            <li class="layui-nav-item">
-                <a href="javascript:;" data-url="TS-appraise.html"><i class="iconfont">&#xe604;</i>菜品打分</a>
-            </li>
-            <li class="layui-nav-item">
-                <a href="javascript:;" data-url="TS-canteen.html"><i class="iconfont">&#xe604;</i>食堂检索</a>
-            </li>
-            <li class="layui-nav-item">
-                <a href="javascript:;" data-id='6' data-url="loginOut" data-text="退出登录"><i
-                        class="iconfont">&#x1006;</i>退出登录</a>
-            </li>
-        </ul>
-    </div>
-    <!--右侧内容-->
-    <div class="main-layout-container">
-        <div class="main-layout-header">
-            <div class="menu-btn" id="hideBtn" style="font-size: 16px;width: 100px;">
-                菜品浏览
-            </div>
-            <ul class="layui-nav" lay-filter="rightNav">
-                <li class="layui-nav-item"><a href="javascript:;" data-url="loginOut" style="color:black">退出</a>
-                </li>
-            </ul>
-        </div>
-
-        <div id="myModal">
-            <h2 style="text-align: center;">鱼香肉丝</h2>
-            <textarea id="textarea"  style="width: 90%;height: 120px;margin-left: 20px;border: 1px solid black;">
-
-				    </textarea>
-            <button style="margin-left: 120px;" id="comment">评论</button>
-            <button id="closeBtn">关闭</button>
-        </div>
-        <div class="browse-main">
-            <div class="browse-jiansuo">
-                <select name="">
-                    <option value="" disabled selected hidden>请选择菜系</option>
-                    <option value="">川菜</option>
-                    <option value="">鲁菜</option>
-                    <option value="">粤菜</option>
-                    <option value="">苏菜</option>
-                    <option value="">闽菜</option>
-                    <option value="">浙菜</option>
-                    <option value="">湘菜</option>
-                    <option value="">徽菜</option>
-                </select>
-                <select name="">
-                    <option value="" disabled selected hidden>请选择食堂</option>
-                    <option value=""></option>
-                </select>
-                <form style="display: flex;">
-                    <input type="number" id="minPrice" name="minPrice" oninput="updatePrice()" required placeholder="价格下限">
-                    <div style="width: 12px;border: 1px solid black;height: 0px;margin-top: 47px;"></div>
-                    <input type="number" id="maxPrice" name="maxPrice" required placeholder="价格上限">
-                </form>
-                <button type="button" style="width: 150px;height: 35px;margin-top: 30px;">查询</button>
-            </div>
-            <div class="browse-list">
-                <ul>
-<!--                    <c:forEach var="sa" items="${sandoAdmin}">-->
-<!--                        <li>-->
-<!--                            <img src="assets/admin/images/ms-list/ms1.jpg" >-->
-<!--                            <p id="myBtn">鱼香肉丝</p>-->
-<!--                        </li>-->
-<!--                    </c:forEach>-->
-                </ul>
-            </div>
+<div class="page-content-wrap" id="dishSearch">
+    <h5 style="text-align:center;font-size: 20px;line-height: 25px;color:#666">菜品信息浏览</h5>
+    <hr>
+    <div class="layui-form-item">
+        <div class="layui-inline">
+            <input type="text" id="DishNameSearch" placeholder="请输入菜品名称"
+                   autocomplete="off" class="layui-input">
         </div>
+        <button class="layui-btn layui-btn-normal site-demo-active"
+                data-type="search" id="searchDish">搜索</button>
+        <table class="layui-table"
+               lay-data="{ url:'/dish/getAllDishes', page:true, id:'idTest'}"
+               lay-filter="demo">
+            <thead>
+            <tr>
+                <th lay-data="{type:'checkbox', }"></th>
+                <th lay-data="{field:'dishid',sort: true}">编号</th>
+                <th lay-data="{field:'dishname'}">姓名</th>
+                <th lay-data="{field:'price'}">价格</th>
+                <th lay-data="{field:'promoteprice'}">促销价格</th>
+                <th lay-data="{field:'dishstyle'}">菜系</th>
+                <th lay-data="{field:'canteenid'}">所属食堂ID</th>
+                <th lay-data="{field:'description'}">简介</th>
+                <th lay-data="{field:'imagefilename'}">图片文件名</th>
+                <th lay-data="{field:'ifrecommend'}">是否推荐</th>
+                <th lay-data="{fixed: 'right', width:220, align:'left', toolbar: '#barDemo'}"></th>
+            </tr>
+            </thead>
+        </table>
     </div>
 
+
+    <script type="text/html" id="barDemo">
+        <a class="layui-btn layui-btn-sm" lay-event="comment">评价</a>
+    </script>
+    <hr>
+    <h5 style="text-align: center;">@2023.菜品管理系统</h5>
 </div>
-<script src="assets/js/jquery-3.3.1.min.js"></script>
-<script type="text/javascript">
-    function updatePrice() {
-        var minPrice = document.getElementById("minPrice").value;
-        document.getElementById("maxPrice").setAttribute("min", minPrice);
-    }
-
-    document.addEventListener("keyup", function(event) {
-        if (event.key === "Enter") {
-            event.preventDefault();
-            var minPrice = document.getElementById("minPrice").value;
-            var maxPrice = document.getElementById("maxPrice").value;
-            if (parseInt(maxPrice) < parseInt(minPrice)) {
-                alert("最大价格不能小于最小价格，请重新输入！");
-            } else {
-                alert("提交成功！最小价格: " + minPrice + ", 最大价格: " + maxPrice);
-            }
-        }
-    });
-    var btn = document.getElementById("myBtn");
-    var modal = document.getElementById("myModal");
-    var closeBtn = document.getElementById("closeBtn");
-    var comment = document.getElementById("comment");
-    var textarea = document.getElementById("textarea");
-    btn.onclick = function() {
-        modal.style.display = "block";
-    }
-    closeBtn.onclick = function() {
-        modal.style.display = "none";
-    }
-    comment.onclick = function (){
-        var id=Math.random()*(0-10000)+100000
-        ajaxPostJson('/dishReview/addDishReview',{content:textarea.value,dishreviewid:id},function(res,res2){
-            if(res){
-                layer.msg('添加评论成功！');
-                modal.style.display = "none";
-            }else{
-                layer.msg('添加评论失败', {
-                    icon: 5
-                });
-            }
-        })
-    }
+<script src="assets/admin/layui/layui.all.js" type="text/javascript"
+        charset="utf-8"></script>
+<script>
+    layui.use('table', function() {
+        var $ = layui.jquery
+        var table = layui.table;
+        //监听表格复选框选择
+        table.on('checkbox(demo)', function(obj) {
+            console.log(obj)
+        });
+        //监听工具条
+        table.on('tool(demo)', function(obj) {
+            var data = obj.data;
+            if (obj.event === 'comment') {
+                var editFrom = layui.layer.open({
+                    title : "评价菜品",
+                    type : 2,
+                    content : "/TS-dishcmt.html",//弹出层页面
+                    area: ['800px', '400px'],
+                    success : function(layero, index){
+                        var body = layui.layer.getChildFrame('body', index);
+                        //获取窗口对象
+                        var iframeWindow = layero.find('iframe')[0].contentWindow;
+                        body.find("#dishid").val(data.dishid);
+                        body.find("#dishname").val(data.dishname);
+                        body.find("#price").val(data.price);
+                        body.find("#promoteprice").val(data.promoteprice);
+                        body.find("#dishstyle").val(data.dishstyle);
+                        body.find("#canteenid").val(data.canteenid);
+                        body.find("#description").val(data.description);
+                        body.find("#imagefilename").val(data.imagefilename);
+                        body.find("#ifrecommend").val(data.ifrecommend);
+                        iframeWindow.layui.form.render();
+                        iframeWindow.layui.form.render('select');
+                    }});
+            }
+        });
+
+        //触发事件
+        var active = {
+            search:function(){
+                var name=$("#searchDish").val();
+                table.reload('idTest',{
+                    method: 'POST'
+                    , where: {"dishname":name},page: {
+                        curr: 1 //重新从第 1 页开始
+                    }
+                })
+            }
+        };
+
+        $('#searchDish .layui-btn').on('click', function() {
+            var type = $(this).data('type');
+            active[type] ? active[type].call(this) : '';
+        });
+
+    });
 </script>
-
-<script src="assets/admin/layui/layui.js" type="text/javascript" charset="utf-8"></script>
-<script src="assets/admin/js/common.js" type="text/javascript" charset="utf-8"></script>
-<script src="assets/admin/js/main.js" type="text/javascript" charset="utf-8"></script>
-<script src="assets/js/aJaxUtil.js" type="text/javascript" charset="utf-8"></script>
 </body>
 </html>
\ No newline at end of file
Index: src/main/resources/public/CM-dish.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"renderer\" content=\"webkit\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\r\n    <meta name=\"viewport\"\r\n          content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\" />\r\n    <title>网站后台管理模版</title>\r\n    <link rel=\"stylesheet\" type=\"text/css\"\r\n          href=\"assets/admin/layui/css/layui.css\" />\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/css/admin.css\" />\r\n</head>\r\n\r\n<body>\r\n<div class=\"page-content-wrap\" id=\"dishSearch\">\r\n    <h5 style=\"text-align:center;font-size: 20px;line-height: 25px;color:#666\">菜品管理</h5>\r\n    <hr>\r\n    <div class=\"layui-form-item\">\r\n        <div class=\"layui-inline tool-btn\">\r\n            <button class=\"layui-btn layui-btn-small site-demo-active\"\r\n                    data-type=\"tabAdd\">\r\n                <i class=\"layui-icon\">&#xe654;</i>\r\n            </button>\r\n        </div>\r\n        <div class=\"layui-inline\">\r\n            <input type=\"text\" id=\"DishNameSearch\" placeholder=\"请输入菜品名称\"\r\n                   autocomplete=\"off\" class=\"layui-input\">\r\n        </div>\r\n        <button class=\"layui-btn layui-btn-normal site-demo-active\"\r\n                data-type=\"search\" id=\"searchDish\">搜索</button>\r\n        <table class=\"layui-table\"\r\n               lay-data=\"{ url:'/dish/getAllDishes', page:true, id:'idTest'}\"\r\n               lay-filter=\"demo\">\r\n            <thead>\r\n            <tr>\r\n                <th lay-data=\"{type:'checkbox', }\"></th>\r\n                <th lay-data=\"{field:'dishid',sort: true}\">编号</th>\r\n                <th lay-data=\"{field:'dishname'}\">姓名</th>\r\n                <th lay-data=\"{field:'price'}\">价格</th>\r\n                <th lay-data=\"{field:'promoteprice'}\">促销价格</th>\r\n                <th lay-data=\"{field:'dishstyle'}\">菜系</th>\r\n                <th lay-data=\"{field:'canteenid'}\">所属食堂ID</th>\r\n                <th lay-data=\"{field:'description'}\">简介</th>\r\n                <th lay-data=\"{field:'imagefilename'}\">图片文件名</th>\r\n                <th lay-data=\"{field:'ifrecommend'}\">是否推荐</th>\r\n                <th lay-data=\"{fixed: 'right', width:220, align:'left', toolbar: '#barDemo'}\"></th>\r\n            </tr>\r\n            </thead>\r\n        </table>\r\n    </div>\r\n\r\n\r\n    <script type=\"text/html\" id=\"barDemo\">\r\n        <a class=\"layui-btn layui-btn-sm\" lay-event=\"edit\">编辑</a>\r\n        <a class=\"layui-btn layui-btn-danger layui-btn-sm\" lay-event=\"del\">删除</a>\r\n    </script>\r\n    <hr>\r\n    <h5 style=\"text-align: center;\">@2023.菜品管理系统</h5>\r\n</div>\r\n<script src=\"assets/admin/layui/layui.all.js\" type=\"text/javascript\"\r\n        charset=\"utf-8\"></script>\r\n<script>\r\n    layui.use('table', function() {\r\n        var $ = layui.jquery\r\n        var table = layui.table;\r\n        //监听表格复选框选择\r\n        table.on('checkbox(demo)', function(obj) {\r\n            console.log(obj)\r\n        });\r\n        //监听工具条\r\n        table.on('tool(demo)', function(obj) {\r\n            var data = obj.data;\r\n            if (obj.event === 'del') {\r\n                layer.confirm('真的删除该菜品吗？', function(index) {\r\n                    var data = obj.data;\r\n                    $.ajax({\r\n                        //几个参数需要注意一下\r\n                        type: \"POST\",//方法类型\r\n                        dataType: \"json\",//预期服务器返回的数据类型\r\n                        url: \"/dish/deleteDish\",//url\r\n                        data: data,\r\n                        success: function (result) {\r\n                            if (result.code === \"0\") {\r\n                                layer.close(index);\r\n                                layer.msg('删除菜品成功');\r\n                                layui.table.reload('idTest',{page:{curr:1}});\r\n                            }else{\r\n                                layer.msg('删除菜品失败', {\r\n                                    icon: 5\r\n                                });\r\n                            }\r\n                        },\r\n                        error : function() {\r\n                            layer.msg('服务器错误', {\r\n                                icon: 5\r\n                            });\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            if (obj.event === 'edit') {\r\n                var editFrom = layui.layer.open({\r\n                    title : \"编辑菜品信息\",\r\n                    type : 2,\r\n                    content : \"/CM-dishEdit.html\",//弹出层页面\r\n                    area: ['800px', '400px'],\r\n                    success : function(layero, index){\r\n                        var body = layui.layer.getChildFrame('body', index);\r\n                        //获取窗口对象\r\n                        var iframeWindow = layero.find('iframe')[0].contentWindow;\r\n                        body.find(\"#dishid\").val(data.dishid);\r\n                        body.find(\"#dishname\").val(data.dishname);\r\n                        body.find(\"#price\").val(data.price);\r\n                        body.find(\"#promoteprice\").val(data.promoteprice);\r\n                        body.find(\"#dishstyle\").val(data.dishstyle);\r\n                        body.find(\"#canteenid\").val(data.canteenid);\r\n                        body.find(\"#description\").val(data.description);\r\n                        body.find(\"#imagefilename\").val(data.imagefilename);\r\n                        body.find(\"#ifrecommend\").val(data.ifrecommend);\r\n                        iframeWindow.layui.form.render();\r\n                        iframeWindow.layui.form.render('select');\r\n                    }});\r\n            }\r\n        });\r\n\r\n        //触发事件\r\n        var active = {\r\n            tabAdd : function() {\r\n\r\n                layer.open({\r\n                    type: 2,\r\n                    title: '添加菜品信息',\r\n                    shadeClose: true,\r\n                    shade: false,\r\n                    /*    maxmin: true,  *///开启最大化最小化按钮\r\n                    area: ['800px', '400px'],\r\n                    content: '/CM-dishAdd.html'\r\n                });\r\n\r\n            },\r\n            search:function(){\r\n                var name=$(\"#searchDish\").val();\r\n                table.reload('idTest',{\r\n                    method: 'POST'\r\n                    , where: {\"dishname\":name},page: {\r\n                        curr: 1 //重新从第 1 页开始\r\n                    }\r\n\r\n                })\r\n            }\r\n        };\r\n\r\n        $('#searchDish .layui-btn').on('click', function() {\r\n            var type = $(this).data('type');\r\n            active[type] ? active[type].call(this) : '';\r\n        });\r\n\r\n    });\r\n</script>\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/public/CM-dish.html b/src/main/resources/public/CM-dish.html
--- a/src/main/resources/public/CM-dish.html	(revision e81b8d652216ddac7dd61bccf6ec28f0e7d33648)
+++ b/src/main/resources/public/CM-dish.html	(date 1704654544404)
@@ -128,7 +128,6 @@
         //触发事件
         var active = {
             tabAdd : function() {
-
                 layer.open({
                     type: 2,
                     title: '添加菜品信息',
@@ -138,7 +137,6 @@
                     area: ['800px', '400px'],
                     content: '/CM-dishAdd.html'
                 });
-
             },
             search:function(){
                 var name=$("#searchDish").val();
@@ -147,16 +145,13 @@
                     , where: {"dishname":name},page: {
                         curr: 1 //重新从第 1 页开始
                     }
-
                 })
             }
         };
-
-        $('#searchDish .layui-btn').on('click', function() {
+        $('#searchDish.layui-btn').on('click', function() {
             var type = $(this).data('type');
             active[type] ? active[type].call(this) : '';
         });
-
     });
 </script>
 </body>
Index: src/main/resources/public/SM-account.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n\t<meta charset=\"UTF-8\">\r\n\t<meta name=\"renderer\" content=\"webkit\">\r\n\t<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\r\n\t<meta name=\"viewport\"\r\n\t\t  content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\" />\r\n\t<title>网站后台管理模版</title>\r\n\t<link rel=\"stylesheet\" type=\"text/css\"\r\n\t\t  href=\"assets/admin/layui/css/layui.css\" />\r\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/css/admin.css\" />\r\n</head>\r\n\r\n<body>\r\n<div class=\"page-content-wrap\" id=\"canteenManagerSearch\">\r\n\t<h5 style=\"text-align:center;font-size: 20px;line-height: 25px;color:#666\">食堂管理员账号管理</h5>\r\n\t<hr>\r\n\t<div class=\"layui-form-item\">\r\n\t\t<div class=\"layui-inline tool-btn\">\r\n\t\t\t<button class=\"layui-btn layui-btn-small site-demo-active\"\r\n\t\t\t\t\tdata-type=\"tabAdd\">\r\n\t\t\t\t<i class=\"layui-icon\">&#xe654;</i>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"layui-inline\">\r\n\t\t\t<input type=\"text\" id=\"canteenmanagerNameSearch\" placeholder=\"请输入食堂管理员姓名\"\r\n\t\t\t\t   autocomplete=\"off\" class=\"layui-input\">\r\n\t\t</div>\r\n\t\t<button class=\"layui-btn layui-btn-normal site-demo-active\"\r\n\t\t\t\tdata-type=\"search\" id=\"searchCanteenmanager\">搜索</button>\r\n\t\t<table class=\"layui-table\"\r\n\t\t\t   lay-data=\"{ url:'/canteenmanager/getAllCanteenManagers', page:true, id:'idTest'}\"\r\n\t\t\t   lay-filter=\"demo\">\r\n\t\t\t<thead>\r\n\t\t\t<tr>\r\n\t\t\t\t<th lay-data=\"{type:'checkbox', }\"></th>\r\n\t\t\t\t<th lay-data=\"{field:'managerid',sort: true}\">工号</th>\r\n\t\t\t\t<th lay-data=\"{field:'managername'}\">姓名</th>\r\n\t\t\t\t<th lay-data=\"{field:'gender'}\">性别</th>\r\n\t\t\t\t<th lay-data=\"{field:'canteenid'}\">管理食堂ID</th>\r\n\t\t\t\t<th lay-data=\"{fixed: 'right', width:220, align:'left', toolbar: '#barDemo'}\"></th>\r\n\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t</table>\r\n\t</div>\r\n\r\n\t<script type=\"text/html\" id=\"barDemo\">\r\n\t\t<a class=\"layui-btn layui-btn-normal layui-btn-sm\" lay-event=\"detail\">查看</a>\r\n\t\t<a class=\"layui-btn layui-btn-sm\" lay-event=\"edit\">编辑</a>\r\n\t\t<a class=\"layui-btn layui-btn-danger layui-btn-sm\" lay-event=\"del\">删除</a>\r\n\t</script>\r\n\t<hr></hr>\r\n\t<h5 style=\"text-align: center;\">@2023.食堂管理员账户管理系统</h5>\r\n</div>\r\n<script src=\"assets/admin/layui/layui.all.js\" type=\"text/javascript\"\r\n\t\tcharset=\"utf-8\"></script>\r\n<script>\r\n\tlayui.use('table', function() {\r\n\t\tvar $ = layui.jquery\r\n\t\tvar table = layui.table;\r\n\t\t//监听表格复选框选择\r\n\t\ttable.on('checkbox(demo)', function(obj) {\r\n\t\t\tconsole.log(obj)\r\n\t\t});\r\n\t\t//监听工具条\r\n\t\ttable.on('tool(demo)', function(obj) {\r\n\t\t\tvar data = obj.data;\r\n\t\t\tif (obj.event === 'detail') {\r\n\t\t\t\tvar detailFrom = layui.layer.open({\r\n\t\t\t\t\ttitle : \"查看账户信息\",\r\n\t\t\t\t\ttype : 2,\r\n\t\t\t\t\tcontent : \"/SM-canteenmanagerDetail.html\",//弹出层页面\r\n\t\t\t\t\tarea: ['500px', '200px'],\r\n\t\t\t\t\tsuccess : function(layero, index){\r\n\t\t\t\t\t\tvar body = layui.layer.getChildFrame('body', index);\r\n\t\t\t\t\t\tbody.find(\"#managerid\").text(data.managerid);\r\n\t\t\t\t\t\tbody.find(\"#managername\").text(data.managername);\r\n\t\t\t\t\t\tbody.find(\"#gender\").text(data.gender);\r\n\t\t\t\t\t\tbody.find(\"#canteenid\").text(data.canteenid);\r\n\t\t\t\t\t}});\r\n\t\t\t}\r\n\t\t\tif (obj.event === 'del') {\r\n\t\t\t\tlayer.confirm('真的删除该食堂吗？', function(index) {\r\n\t\t\t\t\tvar data = obj.data;\r\n\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\t//几个参数需要注意一下\r\n\t\t\t\t\t\ttype: \"POST\",//方法类型\r\n\t\t\t\t\t\tdataType: \"json\",//预期服务器返回的数据类型\r\n\t\t\t\t\t\turl: \"/user/deleteUser\",//url\r\n\t\t\t\t\t\tdata: data,\r\n\t\t\t\t\t\tsuccess: function (result) {\r\n\t\t\t\t\t\t\tif (result.code == \"0\") {\r\n\t\t\t\t\t\t\t\tlayer.close(index);\r\n\t\t\t\t\t\t\t\tlayer.msg('删除食堂成功');\r\n\t\t\t\t\t\t\t\tlayui.table.reload('idTest',{page:{curr:1}});\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tlayer.msg('删除食堂失败', {\r\n\t\t\t\t\t\t\t\t\ticon: 5\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror : function() {\r\n\t\t\t\t\t\t\tlayer.msg('服务器错误', {\r\n\t\t\t\t\t\t\t\ticon: 5\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (obj.event === 'edit') {\r\n\t\t\t\tvar editFrom = layui.layer.open({\r\n\t\t\t\t\ttitle : \"编辑学生信息\",\r\n\t\t\t\t\ttype : 2,\r\n\t\t\t\t\tcontent : \"/SM-CMEdit.html\",//弹出层页面\r\n\t\t\t\t\tarea: ['800px', '400px'],\r\n\t\t\t\t\tsuccess : function(layero, index){\r\n\t\t\t\t\t\tvar body = layui.layer.getChildFrame('body', index);\r\n\t\t\t\t\t\t//获取窗口对象\r\n\t\t\t\t\t\tvar iframeWindow = layero.find('iframe')[0].contentWindow;\r\n\t\t\t\t\t\tbody.find(\"#managerid\").val(data.managerid);\r\n\t\t\t\t\t\tbody.find(\"#managername\").val(data.managername);\r\n\t\t\t\t\t\tbody.find(\"#gender\").val(data.gender);\r\n\t\t\t\t\t\tbody.find(\"#canteenid\").val(data.canteenid);\r\n\t\t\t\t\t\tiframeWindow.layui.form.render();\r\n\t\t\t\t\t\tiframeWindow.layui.form.render('select');\r\n\t\t\t\t\t}});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t//触发事件\r\n\t\tvar active = {\r\n\t\t\ttabAdd : function() {\r\n\r\n\t\t\t\tlayer.open({\r\n\t\t\t\t\ttype: 2,\r\n\t\t\t\t\ttitle: '添加食堂信息',\r\n\t\t\t\t\tshadeClose: true,\r\n\t\t\t\t\tshade: false,\r\n\t\t\t\t\t/*    maxmin: true,  *///开启最大化最小化按钮\r\n\t\t\t\t\tarea: ['800px', '400px'],\r\n\t\t\t\t\tcontent: '/SM-canteenmanageradd.html'\r\n\t\t\t\t});\r\n\r\n\t\t\t},search:function(){\r\n\t\t\t\tvar name=$(\"#searchCanteenmanager\").val();\r\n\t\t\t\ttable.reload('idTest',{\r\n\t\t\t\t\tmethod: 'POST'\r\n\t\t\t\t\t, where: {\"managername\":name},page: {\r\n\t\t\t\t\t\tcurr: 1 //重新从第 1 页开始\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$('#canteenmanagerSearch.layui-btn').on('click', function() {\r\n\t\t\tvar type = $(this).data('type');\r\n\t\t\tactive[type] ? active[type].call(this) : '';\r\n\t\t});\r\n\r\n\t});\r\n</script>\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/public/SM-account.html b/src/main/resources/public/SM-account.html
--- a/src/main/resources/public/SM-account.html	(revision e81b8d652216ddac7dd61bccf6ec28f0e7d33648)
+++ b/src/main/resources/public/SM-account.html	(date 1704653691282)
@@ -14,7 +14,7 @@
 </head>
 
 <body>
-<div class="page-content-wrap" id="canteenManagerSearch">
+<div class="page-content-wrap" id="canteenmanagerSearch">
 	<h5 style="text-align:center;font-size: 20px;line-height: 25px;color:#666">食堂管理员账号管理</h5>
 	<hr>
 	<div class="layui-form-item">
Index: target/classes/public/SM-canteenlist.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"renderer\" content=\"webkit\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\r\n    <meta name=\"viewport\"\r\n          content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\" />\r\n    <title>食堂基本信息管理</title>\r\n    <link rel=\"stylesheet\" type=\"text/css\"\r\n          href=\"assets/admin/layui/css/layui.css\" />\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/css/admin.css\" />\r\n</head>\r\n\r\n<body>\r\n<div class=\"page-content-wrap\" id=\"canteenSearch\">\r\n    <h5 style=\"text-align:center;font-size: 20px;line-height: 25px;color:#666\">食堂基本信息管理</h5>\r\n    <hr>\r\n    <div class=\"layui-form-item\">\r\n        <div class=\"layui-inline tool-btn\">\r\n            <button class=\"layui-btn layui-btn-small site-demo-active\"\r\n                    data-type=\"tabAdd\">\r\n                <i class=\"layui-icon\">&#xe654;</i>\r\n            </button>\r\n            <!-- \t\t\t\t<button\r\n                                class=\"layui-btn layui-btn-small layui-btn-warm listOrderBtn hidden-xs\"\r\n                                data-url=\"/admin/category/listorderall.html\">\r\n                                <i class=\"iconfont\">&#xe656;</i>\r\n                            </button> -->\r\n        </div>\r\n        <div class=\"layui-inline\">\r\n            <input type=\"text\" id=\"canteenNameSearch\" placeholder=\"请输入食堂名称\"\r\n                   autocomplete=\"off\" class=\"layui-input\">\r\n        </div>\r\n        <button class=\"layui-btn layui-btn-normal site-demo-active\"\r\n                data-type=\"search\" id=\"searchCanteen\">搜索</button>\r\n        <table class=\"layui-table\"\r\n               lay-data=\"{ url:'/canteen/getAllCanteens', page:true, id:'idTest'}\"\r\n               lay-filter=\"demo\">\r\n            <thead>\r\n            <tr>\r\n                <th lay-data=\"{type:'checkbox', }\"></th>\r\n                <th lay-data=\"{field:'canteenid',sort: true}\">食堂编号</th>\r\n                <th lay-data=\"{field:'canteenname'}\">食堂名称</th>\r\n                <th lay-data=\"{field:'location'}\">食堂地址</th>\r\n                <th lay-data=\"{field:'description'}\">食堂简介</th>\r\n                <th lay-data=\"{field:'starttime'}\">食堂开始营业时间</th>\r\n                <th lay-data=\"{field:'endtime'}\">食堂结束营业时间</th>\r\n                <th\r\n                        lay-data=\"{fixed: 'right', width:220, align:'left', toolbar: '#barDemo'}\"></th>\r\n            </tr>\r\n            </thead>\r\n        </table>\r\n    </div>\r\n\r\n\r\n    <script type=\"text/html\" id=\"barDemo\">\r\n        <a class=\"layui-btn layui-btn-normal layui-btn-sm\" lay-event=\"detail\">查看</a>\r\n        <a class=\"layui-btn layui-btn-sm\" lay-event=\"edit\">编辑</a>\r\n        <a class=\"layui-btn layui-btn-danger layui-btn-sm\" lay-event=\"del\">删除</a>\r\n    </script>\r\n    <hr></hr>\r\n    <h5 style=\"text-align: center;\">@2023.食堂基本信息管理</h5>\r\n</div>\r\n<script src=\"assets/admin/layui/layui.all.js\" type=\"text/javascript\"\r\n        charset=\"utf-8\"></script>\r\n<script>\r\n    layui.use('table', function() {\r\n        var $ = layui.jquery\r\n        var table = layui.table;\r\n        //监听表格复选框选择\r\n        table.on('checkbox(demo)', function(obj) {\r\n            console.log(obj)\r\n        });\r\n        //监听工具条\r\n        table.on('tool(demo)', function(obj) {\r\n            var data = obj.data;\r\n            if (obj.event === 'detail') {\r\n                var detailFrom = layui.layer.open({\r\n                    title : \"查看食堂信息\",\r\n                    type : 2,\r\n                    content : \"/SM-canteenDetail.html\",//弹出层页面\r\n                    area: ['500px', '200px'],\r\n                    success : function(layero, index){\r\n                        var body = layui.layer.getChildFrame('body', index);\r\n                        body.find(\"#canteenid\").text(data.canteenid);\r\n                        body.find(\"#canteenname\").text(data.canteenname);\r\n                        body.find(\"#location\").text(data.location);\r\n                        body.find(\"#description\").text(data.description);\r\n                        body.find(\"#starttime\").text(data.starttime);\r\n                        body.find(\"#endtime\").text(data.endtime);\r\n                    }});\r\n            }\r\n            if (obj.event === 'del') {\r\n                layer.confirm('真的删除该评价吗？', function(index) {\r\n                    var data = obj.data;\r\n                    $.ajax({\r\n                        //几个参数需要注意一下\r\n                        type: \"POST\",//方法类型\r\n                        dataType: \"json\",//预期服务器返回的数据类型\r\n                        url: \"/canteen/deleteCanteen\",//url\r\n                        data: { id: data.canteenid },\r\n                        success: function (result) {\r\n                            if (result.code == \"0\") {\r\n                                layer.close(index);\r\n                                layer.msg('删除食堂成功');\r\n                                layui.table.reload('idTest',{page:{curr:1}});\r\n                            }else{\r\n                                layer.msg('删除食堂失败', {\r\n                                    icon: 5\r\n                                });\r\n                            }\r\n                        },\r\n                        error : function() {\r\n                            layer.msg('服务器错误', {\r\n                                icon: 5\r\n                            });\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            if (obj.event === 'edit') {\r\n                var editFrom = layui.layer.open({\r\n                    title : \"编辑食堂信息\",\r\n                    type : 2,\r\n                    content : \"/SM-canteenEdit.html\",//弹出层页面\r\n                    area: ['800px', '400px'],\r\n                    success : function(layero, index){\r\n                        var body = layui.layer.getChildFrame('body', index);\r\n                        //获取窗口对象\r\n                        var iframeWindow = layero.find('iframe')[0].contentWindow;\r\n                        body.find(\"#canteenid\").text(data.canteenid);\r\n                        // body.find(\"#canteenid\").val(data.canteenid);\r\n                        body.find(\"#canteenname\").text(data.canteenname);\r\n                        body.find(\"#location\").text(data.location);\r\n                        body.find(\"#description\").text(data.description);\r\n                        body.find(\"#starttime\").text(data.starttime);\r\n                        body.find(\"#endtime\").text(data.endtime);\r\n                        iframeWindow.layui.form.render();\r\n                        iframeWindow.layui.form.render('select');\r\n                    }});\r\n            }\r\n        });\r\n\r\n        //触发事件\r\n        var active = {\r\n            tabAdd : function() {\r\n\r\n                layer.open({\r\n                    type: 2,\r\n                    title: '添加食堂信息',\r\n                    shadeClose: true,\r\n                    shade: false,\r\n                    /*    maxmin: true,  *///开启最大化最小化按钮\r\n                    area: ['800px', '400px'],\r\n                    content: '/SM-canteenadd.html'\r\n                });\r\n\r\n            },\r\n            // search:function(){\r\n            //     var name=$(\"#canteenNameSearch\").val();\r\n            //     table.reload('idTest',{\r\n            //         method: 'POST'\r\n            //         , where: {\"canteenName\":name},page: {\r\n            //             curr: 1 //重新从第 1 页开始\r\n            //         }\r\n            //\r\n            //     })\r\n            // },\r\n            // search:function(){\r\n            //     var name=$(\"#canteenNameSearch\").val();\r\n            //     table.reload('idTest',{\r\n            //         method: 'POST'\r\n            //         , where: {\"canteenName\":name},page: {\r\n            //             curr: 1 //重新从第 1 页开始\r\n            //         }\r\n            //\r\n            //     })\r\n            // }\r\n            search: function() {\r\n                var name = $(\"#canteenNameSearch\").val();\r\n                table.reload('idTest', {\r\n                    method: 'POST',\r\n                    url: '/canteen/getCanteenName', // 设置新的URL\r\n                    where: {\"canteenName\": name},\r\n                    page: {\r\n                        curr: 1 // 重新从第1页开始\r\n                    }\r\n                });\r\n            }\r\n\r\n\r\n        };\r\n\r\n        $('#canteenSearch .layui-btn').on('click', function() {\r\n            var type = $(this).data('type');\r\n            active[type] ? active[type].call(this) : '';\r\n        });\r\n\r\n    });\r\n</script>\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/public/SM-canteenlist.html b/target/classes/public/SM-canteenlist.html
--- a/target/classes/public/SM-canteenlist.html	(revision e81b8d652216ddac7dd61bccf6ec28f0e7d33648)
+++ b/target/classes/public/SM-canteenlist.html	(date 1704651737919)
@@ -93,7 +93,7 @@
                     }});
             }
             if (obj.event === 'del') {
-                layer.confirm('真的删除该评价吗？', function(index) {
+                layer.confirm('真的删除该食堂吗？', function(index) {
                     var data = obj.data;
                     $.ajax({
                         //几个参数需要注意一下
@@ -180,16 +180,27 @@
             // }
             search: function() {
                 var name = $("#canteenNameSearch").val();
-                table.reload('idTest', {
-                    method: 'POST',
-                    url: '/canteen/getCanteenName', // 设置新的URL
-                    where: {"canteenName": name},
-                    page: {
-                        curr: 1 // 重新从第1页开始
-                    }
-                });
+                if (name) {
+                    // 如果 canteenName 不为空，则重新加载当前页面
+                    table.reload('idTest', {
+                        method: 'POST',
+                        url: '/canteen/getCanteenNames', // 设置新的URL
+                        where: {"canteenName": name},
+                        page: {
+                            curr: 1 // 重新从第1页开始
+                        }
+                    });
+                } else {
+                    // 如果 canteenName 为空，则跳转到另一个页面
+                    table.reload('idTest', {
+                        method: 'POST',
+                        url: '/canteen/getAllCanteens', // 设置新的URL
+                        page: {
+                            curr: 1 // 重新从第1页开始
+                        }
+                    });
+                }
             }
-
 
         };
 
Index: target/classes/public/SM-account.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n\t<meta charset=\"UTF-8\">\r\n\t<meta name=\"renderer\" content=\"webkit\">\r\n\t<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\r\n\t<meta name=\"viewport\"\r\n\t\t  content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\" />\r\n\t<title>网站后台管理模版</title>\r\n\t<link rel=\"stylesheet\" type=\"text/css\"\r\n\t\t  href=\"assets/admin/layui/css/layui.css\" />\r\n\t<link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/css/admin.css\" />\r\n</head>\r\n\r\n<body>\r\n<div class=\"page-content-wrap\" id=\"canteenManagerSearch\">\r\n\t<h5 style=\"text-align:center;font-size: 20px;line-height: 25px;color:#666\">食堂管理员账号管理</h5>\r\n\t<hr>\r\n\t<div class=\"layui-form-item\">\r\n\t\t<div class=\"layui-inline tool-btn\">\r\n\t\t\t<button class=\"layui-btn layui-btn-small site-demo-active\"\r\n\t\t\t\t\tdata-type=\"tabAdd\">\r\n\t\t\t\t<i class=\"layui-icon\">&#xe654;</i>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"layui-inline\">\r\n\t\t\t<input type=\"text\" id=\"canteenmanagerNameSearch\" placeholder=\"请输入食堂管理员姓名\"\r\n\t\t\t\t   autocomplete=\"off\" class=\"layui-input\">\r\n\t\t</div>\r\n\t\t<button class=\"layui-btn layui-btn-normal site-demo-active\"\r\n\t\t\t\tdata-type=\"search\" id=\"searchCanteenmanager\">搜索</button>\r\n\t\t<table class=\"layui-table\"\r\n\t\t\t   lay-data=\"{ url:'/canteenmanager/getAllCanteenManagers', page:true, id:'idTest'}\"\r\n\t\t\t   lay-filter=\"demo\">\r\n\t\t\t<thead>\r\n\t\t\t<tr>\r\n\t\t\t\t<th lay-data=\"{type:'checkbox', }\"></th>\r\n\t\t\t\t<th lay-data=\"{field:'managerid',sort: true}\">工号</th>\r\n\t\t\t\t<th lay-data=\"{field:'managername'}\">姓名</th>\r\n\t\t\t\t<th lay-data=\"{field:'gender'}\">性别</th>\r\n\t\t\t\t<th lay-data=\"{field:'canteenid'}\">管理食堂ID</th>\r\n\t\t\t\t<th lay-data=\"{fixed: 'right', width:220, align:'left', toolbar: '#barDemo'}\"></th>\r\n\t\t\t</tr>\r\n\t\t\t</thead>\r\n\t\t</table>\r\n\t</div>\r\n\r\n\t<script type=\"text/html\" id=\"barDemo\">\r\n\t\t<a class=\"layui-btn layui-btn-normal layui-btn-sm\" lay-event=\"detail\">查看</a>\r\n\t\t<a class=\"layui-btn layui-btn-sm\" lay-event=\"edit\">编辑</a>\r\n\t\t<a class=\"layui-btn layui-btn-danger layui-btn-sm\" lay-event=\"del\">删除</a>\r\n\t</script>\r\n\t<hr></hr>\r\n\t<h5 style=\"text-align: center;\">@2023.食堂管理员账户管理系统</h5>\r\n</div>\r\n<script src=\"assets/admin/layui/layui.all.js\" type=\"text/javascript\"\r\n\t\tcharset=\"utf-8\"></script>\r\n<script>\r\n\tlayui.use('table', function() {\r\n\t\tvar $ = layui.jquery\r\n\t\tvar table = layui.table;\r\n\t\t//监听表格复选框选择\r\n\t\ttable.on('checkbox(demo)', function(obj) {\r\n\t\t\tconsole.log(obj)\r\n\t\t});\r\n\t\t//监听工具条\r\n\t\ttable.on('tool(demo)', function(obj) {\r\n\t\t\tvar data = obj.data;\r\n\t\t\tif (obj.event === 'detail') {\r\n\t\t\t\tvar detailFrom = layui.layer.open({\r\n\t\t\t\t\ttitle : \"查看账户信息\",\r\n\t\t\t\t\ttype : 2,\r\n\t\t\t\t\tcontent : \"/SM-canteenmanagerDetail.html\",//弹出层页面\r\n\t\t\t\t\tarea: ['500px', '200px'],\r\n\t\t\t\t\tsuccess : function(layero, index){\r\n\t\t\t\t\t\tvar body = layui.layer.getChildFrame('body', index);\r\n\t\t\t\t\t\tbody.find(\"#managerid\").text(data.managerid);\r\n\t\t\t\t\t\tbody.find(\"#managername\").text(data.managername);\r\n\t\t\t\t\t\tbody.find(\"#gender\").text(data.gender);\r\n\t\t\t\t\t\tbody.find(\"#canteenid\").text(data.canteenid);\r\n\t\t\t\t\t}});\r\n\t\t\t}\r\n\t\t\tif (obj.event === 'del') {\r\n\t\t\t\tlayer.confirm('真的删除该食堂吗？', function(index) {\r\n\t\t\t\t\tvar data = obj.data;\r\n\t\t\t\t\t$.ajax({\r\n\t\t\t\t\t\t//几个参数需要注意一下\r\n\t\t\t\t\t\ttype: \"POST\",//方法类型\r\n\t\t\t\t\t\tdataType: \"json\",//预期服务器返回的数据类型\r\n\t\t\t\t\t\turl: \"/user/deleteUser\",//url\r\n\t\t\t\t\t\tdata: data,\r\n\t\t\t\t\t\tsuccess: function (result) {\r\n\t\t\t\t\t\t\tif (result.code == \"0\") {\r\n\t\t\t\t\t\t\t\tlayer.close(index);\r\n\t\t\t\t\t\t\t\tlayer.msg('删除食堂成功');\r\n\t\t\t\t\t\t\t\tlayui.table.reload('idTest',{page:{curr:1}});\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tlayer.msg('删除食堂失败', {\r\n\t\t\t\t\t\t\t\t\ticon: 5\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\terror : function() {\r\n\t\t\t\t\t\t\tlayer.msg('服务器错误', {\r\n\t\t\t\t\t\t\t\ticon: 5\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tif (obj.event === 'edit') {\r\n\t\t\t\tvar editFrom = layui.layer.open({\r\n\t\t\t\t\ttitle : \"编辑学生信息\",\r\n\t\t\t\t\ttype : 2,\r\n\t\t\t\t\tcontent : \"/SM-CMEdit.html\",//弹出层页面\r\n\t\t\t\t\tarea: ['800px', '400px'],\r\n\t\t\t\t\tsuccess : function(layero, index){\r\n\t\t\t\t\t\tvar body = layui.layer.getChildFrame('body', index);\r\n\t\t\t\t\t\t//获取窗口对象\r\n\t\t\t\t\t\tvar iframeWindow = layero.find('iframe')[0].contentWindow;\r\n\t\t\t\t\t\tbody.find(\"#managerid\").val(data.managerid);\r\n\t\t\t\t\t\tbody.find(\"#managername\").val(data.managername);\r\n\t\t\t\t\t\tbody.find(\"#gender\").val(data.gender);\r\n\t\t\t\t\t\tbody.find(\"#canteenid\").val(data.canteenid);\r\n\t\t\t\t\t\tiframeWindow.layui.form.render();\r\n\t\t\t\t\t\tiframeWindow.layui.form.render('select');\r\n\t\t\t\t\t}});\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\t//触发事件\r\n\t\tvar active = {\r\n\t\t\ttabAdd : function() {\r\n\r\n\t\t\t\tlayer.open({\r\n\t\t\t\t\ttype: 2,\r\n\t\t\t\t\ttitle: '添加食堂信息',\r\n\t\t\t\t\tshadeClose: true,\r\n\t\t\t\t\tshade: false,\r\n\t\t\t\t\t/*    maxmin: true,  *///开启最大化最小化按钮\r\n\t\t\t\t\tarea: ['800px', '400px'],\r\n\t\t\t\t\tcontent: '/SM-canteenmanageradd.html'\r\n\t\t\t\t});\r\n\r\n\t\t\t},search:function(){\r\n\t\t\t\tvar name=$(\"#searchCanteenmanager\").val();\r\n\t\t\t\ttable.reload('idTest',{\r\n\t\t\t\t\tmethod: 'POST'\r\n\t\t\t\t\t, where: {\"managername\":name},page: {\r\n\t\t\t\t\t\tcurr: 1 //重新从第 1 页开始\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t$('#canteenmanagerSearch.layui-btn').on('click', function() {\r\n\t\t\tvar type = $(this).data('type');\r\n\t\t\tactive[type] ? active[type].call(this) : '';\r\n\t\t});\r\n\r\n\t});\r\n</script>\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/public/SM-account.html b/target/classes/public/SM-account.html
--- a/target/classes/public/SM-account.html	(revision e81b8d652216ddac7dd61bccf6ec28f0e7d33648)
+++ b/target/classes/public/SM-account.html	(date 1704653691282)
@@ -14,7 +14,7 @@
 </head>
 
 <body>
-<div class="page-content-wrap" id="canteenManagerSearch">
+<div class="page-content-wrap" id="canteenmanagerSearch">
 	<h5 style="text-align:center;font-size: 20px;line-height: 25px;color:#666">食堂管理员账号管理</h5>
 	<hr>
 	<div class="layui-form-item">
Index: target/classes/public/SM-appraise.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"renderer\" content=\"webkit\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\r\n    <meta name=\"viewport\"\r\n          content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\" />\r\n    <title>食堂评价管理</title>\r\n    <link rel=\"stylesheet\" type=\"text/css\"\r\n          href=\"assets/admin/layui/css/layui.css\" />\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/css/admin.css\" />\r\n</head>\r\n\r\n<body>\r\n<div class=\"page-content-wrap\" id=\"canteenSearch\">\r\n    <h5 style=\"text-align:center;font-size: 20px;line-height: 25px;color:#666\">食堂评价管理</h5>\r\n    <hr>\r\n    <div class=\"layui-form-item\">\r\n        <div class=\"layui-inline tool-btn\">\r\n            <button class=\"layui-btn layui-btn-small site-demo-active\"\r\n                    data-type=\"tabAdd\">\r\n                <i class=\"layui-icon\">&#xe654;</i>\r\n            </button>\r\n            <!-- \t\t\t\t<button\r\n                                class=\"layui-btn layui-btn-small layui-btn-warm listOrderBtn hidden-xs\"\r\n                                data-url=\"/admin/category/listorderall.html\">\r\n                                <i class=\"iconfont\">&#xe656;</i>\r\n                            </button> -->\r\n        </div>\r\n        <div class=\"layui-inline\">\r\n            <input type=\"text\" id=\"canteenNameSearch\" placeholder=\"请输入食堂名称\"\r\n                   autocomplete=\"off\" class=\"layui-input\">\r\n        </div>\r\n        <button class=\"layui-btn layui-btn-normal site-demo-active\"\r\n                data-type=\"search\" id=\"searchCanteen\">搜索</button>\r\n        <table class=\"layui-table\"\r\n               lay-data=\"{ url:'/canteenreview/getAllCanteenReviews', page:true, id:'idTest'}\"\r\n               lay-filter=\"demo\">\r\n            <thead>\r\n            <tr>\r\n                <th lay-data=\"{type:'checkbox', }\"></th>\r\n                <th lay-data=\"{field:'canteenreviewid',sort: true}\">评价编号</th>\r\n                <th lay-data=\"{field:'userid'}\">评价人ID</th>\r\n                <th lay-data=\"{field:'canteenid'}\">食堂ID</th>\r\n                <th lay-data=\"{field:'title'}\">评价标题</th>\r\n                <th lay-data=\"{field:'content'}\">评价内容</th>\r\n                <th lay-data=\"{field:'imageurl'}\">图片</th>\r\n                <th lay-data=\"{field:'reviewtime'}\">评价时间</th>\r\n                <th lay-data=\"{field:'rating'}\">评分</th>\r\n                <th\r\n                        lay-data=\"{fixed: 'right', width:220, align:'left', toolbar: '#barDemo'}\"></th>\r\n            </tr>\r\n            </thead>\r\n        </table>\r\n    </div>\r\n\r\n\r\n    <script type=\"text/html\" id=\"barDemo\">\r\n        <a class=\"layui-btn layui-btn-normal layui-btn-sm\" lay-event=\"detail\">查看</a>\r\n        <a class=\"layui-btn layui-btn-sm\" lay-event=\"edit\">编辑</a>\r\n        <a class=\"layui-btn layui-btn-danger layui-btn-sm\" lay-event=\"del\">删除</a>\r\n    </script>\r\n    <hr></hr>\r\n    <h5 style=\"text-align: center;\">@2023.首页</h5>\r\n</div>\r\n<script src=\"assets/admin/layui/layui.all.js\" type=\"text/javascript\"\r\n        charset=\"utf-8\"></script>\r\n<script>\r\n    layui.use('table', function() {\r\n        var $ = layui.jquery\r\n        var table = layui.table;\r\n        //监听表格复选框选择\r\n        table.on('checkbox(demo)', function(obj) {\r\n            console.log(obj)\r\n        });\r\n        //监听工具条\r\n        table.on('tool(demo)', function(obj) {\r\n            var data = obj.data;\r\n            if (obj.event === 'detail') {\r\n                var detailFrom = layui.layer.open({\r\n                    title : \"查看评价信息\",\r\n                    type : 2,\r\n                    content : \"/SM-appraiseDetail.html\",//弹出层页面\r\n                    area: ['500px', '200px'],\r\n                    success : function(layero, index){\r\n                        var body = layui.layer.getChildFrame('body', index);\r\n                        body.find(\"#canteenreviewid\").text(data.canteenreviewid);\r\n                        body.find(\"#userid\").text(data.userid);\r\n                        body.find(\"#canteenid\").text(data.canteenid);\r\n                        body.find(\"#title\").text(data.title);\r\n                        body.find(\"#content\").text(data.content);\r\n                        body.find(\"#imageurl\").text(data.imageurl);\r\n                        body.find(\"#reviewtime\").text(data.reviewtime);\r\n                        body.find(\"#rating\").text(data.rating);\r\n                    }});\r\n            }\r\n            if (obj.event === 'del') {\r\n                layer.confirm('真的删除该评价吗？', function(index) {\r\n                    var data = obj.data;\r\n                    $.ajax({\r\n                        //几个参数需要注意一下\r\n                        type: \"POST\",//方法类型\r\n                        dataType: \"json\",//预期服务器返回的数据类型\r\n                        url: \"/canteenreview/deleteCanteenReview\",//url\r\n                        data: { id: data.canteenid },\r\n                        success: function (result) {\r\n                            if (result.code == \"0\") {\r\n                                layer.close(index);\r\n                                layer.msg('删除成功');\r\n                                layui.table.reload('idTest',{page:{curr:1}});\r\n                            }else{\r\n                                layer.msg('删除评价失败', {\r\n                                    icon: 5\r\n                                });\r\n                            }\r\n                        },\r\n                        error : function() {\r\n                            layer.msg('服务器错误', {\r\n                                icon: 5\r\n                            });\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            if (obj.event === 'edit') {\r\n                var editFrom = layui.layer.open({\r\n                    title : \"编辑评价信息\",\r\n                    type : 2,\r\n                    content : \"/SM-appriseEdit.html\",//弹出层页面\r\n                    area: ['800px', '400px'],\r\n                    success : function(layero, index){\r\n                        var body = layui.layer.getChildFrame('body', index);\r\n                        //获取窗口对象\r\n                        var iframeWindow = layero.find('iframe')[0].contentWindow;\r\n                        body.find(\"#studentNo\").val(data.studentNo);\r\n                        body.find(\"#studentName\").val(data.studentName);\r\n                        body.find(\".studentSex option[value=\"+data.studentSex+\"]\").attr(\"selected\",\"selected\");\r\n                        iframeWindow.layui.form.render();\r\n                        iframeWindow.layui.form.render('select');\r\n                    }});\r\n            }\r\n        });\r\n\r\n        //触发事件\r\n        var active = {\r\n            tabAdd : function() {\r\n\r\n                layer.open({\r\n                    type: 2,\r\n                    title: '编辑评价信息',\r\n                    shadeClose: true,\r\n                    shade: false,\r\n                    /*    maxmin: true,  *///开启最大化最小化按钮\r\n                    area: ['800px', '400px'],\r\n                    content: '/canteenadd.html'\r\n                });\r\n\r\n            },search:function(){\r\n                var name=$(\"#canteenNameSearch\").val();\r\n                table.reload('idTest',{\r\n                    method: 'POST'\r\n                    , where: {\"canteenName\":name},page: {\r\n                        curr: 1 //重新从第 1 页开始\r\n                    }\r\n\r\n                })\r\n            }\r\n        };\r\n\r\n        $('#canteenSearch .layui-btn').on('click', function() {\r\n            var type = $(this).data('type');\r\n            active[type] ? active[type].call(this) : '';\r\n        });\r\n\r\n    });\r\n</script>\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/public/SM-appraise.html b/target/classes/public/SM-appraise.html
--- a/target/classes/public/SM-appraise.html	(revision e81b8d652216ddac7dd61bccf6ec28f0e7d33648)
+++ b/target/classes/public/SM-appraise.html	(date 1704648218828)
@@ -134,9 +134,14 @@
                         var body = layui.layer.getChildFrame('body', index);
                         //获取窗口对象
                         var iframeWindow = layero.find('iframe')[0].contentWindow;
-                        body.find("#studentNo").val(data.studentNo);
-                        body.find("#studentName").val(data.studentName);
-                        body.find(".studentSex option[value="+data.studentSex+"]").attr("selected","selected");
+                        body.find("#canteenreviewid").text(data.canteenreviewid);
+                        body.find("#userid").text(data.userid);
+                        body.find("#canteenid").text(data.canteenid);
+                        body.find("#title").text(data.title);
+                        body.find("#content").text(data.content);
+                        body.find("#imageurl").text(data.imageurl);
+                        body.find("#reviewtime").text(data.reviewtime);
+                        body.find("#rating").text(data.rating);
                         iframeWindow.layui.form.render();
                         iframeWindow.layui.form.render('select');
                     }});
Index: target/classes/public/user_register.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html>\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <meta name=\"viewport\"\r\n        content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\"/>\r\n  <title>后台登录</title>\r\n  <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/layui/css/layui.css\"/>\r\n  <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/css/login.css\"/>\r\n  <script src=\"assets/js/aJaxUtil.js\"></script>\r\n  <script src=\"assets/js/jquery-3.3.1.min.js\"></script>\r\n</head>\r\n\r\n<body>\r\n<div class=\"m-login-bg\">\r\n  <div class=\"m-login\">\r\n    <h3>师生注册</h3>\r\n    <div class=\"m-login-warp\">\r\n      <form class=\"layui-form\">\r\n        <div class=\"layui-form-item\">\r\n          <input type=\"text\" name=\"userName\" required lay-verify=\"required\" placeholder=\"用户名\"\r\n                 autocomplete=\"off\" class=\"layui-input\">\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n          <input type=\"password\" name=\"password\" id=\"password\" required lay-verify=\"required\"\r\n                 placeholder=\"密码\" autocomplete=\"off\" class=\"layui-input\">\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n          <input type=\"password\" name=\"repassword\" id=\"repassword\" required lay-verify=\"required\"\r\n                 placeholder=\"确认密码\" autocomplete=\"off\" class=\"layui-input\">\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n          <a style=\"color: #1E9FFF\" href=\"login.html\">已经有账号？去登录</a>\r\n        </div>\r\n        <div class=\"layui-form-item m-login-btn\">\r\n          <div class=\"layui-inline\">\r\n            <button class=\"layui-btn layui-btn-normal\" lay-submit lay-filter=\"login\">注册</button>\r\n          </div>\r\n          <div class=\"layui-inline\">\r\n            <button type=\"reset\" class=\"layui-btn layui-btn-primary\">取消</button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n    <p class=\"copyright\">Copyright 2023 by 食堂点评交流社区</p>\r\n  </div>\r\n</div>\r\n<script src=\"assets/admin/layui/layui.all.js\" type=\"text/javascript\" charset=\"utf-8\"></script>\r\n<script>\r\n  layui.use(['form', 'layedit', 'laydate', 'jquery'], function () {\r\n    var form = layui.form,\r\n            layer = layui.layer,\r\n            admin = layui.admin,\r\n            $ = layui.jquery;\r\n\r\n    //自定义验证规则\r\n    form.verify({\r\n      userName: function (value) {\r\n        if (value.length < 4) {\r\n          return '用户名至少4个字符';\r\n        }\r\n      },\r\n      password: [/(.+){5,12}$/, '密码必须5到12位']\r\n    });\r\n    //监听提交\r\n    form.on('submit(login)', function (data) {\r\n      if (data.field.password !== data.field.repassword) {\r\n        layer.msg('两次密码不一致', {\r\n          icon: 5\r\n        });\r\n        return false;\r\n      }\r\n      $.ajax({\r\n        //几个参数需要注意一下\r\n        type: \"POST\",//方法类型\r\n        dataType: \"json\",//预期服务器返回的数据类型\r\n        url: \"/user/addUser\",//url\r\n        data: JSON.stringify({\r\n          username: data.field.userName,\r\n          password: data.field.password,\r\n        }),\r\n        contentType: \"application/json;charset=utf-8\",//发送数据的格式\r\n        timeout: 10000,\r\n        success: function (result) {\r\n          if (result.code == \"0\") {\r\n            layer.msg(result.msg, {\r\n              icon: 6\r\n            });\r\n            setTimeout(function () {\r\n              window.location.href = \"login.html\";\r\n            }, 1000);\r\n          } else {\r\n            layer.msg(result.msg, {\r\n              icon: 5\r\n            });\r\n          }\r\n        },\r\n        error: function () {\r\n          layer.msg('服务器错误', {\r\n            icon: 5\r\n          });\r\n        }\r\n      });\r\n      return false;\r\n    });\r\n\r\n  });\r\n</script>\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/public/user_register.html b/target/classes/public/user_register.html
--- a/target/classes/public/user_register.html	(revision e81b8d652216ddac7dd61bccf6ec28f0e7d33648)
+++ b/target/classes/public/user_register.html	(date 1704648219183)
@@ -18,7 +18,11 @@
     <div class="m-login-warp">
       <form class="layui-form">
         <div class="layui-form-item">
-          <input type="text" name="userName" required lay-verify="required" placeholder="用户名"
+          <input type="text" name="userid" required lay-verify="required" placeholder="用户id"
+                 autocomplete="off" class="layui-input">
+        </div>
+        <div class="layui-form-item">
+          <input type="text" name="username" required lay-verify="required" placeholder="用户名"
                  autocomplete="off" class="layui-input">
         </div>
         <div class="layui-form-item">
@@ -70,16 +74,26 @@
         });
         return false;
       }
+      // 获取表单数据
+      var userId = $('input[name="userid"]').val();
+      var username = $('input[name="username"]').val();
+      var password = $('input[name="password"]').val();
+
+      // 组装参数
+      var param = {
+        userid: userId,
+        username: username,
+        password: password
+      };
+
       $.ajax({
         //几个参数需要注意一下
+        contentType: 'application/json',
         type: "POST",//方法类型
         dataType: "json",//预期服务器返回的数据类型
+
         url: "/user/addUser",//url
-        data: JSON.stringify({
-          username: data.field.userName,
-          password: data.field.password,
-        }),
-        contentType: "application/json;charset=utf-8",//发送数据的格式
+        data: JSON.stringify(param),
         timeout: 10000,
         success: function (result) {
           if (result.code == "0") {
@@ -90,16 +104,23 @@
               window.location.href = "login.html";
             }, 1000);
           } else {
-            layer.msg(result.msg, {
+            layer.msg('注册失败', {
               icon: 5
             });
           }
         },
-        error: function () {
-          layer.msg('服务器错误', {
+        // error: function () {
+        //   layer.msg('服务器错误', {
+        //     icon: 5
+        //   });
+        // }
+        error: function (xhr, status, error) {
+          var responseText = JSON.parse(xhr.responseText);
+          layer.msg('服务器错误：' + responseText.message, {
             icon: 5
           });
         }
+
       });
       return false;
     });
Index: target/classes/public/CM-canteenlist.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"renderer\" content=\"webkit\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\r\n    <meta name=\"viewport\"\r\n          content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\" />\r\n    <title>网站后台管理模版</title>\r\n    <link rel=\"stylesheet\" type=\"text/css\"\r\n          href=\"assets/admin/layui/css/layui.css\" />\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/css/admin.css\" />\r\n</head>\r\n\r\n<body>\r\n<div class=\"page-content-wrap\" id=\"canteenSearch\">\r\n    <h5 style=\"text-align:center;font-size: 20px;line-height: 25px;color:#666\">食堂基本信息管理</h5>\r\n    <hr>\r\n    <div class=\"layui-form-item\">\r\n<!--        <div class=\"layui-inline tool-btn\">-->\r\n<!--            <button class=\"layui-btn layui-btn-small site-demo-active\"-->\r\n<!--                    data-type=\"tabAdd\">-->\r\n<!--                <i class=\"layui-icon\">&#xe654;</i>-->\r\n<!--            </button>-->\r\n<!--            <button-->\r\n<!--                class=\"layui-btn layui-btn-small layui-btn-warm listOrderBtn hidden-xs\"-->\r\n<!--                data-url=\"/admin/category/listorderall.html\">-->\r\n<!--                <i class=\"iconfont\">&#xe656;</i>-->\r\n<!--            </button>-->\r\n<!--        </div>-->\r\n        <div class=\"layui-inline\">\r\n            <input type=\"text\" id=\"canteenNameSearch\" placeholder=\"请输入食堂名称\"\r\n                   autocomplete=\"off\" class=\"layui-input\">\r\n        </div>\r\n        <button class=\"layui-btn layui-btn-normal site-demo-active\"\r\n                data-type=\"search\" id=\"searchCanteen\">搜索</button>\r\n        <table class=\"layui-table\"\r\n               lay-data=\"{ url:'/canteen/getAllCanteens', page:true, id:'idTest'}\"\r\n               lay-filter=\"demo\">\r\n            <thead>\r\n            <tr>\r\n                <th lay-data=\"{type:'checkbox', }\"></th>\r\n                <th lay-data=\"{field:'canteenid',sort: true}\">食堂编号</th>\r\n                <th lay-data=\"{field:'canteenname'}\">食堂名称</th>\r\n                <th lay-data=\"{field:'location'}\">食堂地址</th>\r\n                <th lay-data=\"{field:'description'}\">食堂简介</th>\r\n                <th lay-data=\"{field:'starttime'}\">食堂开始营业时间</th>\r\n                <th lay-data=\"{field:'endtime'}\">食堂结束营业时间</th>\r\n                <th lay-data=\"{fixed: 'right', width:220, align:'left', toolbar: '#barDemo'}\"></th>\r\n            </tr>\r\n            </thead>\r\n        </table>\r\n    </div>\r\n\r\n\r\n    <script type=\"text/html\" id=\"barDemo\">\r\n        <a class=\"layui-btn layui-btn-normal layui-btn-sm\" lay-event=\"detail\">查看</a>\r\n        <a class=\"layui-btn layui-btn-sm\" lay-event=\"edit\">编辑</a>\r\n        <a class=\"layui-btn layui-btn-danger layui-btn-sm\" lay-event=\"del\">删除</a>\r\n    </script>\r\n    <hr></hr>\r\n    <h5 style=\"text-align: center;\">@2023.食堂基本信息管理</h5>\r\n</div>\r\n<script src=\"assets/admin/layui/layui.all.js\" type=\"text/javascript\"\r\n        charset=\"utf-8\"></script>\r\n<script>\r\n    layui.use('table', function() {\r\n        var $ = layui.jquery\r\n        var table = layui.table;\r\n        //监听表格复选框选择\r\n        table.on('checkbox(demo)', function(obj) {\r\n            console.log(obj)\r\n        });\r\n        //监听工具条\r\n        table.on('tool(demo)', function(obj) {\r\n            var data = obj.data;\r\n            if (obj.event === 'detail') {\r\n                var detailFrom = layui.layer.open({\r\n                    title : \"查看食堂信息\",\r\n                    type : 2,\r\n                    content : \"/SM-canteenDetail.html\",//弹出层页面\r\n                    area: ['500px', '200px'],\r\n                    success : function(layero, index){\r\n                        var body = layui.layer.getChildFrame('body', index);\r\n                        body.find(\"#canteenid\").text(data.canteenid);\r\n                        body.find(\"#canteenname\").text(data.canteenname);\r\n                        body.find(\"#location\").text(data.location);\r\n                        body.find(\"#description\").text(data.description);\r\n                        body.find(\"#starttime\").text(data.starttime);\r\n                        body.find(\"#endtime\").text(data.endtime);\r\n                    }});\r\n            }\r\n            if (obj.event === 'del') {\r\n                layer.confirm('真的删除该食堂吗？', function(index) {\r\n                    var data = obj.data;\r\n                    $.ajax({\r\n                        //几个参数需要注意一下\r\n                        type: \"POST\",//方法类型\r\n                        dataType: \"json\",//预期服务器返回的数据类型\r\n                        url: \"/canteen/deleteCanteen\",//url\r\n                        data: { id: data.canteenid },\r\n                        success: function (result) {\r\n                            if (result.code == \"0\") {\r\n                                layer.close(index);\r\n                                layer.msg('删除食堂成功');\r\n                                layui.table.reload('idTest',{page:{curr:1}});\r\n                            }else{\r\n                                layer.msg('删除食堂失败', {\r\n                                    icon: 5\r\n                                });\r\n                            }\r\n                        },\r\n                        error : function() {\r\n                            layer.msg('服务器错误', {\r\n                                icon: 5\r\n                            });\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            if (obj.event === 'edit') {\r\n                var editFrom = layui.layer.open({\r\n                    title : \"维护食堂信息\",\r\n                    type : 2,\r\n                    content : \"/CM-canteenEdit.html\",//弹出层页面\r\n                    area: ['800px', '400px'],\r\n                    success : function(layero, index){\r\n                        var body = layui.layer.getChildFrame('body', index);\r\n                        //获取窗口对象\r\n                        var iframeWindow = layero.find('iframe')[0].contentWindow;\r\n                        body.find(\"#canteenid\").val(data.canteenid);\r\n                        body.find(\"#canteenname\").val(data.canteenname);\r\n                        body.find(\"#location\").val(data.location);\r\n                        body.find(\"#description\").val(data.description);\r\n                        body.find(\"#starttime\").val(data.starttime);\r\n                        body.find(\"#endtime\").val(data.endtime);\r\n                        iframeWindow.layui.form.render();\r\n                        iframeWindow.layui.form.render('select');\r\n                    }});\r\n            }\r\n        });\r\n\r\n        //触发事件\r\n        var active = {\r\n            tabAdd : function() {\r\n                layer.open({\r\n                    type: 2,\r\n                    title: '添加食堂信息',\r\n                    shadeClose: true,\r\n                    shade: false,\r\n                    /*    maxmin: true,  *///开启最大化最小化按钮\r\n                    area: ['800px', '400px'],\r\n                    content: '/SM-canteenadd.html'\r\n                });\r\n\r\n            },search:function(){\r\n                var name=$(\"#canteenNameSearch\").val();\r\n                table.reload('idTest',{\r\n                    method: 'POST'\r\n                    , where: {\"canteenName\":name},page: {\r\n                        curr: 1 //重新从第 1 页开始\r\n                    }\r\n\r\n                })\r\n            }\r\n        };\r\n\r\n        $('#canteenSearch .layui-btn').on('click', function() {\r\n            var type = $(this).data('type');\r\n            active[type] ? active[type].call(this) : '';\r\n        });\r\n\r\n    });\r\n</script>\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/public/CM-canteenlist.html b/target/classes/public/CM-canteenlist.html
--- a/target/classes/public/CM-canteenlist.html	(revision e81b8d652216ddac7dd61bccf6ec28f0e7d33648)
+++ b/target/classes/public/CM-canteenlist.html	(date 1704651801819)
@@ -7,7 +7,7 @@
     <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
     <meta name="viewport"
           content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
-    <title>网站后台管理模版</title>
+    <title>食堂基本信息维护</title>
     <link rel="stylesheet" type="text/css"
           href="assets/admin/layui/css/layui.css" />
     <link rel="stylesheet" type="text/css" href="assets/admin/css/admin.css" />
@@ -15,20 +15,9 @@
 
 <body>
 <div class="page-content-wrap" id="canteenSearch">
-    <h5 style="text-align:center;font-size: 20px;line-height: 25px;color:#666">食堂基本信息管理</h5>
+    <h5 style="text-align:center;font-size: 20px;line-height: 25px;color:#666">食堂基本信息维护</h5>
     <hr>
     <div class="layui-form-item">
-<!--        <div class="layui-inline tool-btn">-->
-<!--            <button class="layui-btn layui-btn-small site-demo-active"-->
-<!--                    data-type="tabAdd">-->
-<!--                <i class="layui-icon">&#xe654;</i>-->
-<!--            </button>-->
-<!--            <button-->
-<!--                class="layui-btn layui-btn-small layui-btn-warm listOrderBtn hidden-xs"-->
-<!--                data-url="/admin/category/listorderall.html">-->
-<!--                <i class="iconfont">&#xe656;</i>-->
-<!--            </button>-->
-<!--        </div>-->
         <div class="layui-inline">
             <input type="text" id="canteenNameSearch" placeholder="请输入食堂名称"
                    autocomplete="off" class="layui-input">
@@ -57,9 +46,8 @@
     <script type="text/html" id="barDemo">
         <a class="layui-btn layui-btn-normal layui-btn-sm" lay-event="detail">查看</a>
         <a class="layui-btn layui-btn-sm" lay-event="edit">编辑</a>
-        <a class="layui-btn layui-btn-danger layui-btn-sm" lay-event="del">删除</a>
     </script>
-    <hr></hr>
+    <hr>
     <h5 style="text-align: center;">@2023.食堂基本信息管理</h5>
 </div>
 <script src="assets/admin/layui/layui.all.js" type="text/javascript"
@@ -91,37 +79,9 @@
                         body.find("#endtime").text(data.endtime);
                     }});
             }
-            if (obj.event === 'del') {
-                layer.confirm('真的删除该食堂吗？', function(index) {
-                    var data = obj.data;
-                    $.ajax({
-                        //几个参数需要注意一下
-                        type: "POST",//方法类型
-                        dataType: "json",//预期服务器返回的数据类型
-                        url: "/canteen/deleteCanteen",//url
-                        data: { id: data.canteenid },
-                        success: function (result) {
-                            if (result.code == "0") {
-                                layer.close(index);
-                                layer.msg('删除食堂成功');
-                                layui.table.reload('idTest',{page:{curr:1}});
-                            }else{
-                                layer.msg('删除食堂失败', {
-                                    icon: 5
-                                });
-                            }
-                        },
-                        error : function() {
-                            layer.msg('服务器错误', {
-                                icon: 5
-                            });
-                        }
-                    });
-                });
-            }
             if (obj.event === 'edit') {
                 var editFrom = layui.layer.open({
-                    title : "维护食堂信息",
+                    title : "编辑食堂信息",
                     type : 2,
                     content : "/CM-canteenEdit.html",//弹出层页面
                     area: ['800px', '400px'],
@@ -129,12 +89,13 @@
                         var body = layui.layer.getChildFrame('body', index);
                         //获取窗口对象
                         var iframeWindow = layero.find('iframe')[0].contentWindow;
-                        body.find("#canteenid").val(data.canteenid);
-                        body.find("#canteenname").val(data.canteenname);
-                        body.find("#location").val(data.location);
-                        body.find("#description").val(data.description);
-                        body.find("#starttime").val(data.starttime);
-                        body.find("#endtime").val(data.endtime);
+                        body.find("#canteenid").text(data.canteenid);
+                        // body.find("#canteenid").val(data.canteenid);
+                        body.find("#canteenname").text(data.canteenname);
+                        body.find("#location").text(data.location);
+                        body.find("#description").text(data.description);
+                        body.find("#starttime").text(data.starttime);
+                        body.find("#endtime").text(data.endtime);
                         iframeWindow.layui.form.render();
                         iframeWindow.layui.form.render('select');
                     }});
@@ -143,27 +104,30 @@
 
         //触发事件
         var active = {
-            tabAdd : function() {
-                layer.open({
-                    type: 2,
-                    title: '添加食堂信息',
-                    shadeClose: true,
-                    shade: false,
-                    /*    maxmin: true,  *///开启最大化最小化按钮
-                    area: ['800px', '400px'],
-                    content: '/SM-canteenadd.html'
-                });
-
-            },search:function(){
-                var name=$("#canteenNameSearch").val();
-                table.reload('idTest',{
-                    method: 'POST'
-                    , where: {"canteenName":name},page: {
-                        curr: 1 //重新从第 1 页开始
-                    }
+            search: function() {
+                var name = $("#canteenNameSearch").val();
+                if (name) {
+                    // 如果 canteenName 不为空，则重新加载当前页面
+                    table.reload('idTest', {
+                        method: 'POST',
+                        url: '/canteen/getCanteenNames', // 设置新的URL
+                        where: {"canteenName": name},
+                        page: {
+                            curr: 1 // 重新从第1页开始
+                        }
+                    });
+                } else {
+                    // 如果 canteenName 为空，则跳转到另一个页面
+                    table.reload('idTest', {
+                        method: 'POST',
+                        url: '/canteen/getAllCanteens', // 设置新的URL
+                        page: {
+                            curr: 1 // 重新从第1页开始
+                        }
+                    });
+                }
+            }
 
-                })
-            }
         };
 
         $('#canteenSearch .layui-btn').on('click', function() {
Index: src/main/resources/public/TS-dish1.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/public/TS-dish1.html b/src/main/resources/public/TS-dish1.html
new file mode 100644
--- /dev/null	(date 1704652415932)
+++ b/src/main/resources/public/TS-dish1.html	(date 1704652415932)
@@ -0,0 +1,133 @@
+<!DOCTYPE html>
+<html>
+<head>
+    <meta charset="UTF-8">
+    <meta name="renderer" content="webkit">
+    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
+    <meta name="viewport"
+          content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
+    <title>食堂点评交流社区</title>
+    <link rel="stylesheet" type="text/css" href="assets/admin/layui/css/layui.css" />
+    <link rel="stylesheet" type="text/css" href="assets/admin/css/admin.css" />
+    <style type="text/css">
+        #myModal {
+            display: none;
+            position: absolute;
+            top: 50%;
+            left: 50%;
+            transform: translate(-50%, -50%);
+            width: 300px;
+            height: 200px;
+            border: 1px solid #ccc;
+            background-color: #fff;
+            padding: 20px;
+        }
+    </style>
+</head>
+<body>
+<div class="main-layout" id='main-layout'>
+    <div class="main-layout-header">
+        <div class="menu-btn" id="hideBtn" style="font-size: 16px;width: 100px;">
+            菜品浏览
+        </div>
+        <ul class="layui-nav" lay-filter="rightNav">
+            <li class="layui-nav-item"><a href="javascript:;" data-url="loginOut" style="color:black">退出</a>
+            </li>
+        </ul>
+    </div>
+
+    <div id="myModal">
+        <h2 style="text-align: center;">鱼香肉丝</h2>
+        <textarea id="textarea"  style="width: 90%;height: 120px;margin-left: 20px;border: 1px solid black;">
+
+				    </textarea>
+        <button style="margin-left: 120px;" id="comment">评论</button>
+        <button id="closeBtn">关闭</button>
+    </div>
+    <div class="browse-main">
+        <div class="browse-jiansuo">
+            <select name="">
+                <option value="" disabled selected hidden>请选择菜系</option>
+                <option value="">川菜</option>
+                <option value="">鲁菜</option>
+                <option value="">粤菜</option>
+                <option value="">苏菜</option>
+                <option value="">闽菜</option>
+                <option value="">浙菜</option>
+                <option value="">湘菜</option>
+                <option value="">徽菜</option>
+            </select>
+            <select name="">
+                <option value="" disabled selected hidden>请选择食堂</option>
+                <option value=""></option>
+            </select>
+            <form style="display: flex;">
+                <input type="number" id="minPrice" name="minPrice" oninput="updatePrice()" required placeholder="价格下限">
+                <div style="width: 12px;border: 1px solid black;height: 0px;margin-top: 47px;"></div>
+                <input type="number" id="maxPrice" name="maxPrice" required placeholder="价格上限">
+            </form>
+            <button type="button" style="width: 150px;height: 35px;margin-top: 30px;">查询</button>
+        </div>
+        <div class="browse-list">
+            <ul>
+                <!--                    <c:forEach var="sa" items="${sandoAdmin}">-->
+                <!--                        <li>-->
+                <!--                            <img src="assets/admin/images/ms-list/ms1.jpg" >-->
+                <!--                            <p id="myBtn">鱼香肉丝</p>-->
+                <!--                        </li>-->
+                <!--                    </c:forEach>-->
+            </ul>
+        </div>
+    </div>
+</div>
+<script src="assets/js/jquery-3.3.1.min.js"></script>
+<script type="text/javascript">
+    function updatePrice() {
+        var minPrice = document.getElementById("minPrice").value;
+        document.getElementById("maxPrice").setAttribute("min", minPrice);
+    }
+
+    document.addEventListener("keyup", function(event) {
+        if (event.key === "Enter") {
+            event.preventDefault();
+            var minPrice = document.getElementById("minPrice").value;
+            var maxPrice = document.getElementById("maxPrice").value;
+            if (parseInt(maxPrice) < parseInt(minPrice)) {
+                alert("最大价格不能小于最小价格，请重新输入！");
+            } else {
+                alert("提交成功！最小价格: " + minPrice + ", 最大价格: " + maxPrice);
+            }
+        }
+    });
+    var btn = document.getElementById("myBtn");
+    var modal = document.getElementById("myModal");
+    var closeBtn = document.getElementById("closeBtn");
+    var comment = document.getElementById("comment");
+    var textarea = document.getElementById("textarea");
+    btn.onclick = function() {
+        modal.style.display = "block";
+    }
+    closeBtn.onclick = function() {
+        modal.style.display = "none";
+    }
+    comment.onclick = function (){
+        var id=Math.random()*(0-10000)+100000
+        ajaxPostJson('/dishReview/addDishReview',{content:textarea.value,dishreviewid:id},function(res,res2){
+            if(res){
+                layer.msg('添加评论成功！');
+                modal.style.display = "none";
+            }else{
+                layer.msg('添加评论失败', {
+                    icon: 5
+                });
+            }
+        })
+    }
+</script>
+
+<script src="assets/admin/layui/layui.js" type="text/javascript" charset="utf-8"></script>
+<script src="assets/admin/js/common.js" type="text/javascript" charset="utf-8"></script>
+<script src="assets/admin/js/main.js" type="text/javascript" charset="utf-8"></script>
+<script src="assets/js/aJaxUtil.js" type="text/javascript" charset="utf-8"></script>
+</body>
+</html>
\ No newline at end of file
Index: target/classes/public/CM-canteenEdit.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"renderer\" content=\"webkit\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\r\n    <meta name=\"viewport\"\r\n          content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\" />\r\n    <title>维护食堂信息</title>\r\n    <link rel=\"stylesheet\" type=\"text/css\"\r\n          href=\"assets/admin/layui/css/layui.css\" />\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/css/admin.css\" />\r\n</head>\r\n\r\n<body>\r\n<div class=\"page-content-wrap\" id=\"canteenAdd\">\r\n\r\n    <form class=\"layui-form\" action=\"\" id=\"\">\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">食堂名称</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"canteenname\"  id=\"canteenname\" lay-verify=\"canteenname\"\r\n                       placeholder=\"请输入食堂名称\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">食堂地址</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"canteenAddress\"  id=\"canteenAddress\" lay-verify=\"canteenAddress\"\r\n                       placeholder=\"请输入食堂地址\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">食堂简介</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"canteentProfile\"  id=\"canteentProfile\" lay-verify=\"canteentProfile\"\r\n                       placeholder=\"请输入食堂简介\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">食堂开始营业时间</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"canteentStart\"  id=\"canteentStart\" lay-verify=\"canteentStart\"\r\n                       placeholder=\"请输入开始营业时间\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">食堂结束营业时间</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"canteentEnd\"  id=\"canteentEnd\" lay-verify=\"canteentEnd\"\r\n                       placeholder=\"请输入结束营业时间\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item m-login-btn\" style=\"text-align:center\">\r\n            <div class=\"layui-inline\">\r\n                <button class=\"layui-btn layui-btn-normal\" lay-submit lay-filter=\"editStudent\">修改信息</button>\r\n            </div>\r\n            <div class=\"layui-inline\">\r\n                <button type=\"reset\" class=\"layui-btn layui-btn-primary  site-demo-active\"\r\n                        data-type=\"resetEdit\">取消修改</button>\r\n            </div>\r\n        </div>\r\n    </form>\r\n\r\n    <hr></hr>\r\n    <h5 style=\"text-align: center;\">@2023.食堂基本信息管理系统</h5>\r\n</div>\r\n<script src=\"assets/admin/layui/layui.all.js\" type=\"text/javascript\"\r\n        charset=\"utf-8\"></script>\r\n<script>\r\n    layui.use(['form', 'layedit', 'laydate'], function(){\r\n        var form = layui.form\r\n            ,layer = layui.layer,layedit=layui.layedit;\r\n        var $ = layui.jquery;\r\n        //创建一个编辑器\r\n        var editIndex = layedit.build('LAY_demo_editor');\r\n        //自定义验证规则\r\n        form.verify({\r\n            startTime: function(value) {\r\n                if (!/^([01]\\d|2[0-3]):([0-5]\\d)$/.test(value)) {\r\n                    return '请输入正确的时间格式（HH:mm）';\r\n                }\r\n            },\r\n            endTime: function(value) {\r\n                if (!/^([01]\\d|2[0-3]):([0-5]\\d)$/.test(value)) {\r\n                    return '请输入正确的时间格式（HH:mm）';\r\n                }\r\n            }\r\n            ,content: function(value){\r\n                layedit.sync(editIndex);\r\n            }\r\n        });\r\n        form.on('submit(editStudent)', function(data){\r\n            var str=JSON.stringify(data.field)\r\n            var param = JSON.parse(str);\r\n            $.ajax({\r\n                //几个参数需要注意一下\r\n                type: \"POST\",//方法类型\r\n                dataType: \"json\",//预期服务器返回的数据类型\r\n                url: \"/canteen/updateCanteen\",//url\r\n                data: param,\r\n                success: function (result) {\r\n                    if (result.code == \"0\") {\r\n                        var index = parent.layer.getFrameIndex(window.name); //先得到当前iframe层的索引\r\n                        parent.layer.close(index);\r\n                        parent.layer.msg('编辑食堂成功');\r\n                        parent.layui.table.reload('idTest',{page:{curr:1}});\r\n                    }else{\r\n                        layer.msg('编辑食堂失败', {\r\n                            icon: 5\r\n                        });\r\n                    }\r\n                },\r\n                error : function() {\r\n                    layer.msg('服务器错误', {\r\n                        icon: 5\r\n                    });\r\n                }\r\n            });\r\n\r\n            return false;\r\n        });\r\n        //触发事件\r\n        var active = {\r\n            resetEdit : function() {\r\n                var index = parent.layer.getFrameIndex(window.name); //先得到当前iframe层的索引\r\n                parent.layer.close(index);\r\n                parent.layer.msg('已取消操作');\r\n            }\r\n        };\r\n        $('#studentAdd .layui-btn').on('click', function() {\r\n            var type = $(this).data('type');\r\n            active[type] ? active[type].call(this) : '';\r\n        });\r\n\r\n    });\r\n</script>\r\n</body>\r\n\r\n</html>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/public/CM-canteenEdit.html b/target/classes/public/CM-canteenEdit.html
--- a/target/classes/public/CM-canteenEdit.html	(revision e81b8d652216ddac7dd61bccf6ec28f0e7d33648)
+++ b/target/classes/public/CM-canteenEdit.html	(date 1704651434459)
@@ -17,38 +17,57 @@
 <div class="page-content-wrap" id="canteenAdd">
 
     <form class="layui-form" action="" id="">
-        <div class="layui-form-item">
-            <label class="layui-form-label">食堂名称</label>
-            <div class="layui-input-block">
-                <input type="text" name="canteenname"  id="canteenname" lay-verify="canteenname"
-                       placeholder="请输入食堂名称" autocomplete="off" class="layui-input">
+        <div class="layui-row">
+            <div class="layui-col-xs6">
+                <div class="grid-demo grid-demo-bg1 lableInfo">食堂编号</div>
             </div>
+            <div class="layui-col-xs6">
+                <div class="grid-demo" id="canteenid">6/12</div>
+            </div>
         </div>
-        <div class="layui-form-item">
-            <label class="layui-form-label">食堂地址</label>
-            <div class="layui-input-block">
-                <input type="text" name="canteenAddress"  id="canteenAddress" lay-verify="canteenAddress"
-                       placeholder="请输入食堂地址" autocomplete="off" class="layui-input">
+        <div class="layui-row">
+            <div class="layui-col-xs6">
+                <div class="grid-demo grid-demo-bg1 lableInfo">食堂名称</div>
             </div>
+            <div class="layui-col-xs6">
+                <div class="grid-demo" id="canteenname">6/12</div>
+            </div>
         </div>
+        <div class="layui-row">
+            <div class="layui-col-xs6">
+                <div class="grid-demo grid-demo-bg1 lableInfo">食堂地址</div>
+            </div>
+            <div class="layui-col-xs6">
+                <div class="grid-demo" id="location">6/12</div>
+            </div>
+        </div>
         <div class="layui-form-item">
             <label class="layui-form-label">食堂简介</label>
+            <div class="layui-col-xs6">
+                <div class="grid-demo" id="description">6/12</div>
+            </div>
             <div class="layui-input-block">
-                <input type="text" name="canteentProfile"  id="canteentProfile" lay-verify="canteentProfile"
+                <input type="text" name="description"  id="descriptionInput" lay-verify="canteentProfile"
                        placeholder="请输入食堂简介" autocomplete="off" class="layui-input">
             </div>
         </div>
         <div class="layui-form-item">
             <label class="layui-form-label">食堂开始营业时间</label>
+            <div class="layui-col-xs6">
+                <div class="grid-demo" id="starttime">6/12</div>
+            </div>
             <div class="layui-input-block">
-                <input type="text" name="canteentStart"  id="canteentStart" lay-verify="canteentStart"
+                <input type="text" name="starttime"  id="starttimeInput" lay-verify="canteentStart"
                        placeholder="请输入开始营业时间" autocomplete="off" class="layui-input">
             </div>
         </div>
         <div class="layui-form-item">
             <label class="layui-form-label">食堂结束营业时间</label>
+            <div class="layui-col-xs6">
+                <div class="grid-demo" id="endtime">6/12</div>
+            </div>
             <div class="layui-input-block">
-                <input type="text" name="canteentEnd"  id="canteentEnd" lay-verify="canteentEnd"
+                <input type="text" name="endtime"  id="endtimeInput" lay-verify="canteentEnd"
                        placeholder="请输入结束营业时间" autocomplete="off" class="layui-input">
             </div>
         </div>
@@ -77,13 +96,17 @@
         var editIndex = layedit.build('LAY_demo_editor');
         //自定义验证规则
         form.verify({
-            startTime: function(value) {
-                if (!/^([01]\d|2[0-3]):([0-5]\d)$/.test(value)) {
+            canteentStart: function(value) {
+                if (value === "") {
+
+                } else if (!/^([01]\d|2[0-3]):([0-5]\d)$/.test(value)) {
                     return '请输入正确的时间格式（HH:mm）';
                 }
             },
-            endTime: function(value) {
-                if (!/^([01]\d|2[0-3]):([0-5]\d)$/.test(value)) {
+            canteentEnd: function(value) {
+                if (value === "") {
+
+                } else if (!/^([01]\d|2[0-3]):([0-5]\d)$/.test(value)) {
                     return '请输入正确的时间格式（HH:mm）';
                 }
             }
@@ -92,14 +115,21 @@
             }
         });
         form.on('submit(editStudent)', function(data){
+            var canteenId = $("#canteenid").text(); // 获取食堂id的值
+            // var canteenId = $("#canteenidInput").text();
             var str=JSON.stringify(data.field)
+            console.log(str)
             var param = JSON.parse(str);
+            param.canteenid = canteenId; // 将食堂id添加到请求参数中
+
             $.ajax({
                 //几个参数需要注意一下
                 type: "POST",//方法类型
                 dataType: "json",//预期服务器返回的数据类型
                 url: "/canteen/updateCanteen",//url
-                data: param,
+                // data: param,
+                data: JSON.stringify(param),
+                contentType: "application/json",
                 success: function (result) {
                     if (result.code == "0") {
                         var index = parent.layer.getFrameIndex(window.name); //先得到当前iframe层的索引
@@ -112,11 +142,17 @@
                         });
                     }
                 },
-                error : function() {
-                    layer.msg('服务器错误', {
+                // error : function() {
+                // 	layer.msg('服务器错误', {
+                // 		icon: 5
+                // 	});
+                // }
+                error: function(xhr) {
+                    layer.msg('服务器错误：' + xhr.responseText, {
                         icon: 5
                     });
                 }
+
             });
 
             return false;
@@ -129,7 +165,7 @@
                 parent.layer.msg('已取消操作');
             }
         };
-        $('#studentAdd .layui-btn').on('click', function() {
+        $('#canteenAdd .layui-btn').on('click', function() {
             var type = $(this).data('type');
             active[type] ? active[type].call(this) : '';
         });
@@ -138,4 +174,4 @@
 </script>
 </body>
 
-</html>
+</html>
\ No newline at end of file
Index: target/classes/public/SM-appriseEdit.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"renderer\" content=\"webkit\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\r\n    <meta name=\"viewport\"\r\n          content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\" />\r\n    <title>修改评价信息</title>\r\n    <link rel=\"stylesheet\" type=\"text/css\"\r\n          href=\"assets/admin/layui/css/layui.css\" />\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/css/admin.css\" />\r\n</head>\r\n\r\n<body>\r\n<div class=\"page-content-wrap\" id=\"canteenAdd\">\r\n\r\n\r\n    <form class=\"layui-form\" action=\"\" id=\"\">\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">评价标题</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"Title\"  id=\"Title\" lay-verify=\"Title\"\r\n                       placeholder=\"请输入评价标题\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">评价内容</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"Context\"  id=\"Context\" lay-verify=\"Context\"\r\n                       placeholder=\"请输入评价内容\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item m-login-btn\" style=\"text-align:center\">\r\n            <div class=\"layui-inline\">\r\n                <button class=\"layui-btn layui-btn-normal\" lay-submit lay-filter=\"editStudent\">修改信息</button>\r\n            </div>\r\n            <div class=\"layui-inline\">\r\n                <button type=\"reset\" class=\"layui-btn layui-btn-primary  site-demo-active\"\r\n                        data-type=\"resetEdit\">取消修改</button>\r\n            </div>\r\n        </div>\r\n    </form>\r\n\r\n\r\n    <hr></hr>\r\n    <h5 style=\"text-align: center;\">@2023.食堂评价信息管理系统</h5>\r\n</div>\r\n<script src=\"assets/admin/layui/layui.all.js\" type=\"text/javascript\"\r\n        charset=\"utf-8\"></script>\r\n<script>\r\n    layui.use(['form', 'layedit', 'laydate'], function(){\r\n        var form = layui.form\r\n            ,layer = layui.layer,layedit=layui.layedit;\r\n        var $ = layui.jquery;\r\n        //创建一个编辑器\r\n        var editIndex = layedit.build('LAY_demo_editor');\r\n        //自定义验证规则\r\n        form.verify({\r\n            startTime: function(value) {\r\n                if (!/^([01]\\d|2[0-3]):([0-5]\\d)$/.test(value)) {\r\n                    return '请输入正确的时间格式（HH:mm）';\r\n                }\r\n            },\r\n            endTime: function(value) {\r\n                if (!/^([01]\\d|2[0-3]):([0-5]\\d)$/.test(value)) {\r\n                    return '请输入正确的时间格式（HH:mm）';\r\n                }\r\n            }\r\n            ,content: function(value){\r\n                layedit.sync(editIndex);\r\n            }\r\n        });\r\n        form.on('submit(editStudent)', function(data){\r\n            var str=JSON.stringify(data.field)\r\n            var param = JSON.parse(str);\r\n            $.ajax({\r\n                //几个参数需要注意一下\r\n                type: \"POST\",//方法类型\r\n                dataType: \"json\",//预期服务器返回的数据类型\r\n                url: \"/canteenreview/updateCanteenReview\",//url\r\n                data: param,\r\n                success: function (result) {\r\n                    if (result.code == \"0\") {\r\n                        var index = parent.layer.getFrameIndex(window.name); //先得到当前iframe层的索引\r\n                        parent.layer.close(index);\r\n                        parent.layer.msg('编辑食堂成功');\r\n                        parent.layui.table.reload('idTest',{page:{curr:1}});\r\n                    }else{\r\n                        layer.msg('编辑食堂失败', {\r\n                            icon: 5\r\n                        });\r\n                    }\r\n                },\r\n                error : function() {\r\n                    layer.msg('服务器错误', {\r\n                        icon: 5\r\n                    });\r\n                }\r\n            });\r\n\r\n            return false;\r\n        });\r\n        //触发事件\r\n        var active = {\r\n            resetEdit : function() {\r\n                var index = parent.layer.getFrameIndex(window.name); //先得到当前iframe层的索引\r\n                parent.layer.close(index);\r\n                parent.layer.msg('已取消操作');\r\n            }\r\n        };\r\n        $('#canteenAdd .layui-btn').on('click', function() {\r\n            var type = $(this).data('type');\r\n            active[type] ? active[type].call(this) : '';\r\n        });\r\n\r\n    });\r\n</script>\r\n</body>\r\n\r\n</html>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/public/SM-appriseEdit.html b/target/classes/public/SM-appriseEdit.html
--- a/target/classes/public/SM-appriseEdit.html	(revision e81b8d652216ddac7dd61bccf6ec28f0e7d33648)
+++ b/target/classes/public/SM-appriseEdit.html	(date 1704650969631)
@@ -18,6 +18,14 @@
 
 
     <form class="layui-form" action="" id="">
+        <div class="layui-row">
+            <div class="layui-col-xs6">
+                <div class="grid-demo grid-demo-bg1 lableInfo">评价编号</div>
+            </div>
+            <div class="layui-col-xs6">
+                <div class="grid-demo" id="canteenreviewid">6/12</div>
+            </div>
+        </div>
         <div class="layui-form-item">
             <label class="layui-form-label">评价标题</label>
             <div class="layui-input-block">
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"db805a19-2802-40c2-8f8a-0ded9246114f\" name=\"更改\" comment=\"编辑功能修复\">\r\n      <change afterPath=\"$PROJECT_DIR$/src/main/resources/public/CM-announcementAdd.html\" afterDir=\"false\" />\r\n      <change afterPath=\"$PROJECT_DIR$/src/main/resources/public/CM-announcementEdit.html\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/resources/public/CM-announcement.html\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/resources/public/CM-announcement.html\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/resources/public/CM-dish.html\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/resources/public/CM-dish.html\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/resources/public/CM-dishEdit.html\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/src/main/resources/public/CM-dishEdit.html\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/public/CM-dishEdit.html\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/public/CM-dishEdit.html\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/public/SM-canteenEdit.html\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/target/classes/public/SM-canteenEdit.html\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"ChangesViewManager\">\r\n    <option name=\"groupingKeys\">\r\n      <option value=\"directory\" />\r\n    </option>\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"Class\" />\r\n        <option value=\"Interface\" />\r\n        <option value=\"HTML File\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\r\n      <map>\r\n        <entry key=\"$PROJECT_DIR$\" value=\"branch1\" />\r\n      </map>\r\n    </option>\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"GitHubPullRequestSearchHistory\">{\r\n  &quot;lastFilter&quot;: {\r\n    &quot;state&quot;: &quot;OPEN&quot;,\r\n    &quot;assignee&quot;: &quot;lym-u&quot;\r\n  }\r\n}</component>\r\n  <component name=\"GithubPullRequestsUISettings\">\r\n    <option name=\"selectedUrlAndAccountId\">\r\n      <UrlAndAccount>\r\n        <option name=\"accountId\" value=\"2cd167e0-4931-4f28-bbfb-7684a35d1f76\" />\r\n        <option name=\"url\" value=\"git@github.com:lym-u/Canteen.git\" />\r\n      </UrlAndAccount>\r\n    </option>\r\n  </component>\r\n  <component name=\"MavenImportPreferences\">\r\n    <option name=\"generalSettings\">\r\n      <MavenGeneralSettings>\r\n        <option name=\"localRepository\" value=\"D:\\Astudy\\Maven\\jar_pack\" />\r\n        <option name=\"userSettingsFile\" value=\"D:\\Astudy\\Maven\\apache-maven-3.9.5\\conf\\settings.xml\" />\r\n      </MavenGeneralSettings>\r\n    </option>\r\n  </component>\r\n  <component name=\"ProblemsViewState\">\r\n    <option name=\"selectedTabId\" value=\"CurrentFile\" />\r\n  </component>\r\n  <component name=\"ProjectColorInfo\">{\r\n  &quot;associatedIndex&quot;: 2\r\n}</component>\r\n  <component name=\"ProjectId\" id=\"2ZJ6CoNVab9ACgNQf5mmXVg97zL\" />\r\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">{\r\n  &quot;keyToString&quot;: {\r\n    &quot;DefaultHtmlFileTemplate&quot;: &quot;HTML File&quot;,\r\n    &quot;RequestMappingsPanelOrder0&quot;: &quot;0&quot;,\r\n    &quot;RequestMappingsPanelOrder1&quot;: &quot;1&quot;,\r\n    &quot;RequestMappingsPanelOrder2&quot;: &quot;2&quot;,\r\n    &quot;RequestMappingsPanelWidth0&quot;: &quot;75&quot;,\r\n    &quot;RequestMappingsPanelWidth1&quot;: &quot;75&quot;,\r\n    &quot;RequestMappingsPanelWidth2&quot;: &quot;75&quot;,\r\n    &quot;RunOnceActivity.OpenProjectViewOnStart&quot;: &quot;true&quot;,\r\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\r\n    &quot;SHARE_PROJECT_CONFIGURATION_FILES&quot;: &quot;true&quot;,\r\n    &quot;WebServerToolWindowFactoryState&quot;: &quot;false&quot;,\r\n    &quot;git-widget-placeholder&quot;: &quot;master&quot;,\r\n    &quot;ignore.virus.scanning.warn.message&quot;: &quot;true&quot;,\r\n    &quot;last_opened_file_path&quot;: &quot;D:/A学习资料/IdealU/Project/test_web/StudentScore&quot;,\r\n    &quot;node.js.detected.package.eslint&quot;: &quot;true&quot;,\r\n    &quot;node.js.detected.package.tslint&quot;: &quot;true&quot;,\r\n    &quot;node.js.selected.package.eslint&quot;: &quot;(autodetect)&quot;,\r\n    &quot;node.js.selected.package.tslint&quot;: &quot;(autodetect)&quot;,\r\n    &quot;project.structure.last.edited&quot;: &quot;模块&quot;,\r\n    &quot;project.structure.proportion&quot;: &quot;0.15&quot;,\r\n    &quot;project.structure.side.proportion&quot;: &quot;0.2&quot;,\r\n    &quot;settings.editor.selected.configurable&quot;: &quot;preferences.general&quot;,\r\n    &quot;vue.rearranger.settings.migration&quot;: &quot;true&quot;\r\n  },\r\n  &quot;keyToStringList&quot;: {\r\n    &quot;DatabaseDriversLRU&quot;: [\r\n      &quot;mysql&quot;\r\n    ],\r\n    &quot;com.intellij.ide.scratch.LRUPopupBuilder$1/SQL 方言&quot;: [\r\n      &quot;MySQL&quot;\r\n    ]\r\n  }\r\n}</component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"CopyFile.RECENT_KEYS\">\r\n      <recent name=\"D:\\A学习资料\\IdealU\\Project\\test_web\\Canteen\\src\\main\\resources\" />\r\n    </key>\r\n    <key name=\"MoveFile.RECENT_KEYS\">\r\n      <recent name=\"D:\\A学习资料\\IdealU\\Project\\test_web\\Canteen\\src\\main\\resources\\public\" />\r\n    </key>\r\n    <key name=\"CopyClassDialog.RECENTS_KEY\">\r\n      <recent name=\"com.canteen.bean\" />\r\n      <recent name=\"com.score.dao\" />\r\n      <recent name=\"com.score.service\" />\r\n      <recent name=\"com.score.service.impl\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"RunManager\">\r\n    <configuration name=\"StartApplication\" type=\"SpringBootApplicationConfigurationType\" factoryName=\"Spring Boot\">\r\n      <option name=\"ALTERNATIVE_JRE_PATH\" value=\"1.8\" />\r\n      <option name=\"ALTERNATIVE_JRE_PATH_ENABLED\" value=\"true\" />\r\n      <module name=\"Canteen\" />\r\n      <option name=\"SPRING_BOOT_MAIN_CLASS\" value=\"com.canteen.boot.StartApplication\" />\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"应用程序级\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"默认任务\">\r\n      <changelist id=\"db805a19-2802-40c2-8f8a-0ded9246114f\" name=\"更改\" comment=\"\" />\r\n      <created>1702127709264</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1702127709264</updated>\r\n      <workItem from=\"1702127710300\" duration=\"135000\" />\r\n      <workItem from=\"1702128086446\" duration=\"48713000\" />\r\n      <workItem from=\"1703042995854\" duration=\"23494000\" />\r\n      <workItem from=\"1703421100457\" duration=\"69402000\" />\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"第一次提交\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1702129452508</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1702129452508</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"连接数据库\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1702218686809</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1702218686809</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"声明接口\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1702297860340</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1702297860340</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\".\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1703213356205</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1703213356205</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"过滤器\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1703216501913</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1703216501913</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"重命名\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1703216976307</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1703216976307</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00007\" summary=\"dish\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1703229029729</created>\r\n      <option name=\"number\" value=\"00007\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1703229029730</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00008\" summary=\".\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1703230748604</created>\r\n      <option name=\"number\" value=\"00008\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1703230748604</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00009\" summary=\"修正\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1703256490409</created>\r\n      <option name=\"number\" value=\"00009\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1703256490409</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00010\" summary=\"合并\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1703256957991</created>\r\n      <option name=\"number\" value=\"00010\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1703256957991</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00011\" summary=\"新建\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1703257453394</created>\r\n      <option name=\"number\" value=\"00011\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1703257453395</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00012\" summary=\"修复\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1703415623388</created>\r\n      <option name=\"number\" value=\"00012\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1703415623388</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00013\" summary=\"登录\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1703417481850</created>\r\n      <option name=\"number\" value=\"00013\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00013\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1703417481850</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00014\" summary=\"前端\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1703422748472</created>\r\n      <option name=\"number\" value=\"00014\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00014\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1703422748472</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00015\" summary=\"前后端数据传递\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1703600316619</created>\r\n      <option name=\"number\" value=\"00015\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00015\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1703600316619</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00016\" summary=\"添加和删除食堂数据传递\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1703616367543</created>\r\n      <option name=\"number\" value=\"00016\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00016\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1703616367543</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00017\" summary=\"菜品后端\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1703825661358</created>\r\n      <option name=\"number\" value=\"00017\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00017\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1703825661358</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00018\" summary=\"后端更新\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1703828389306</created>\r\n      <option name=\"number\" value=\"00018\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00018\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1703828389306</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00019\" summary=\"前端显示\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1703832414027</created>\r\n      <option name=\"number\" value=\"00019\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00019\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1703832414027</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00020\" summary=\"显示界面\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1703833973673</created>\r\n      <option name=\"number\" value=\"00020\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00020\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1703833973673</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00021\" summary=\"登录全连上了\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1703926308465</created>\r\n      <option name=\"number\" value=\"00021\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00021\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1703926308465</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00022\" summary=\"菜品后端\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1704570543414</created>\r\n      <option name=\"number\" value=\"00022\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00022\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1704570543414</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00023\" summary=\"菜品评价后端\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1704574936712</created>\r\n      <option name=\"number\" value=\"00023\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00023\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1704574936712</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00024\" summary=\"注销账号后端\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1704614360413</created>\r\n      <option name=\"number\" value=\"00024\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00024\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1704614360413</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00025\" summary=\"编辑功能修复\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1704632867151</created>\r\n      <option name=\"number\" value=\"00025\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00025\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1704632867151</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"26\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"TypeScriptGeneratedFilesManager\">\r\n    <option name=\"version\" value=\"3\" />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State>\r\n              <option name=\"FILTERS\">\r\n                <map>\r\n                  <entry key=\"branch\">\r\n                    <value>\r\n                      <list>\r\n                        <option value=\"master\" />\r\n                      </list>\r\n                    </value>\r\n                  </entry>\r\n                </map>\r\n              </option>\r\n            </State>\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"第一次提交\" />\r\n    <MESSAGE value=\"连接数据库\" />\r\n    <MESSAGE value=\"声明接口\" />\r\n    <MESSAGE value=\"过滤器\" />\r\n    <MESSAGE value=\"重命名\" />\r\n    <MESSAGE value=\"dish\" />\r\n    <MESSAGE value=\".\" />\r\n    <MESSAGE value=\"修正\" />\r\n    <MESSAGE value=\"合并\" />\r\n    <MESSAGE value=\"新建\" />\r\n    <MESSAGE value=\"修复\" />\r\n    <MESSAGE value=\"登录\" />\r\n    <MESSAGE value=\"前端\" />\r\n    <MESSAGE value=\"前后端数据传递\" />\r\n    <MESSAGE value=\"添加和删除食堂数据传递\" />\r\n    <MESSAGE value=\"后端更新\" />\r\n    <MESSAGE value=\"前端显示\" />\r\n    <MESSAGE value=\"显示界面\" />\r\n    <MESSAGE value=\"登录全连上了\" />\r\n    <MESSAGE value=\"菜品后端\" />\r\n    <MESSAGE value=\"菜品评价后端\" />\r\n    <MESSAGE value=\"注销账号后端\" />\r\n    <MESSAGE value=\"编辑功能修复\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"编辑功能修复\" />\r\n    <option name=\"GROUP_MULTIFILE_MERGE_BY_DIRECTORY\" value=\"true\" />\r\n  </component>\r\n  <component name=\"XSLT-Support.FileAssociations.UIState\">\r\n    <expand />\r\n    <select />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision e81b8d652216ddac7dd61bccf6ec28f0e7d33648)
+++ b/.idea/workspace.xml	(date 1704654357871)
@@ -4,15 +4,25 @@
     <option name="autoReloadType" value="SELECTIVE" />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="db805a19-2802-40c2-8f8a-0ded9246114f" name="更改" comment="编辑功能修复">
-      <change afterPath="$PROJECT_DIR$/src/main/resources/public/CM-announcementAdd.html" afterDir="false" />
-      <change afterPath="$PROJECT_DIR$/src/main/resources/public/CM-announcementEdit.html" afterDir="false" />
+    <list default="true" id="db805a19-2802-40c2-8f8a-0ded9246114f" name="更改" comment="CM食堂前端修改">
+      <change afterPath="$PROJECT_DIR$/src/main/resources/public/TS-dish1.html" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/resources/public/TS-dishcmt.html" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/resources/public/CM-announcement.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/public/CM-announcement.html" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/src/main/resources/public/CM-dish.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/public/CM-dish.html" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/resources/public/CM-dishEdit.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/public/CM-dishEdit.html" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/public/CM-dishEdit.html" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/public/CM-dishEdit.html" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/public/SM-canteenEdit.html" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/public/SM-canteenEdit.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/public/CM-dishAdd.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/public/CM-dishAdd.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/public/SM-account.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/public/SM-account.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/public/TS-dish.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/public/TS-dish.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/com/canteen/controller/CanteenController.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/canteen/controller/CanteenController.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/com/canteen/service/PostreplyService.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/com/canteen/service/PostreplyService.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/public/CM-appraise.html" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/public/CM-appraise.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/public/CM-canteenEdit.html" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/public/CM-canteenEdit.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/public/CM-canteenlist.html" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/public/CM-canteenlist.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/public/SM-account.html" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/public/SM-account.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/public/SM-appraise.html" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/public/SM-appraise.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/public/SM-appriseEdit.html" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/public/SM-appriseEdit.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/public/SM-canteenlist.html" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/public/SM-canteenlist.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/public/TS-dish.html" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/public/TS-dish.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/public/user_register.html" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/public/user_register.html" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -348,7 +358,31 @@
       <option name="project" value="LOCAL" />
       <updated>1704632867151</updated>
     </task>
-    <option name="localTasksCounter" value="26" />
+    <task id="LOCAL-00026" summary="活动公告前端加接口">
+      <option name="closed" value="true" />
+      <created>1704639543371</created>
+      <option name="number" value="00026" />
+      <option name="presentableId" value="LOCAL-00026" />
+      <option name="project" value="LOCAL" />
+      <updated>1704639543371</updated>
+    </task>
+    <task id="LOCAL-00027" summary="注册修复">
+      <option name="closed" value="true" />
+      <created>1704648424180</created>
+      <option name="number" value="00027" />
+      <option name="presentableId" value="LOCAL-00027" />
+      <option name="project" value="LOCAL" />
+      <updated>1704648424180</updated>
+    </task>
+    <task id="LOCAL-00028" summary="CM食堂前端修改">
+      <option name="closed" value="true" />
+      <created>1704651917362</created>
+      <option name="number" value="00028" />
+      <option name="presentableId" value="LOCAL-00028" />
+      <option name="project" value="LOCAL" />
+      <updated>1704651917362</updated>
+    </task>
+    <option name="localTasksCounter" value="29" />
     <servers />
   </component>
   <component name="TypeScriptGeneratedFilesManager">
@@ -378,7 +412,6 @@
     </option>
   </component>
   <component name="VcsManagerConfiguration">
-    <MESSAGE value="第一次提交" />
     <MESSAGE value="连接数据库" />
     <MESSAGE value="声明接口" />
     <MESSAGE value="过滤器" />
@@ -401,7 +434,10 @@
     <MESSAGE value="菜品评价后端" />
     <MESSAGE value="注销账号后端" />
     <MESSAGE value="编辑功能修复" />
-    <option name="LAST_COMMIT_MESSAGE" value="编辑功能修复" />
+    <MESSAGE value="活动公告前端加接口" />
+    <MESSAGE value="注册修复" />
+    <MESSAGE value="CM食堂前端修改" />
+    <option name="LAST_COMMIT_MESSAGE" value="CM食堂前端修改" />
     <option name="GROUP_MULTIFILE_MERGE_BY_DIRECTORY" value="true" />
   </component>
   <component name="XSLT-Support.FileAssociations.UIState">
Index: target/classes/public/CM-dishAdd.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"renderer\" content=\"webkit\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\r\n    <meta name=\"viewport\"\r\n          content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\" />\r\n    <title>添加菜品信息</title>\r\n    <link rel=\"stylesheet\" type=\"text/css\"\r\n          href=\"assets/admin/layui/css/layui.css\" />\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/css/admin.css\" />\r\n</head>\r\n\r\n<body>\r\n<div class=\"page-content-wrap\" id=\"dishAdd\">\r\n\r\n    <form class=\"layui-form\" action=\"\" id=\"\">\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">菜品编号</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"dishid\" lay-verify=\"required|dishID\" placeholder=\"请输入菜品编号\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">菜品名称</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"dishname\" lay-verify=\"required|dishName\" placeholder=\"请输入菜品名称\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">菜品价格</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"price\" lay-verify=\"required|dishPrice\" placeholder=\"请输入菜品价格\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">促销价格</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"promoteprice\" lay-verify=\"required|promoterPrice\" placeholder=\"请输入促销菜品价格\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">菜系</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"dishstyle\" lay-verify=\"required|dishStyle\" placeholder=\"请输入菜系\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">所属食堂ID</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"canteenid\" lay-verify=\"required|canteenid\" placeholder=\"请输入所属食堂ID\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">简介</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"description\" lay-verify=\"required|description\" placeholder=\"请输入简介\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">图片文件名</label>\r\n            <div class=\"layui-input-block\">\r\n                <input type=\"text\" name=\"imagefilename\" lay-verify=\"required|imagefileName\" placeholder=\"请输入图片文件名\" autocomplete=\"off\" class=\"layui-input\">\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item\">\r\n            <label class=\"layui-form-label\">是否推荐</label>\r\n            <div class=\"layui-input-block\">\r\n                <select name=\"ifrecommend\" lay-verify=\"required\">\r\n                    <option value=\"\">请选择</option>\r\n                    <option value=\"1\">是</option>\r\n                    <option value=\"0\">否</option>\r\n                </select>\r\n            </div>\r\n        </div>\r\n        <div class=\"layui-form-item m-login-btn\" style=\"text-align:center\">\r\n            <div class=\"layui-inline\">\r\n                <button class=\"layui-btn layui-btn-normal\" lay-submit lay-filter=\"addCanteen\">添加菜品信息</button>\r\n            </div>\r\n            <div class=\"layui-inline\">\r\n                <button type=\"reset\" class=\"layui-btn layui-btn-primary site-demo-active\" data-type=\"reset\">取消添加</button>\r\n            </div>\r\n        </div>\r\n    </form>\r\n\r\n\r\n    <hr></hr>\r\n    <h5 style=\"text-align: center;\">@2023.食堂菜品管理系统</h5>\r\n</div>\r\n<script src=\"assets/admin/layui/layui.all.js\" type=\"text/javascript\"\r\n        charset=\"utf-8\"></script>\r\n<script>\r\n    layui.use(['form', 'layedit', 'laydate'], function(){\r\n        var form = layui.form\r\n            ,layer = layui.layer,layedit=layui.layedit;\r\n        var $ = layui.jquery;\r\n\r\n        //创建一个编辑器\r\n        var editIndex = layedit.build('LAY_demo_editor');\r\n        form.verify({\r\n            dishID: function(value) {\r\n                if (!/^\\d{3}$/.test(value)) {\r\n                    return '菜品编号必须为3位数字';\r\n                }\r\n            },\r\n            dishName: function(value) {\r\n                if (value.length < 2 || value.length > 20) {\r\n                    return '菜品名称长度必须为2-20个字符';\r\n                }\r\n            },\r\n            dishPrice: function(value) {\r\n                if (!/^\\d+(\\.\\d{1,2})?$/.test(value)) {\r\n                    return '菜品价格必须为数字，最多保留两位小数';\r\n                }\r\n            },\r\n            promoterPrice: function(value) {\r\n                if (!/^\\d+(\\.\\d{1,2})?$/.test(value)) {\r\n                    return '促销菜品价格必须为数字，最多保留两位小数';\r\n                }\r\n            },\r\n            dishStyle: function(value) {\r\n                if (value.length < 2 || value.length > 10) {\r\n                    return '菜系长度必须为2-10个字符';\r\n                }\r\n            },\r\n            canteenid: function(value) {\r\n                if (!/^\\d{3}$/.test(value)) {\r\n                    return '所属食堂ID必须为3位数字';\r\n                }\r\n            },\r\n            description: function(value) {\r\n                if (value.length < 10 || value.length > 100) {\r\n                    return '简介长度必须为10-100个字符';\r\n                }\r\n            },\r\n            imagefileName: function(value) {\r\n                if (!/^[a-zA-Z0-9]{1,10}\\.(jpg|jpeg|png)$/.test(value)) {\r\n                    return '图片文件名格式不正确，只允许使用字母、数字和点号，并且后缀只能为jpg、jpeg或png';\r\n                }\r\n            }\r\n        });\r\n\r\n        form.on('submit(addDish)', function(data) {\r\n            var str = JSON.stringify(data.field);\r\n            var param = JSON.parse(str);\r\n            $.ajax({\r\n                type: \"POST\",\r\n                dataType: \"json\",\r\n                url: \"/dish/addDish\",\r\n                data: JSON.stringify(param),  // 将参数转为 JSON 字符串\r\n                contentType: \"application/json\",  // 设置请求头为 application/json\r\n                success: function(result) {\r\n                    if (result.code == \"0\") {\r\n                        var index = parent.layer.getFrameIndex(window.name);\r\n                        parent.layer.close(index);\r\n                        parent.layer.msg('添加菜品成功');\r\n                        parent.layui.table.reload('dishTable', {\r\n                            page: {\r\n                                curr: 1\r\n                            }\r\n                        });\r\n                    } else {\r\n                        layer.msg(result.msg, {\r\n                            icon: 5\r\n                        });\r\n                    }\r\n                },\r\n                error: function(xhr, status, error) {  // 处理请求错误\r\n                    console.error(error);\r\n                }\r\n            });\r\n        });\r\n\r\n        var active = {\r\n            reset: function() {\r\n                var index = parent.layer.getFrameIndex(window.name);\r\n                parent.layer.close(index);\r\n                parent.layer.msg('已取消操作');\r\n            }\r\n        };\r\n\r\n        $('#dishAdd .layui-btn').on('click', function() {\r\n            var type = $(this).data('type');\r\n            active[type] ? active[type].call(this) : '';\r\n        });\r\n\r\n\r\n    });\r\n</script>\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/public/CM-dishAdd.html b/target/classes/public/CM-dishAdd.html
--- a/target/classes/public/CM-dishAdd.html	(revision e81b8d652216ddac7dd61bccf6ec28f0e7d33648)
+++ b/target/classes/public/CM-dishAdd.html	(date 1704654357816)
@@ -15,36 +15,35 @@
 
 <body>
 <div class="page-content-wrap" id="dishAdd">
-
     <form class="layui-form" action="" id="">
         <div class="layui-form-item">
             <label class="layui-form-label">菜品编号</label>
             <div class="layui-input-block">
-                <input type="text" name="dishid" lay-verify="required|dishID" placeholder="请输入菜品编号" autocomplete="off" class="layui-input">
+                <input type="text" name="dishid" lay-verify="required|dishid" placeholder="请输入菜品编号" autocomplete="off" class="layui-input">
             </div>
         </div>
         <div class="layui-form-item">
             <label class="layui-form-label">菜品名称</label>
             <div class="layui-input-block">
-                <input type="text" name="dishname" lay-verify="required|dishName" placeholder="请输入菜品名称" autocomplete="off" class="layui-input">
+                <input type="text" name="dishname" lay-verify="required|dishname" placeholder="请输入菜品名称" autocomplete="off" class="layui-input">
             </div>
         </div>
         <div class="layui-form-item">
             <label class="layui-form-label">菜品价格</label>
             <div class="layui-input-block">
-                <input type="text" name="price" lay-verify="required|dishPrice" placeholder="请输入菜品价格" autocomplete="off" class="layui-input">
+                <input type="text" name="price" lay-verify="required|price" placeholder="请输入菜品价格" autocomplete="off" class="layui-input">
             </div>
         </div>
         <div class="layui-form-item">
             <label class="layui-form-label">促销价格</label>
             <div class="layui-input-block">
-                <input type="text" name="promoteprice" lay-verify="required|promoterPrice" placeholder="请输入促销菜品价格" autocomplete="off" class="layui-input">
+                <input type="text" name="promoteprice" lay-verify="required|promoteprice" placeholder="请输入促销菜品价格" autocomplete="off" class="layui-input">
             </div>
         </div>
         <div class="layui-form-item">
             <label class="layui-form-label">菜系</label>
             <div class="layui-input-block">
-                <input type="text" name="dishstyle" lay-verify="required|dishStyle" placeholder="请输入菜系" autocomplete="off" class="layui-input">
+                <input type="text" name="dishstyle" lay-verify="required|dishstyle" placeholder="请输入菜系" autocomplete="off" class="layui-input">
             </div>
         </div>
         <div class="layui-form-item">
@@ -62,7 +61,7 @@
         <div class="layui-form-item">
             <label class="layui-form-label">图片文件名</label>
             <div class="layui-input-block">
-                <input type="text" name="imagefilename" lay-verify="required|imagefileName" placeholder="请输入图片文件名" autocomplete="off" class="layui-input">
+                <input type="text" name="imagefilename" lay-verify="required|imagefilename" placeholder="请输入图片文件名" autocomplete="off" class="layui-input">
             </div>
         </div>
         <div class="layui-form-item">
@@ -100,27 +99,27 @@
         //创建一个编辑器
         var editIndex = layedit.build('LAY_demo_editor');
         form.verify({
-            dishID: function(value) {
+            dishid: function(value) {
                 if (!/^\d{3}$/.test(value)) {
                     return '菜品编号必须为3位数字';
                 }
             },
-            dishName: function(value) {
+            dishname: function(value) {
                 if (value.length < 2 || value.length > 20) {
                     return '菜品名称长度必须为2-20个字符';
                 }
             },
-            dishPrice: function(value) {
+            price: function(value) {
                 if (!/^\d+(\.\d{1,2})?$/.test(value)) {
                     return '菜品价格必须为数字，最多保留两位小数';
                 }
             },
-            promoterPrice: function(value) {
+            promoteprice: function(value) {
                 if (!/^\d+(\.\d{1,2})?$/.test(value)) {
                     return '促销菜品价格必须为数字，最多保留两位小数';
                 }
             },
-            dishStyle: function(value) {
+            dishstyle: function(value) {
                 if (value.length < 2 || value.length > 10) {
                     return '菜系长度必须为2-10个字符';
                 }
@@ -135,7 +134,7 @@
                     return '简介长度必须为10-100个字符';
                 }
             },
-            imagefileName: function(value) {
+            imagefilename: function(value) {
                 if (!/^[a-zA-Z0-9]{1,10}\.(jpg|jpeg|png)$/.test(value)) {
                     return '图片文件名格式不正确，只允许使用字母、数字和点号，并且后缀只能为jpg、jpeg或png';
                 }
@@ -181,14 +180,11 @@
             }
         };
 
-        $('#dishAdd .layui-btn').on('click', function() {
+        $('#dishAdd.layui-btn').on('click', function() {
             var type = $(this).data('type');
             active[type] ? active[type].call(this) : '';
         });
-
-
     });
 </script>
 </body>
-
 </html>
\ No newline at end of file
Index: src/main/resources/public/TS-dishcmt.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/public/TS-dishcmt.html b/src/main/resources/public/TS-dishcmt.html
new file mode 100644
--- /dev/null	(date 1704654261899)
+++ b/src/main/resources/public/TS-dishcmt.html	(date 1704654261899)
@@ -0,0 +1,191 @@
+<!DOCTYPE html>
+<html>
+
+<head>
+    <meta charset="UTF-8">
+    <meta name="renderer" content="webkit">
+    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
+    <meta name="viewport"
+          content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
+    <title>添加菜品信息</title>
+    <link rel="stylesheet" type="text/css"
+          href="assets/admin/layui/css/layui.css" />
+    <link rel="stylesheet" type="text/css" href="assets/admin/css/admin.css" />
+</head>
+
+<body>
+<div class="page-content-wrap" id="dishAdd">
+
+    <form class="layui-form" action="" id="">
+        <div class="layui-form-item">
+            <label class="layui-form-label">菜品编号</label>
+            <div class="layui-input-block">
+                <input type="text" name="dishid" lay-verify="required|dishID" placeholder="请输入菜品编号" autocomplete="off" class="layui-input">
+            </div>
+        </div>
+        <div class="layui-form-item">
+            <label class="layui-form-label">菜品名称</label>
+            <div class="layui-input-block">
+                <input type="text" name="dishname" lay-verify="required|dishName" placeholder="请输入菜品名称" autocomplete="off" class="layui-input">
+            </div>
+        </div>
+        <div class="layui-form-item">
+            <label class="layui-form-label">菜品价格</label>
+            <div class="layui-input-block">
+                <input type="text" name="price" lay-verify="required|dishPrice" placeholder="请输入菜品价格" autocomplete="off" class="layui-input">
+            </div>
+        </div>
+        <div class="layui-form-item">
+            <label class="layui-form-label">促销价格</label>
+            <div class="layui-input-block">
+                <input type="text" name="promoteprice" lay-verify="required|promoterPrice" placeholder="请输入促销菜品价格" autocomplete="off" class="layui-input">
+            </div>
+        </div>
+        <div class="layui-form-item">
+            <label class="layui-form-label">菜系</label>
+            <div class="layui-input-block">
+                <input type="text" name="dishstyle" lay-verify="required|dishStyle" placeholder="请输入菜系" autocomplete="off" class="layui-input">
+            </div>
+        </div>
+        <div class="layui-form-item">
+            <label class="layui-form-label">所属食堂ID</label>
+            <div class="layui-input-block">
+                <input type="text" name="canteenid" lay-verify="required|canteenid" placeholder="请输入所属食堂ID" autocomplete="off" class="layui-input">
+            </div>
+        </div>
+        <div class="layui-form-item">
+            <label class="layui-form-label">简介</label>
+            <div class="layui-input-block">
+                <input type="text" name="description" lay-verify="required|description" placeholder="请输入简介" autocomplete="off" class="layui-input">
+            </div>
+        </div>
+        <div class="layui-form-item">
+            <label class="layui-form-label">图片文件名</label>
+            <div class="layui-input-block">
+                <input type="text" name="imagefilename" lay-verify="required|imagefileName" placeholder="请输入图片文件名" autocomplete="off" class="layui-input">
+            </div>
+        </div>
+        <div class="layui-form-item">
+            <label class="layui-form-label">是否推荐</label>
+            <div class="layui-input-block">
+                <select name="ifrecommend" lay-verify="required">
+                    <option value="">请选择</option>
+                    <option value="1">是</option>
+                    <option value="0">否</option>
+                </select>
+            </div>
+        </div>
+        <div class="layui-form-item m-login-btn" style="text-align:center">
+            <div class="layui-inline">
+                <button class="layui-btn layui-btn-normal" lay-submit lay-filter="addCanteen">添加菜品信息</button>
+            </div>
+            <div class="layui-inline">
+                <button type="reset" class="layui-btn layui-btn-primary site-demo-active" data-type="reset">取消添加</button>
+            </div>
+        </div>
+    </form>
+
+
+    <hr></hr>
+    <h5 style="text-align: center;">@2023.食堂菜品管理系统</h5>
+</div>
+<script src="assets/admin/layui/layui.all.js" type="text/javascript"
+        charset="utf-8"></script>
+<script>
+    layui.use(['form', 'layedit', 'laydate'], function(){
+        var form = layui.form
+            ,layer = layui.layer,layedit=layui.layedit;
+        var $ = layui.jquery;
+
+        //创建一个编辑器
+        var editIndex = layedit.build('LAY_demo_editor');
+        form.verify({
+            dishID: function(value) {
+                if (!/^\d{3}$/.test(value)) {
+                    return '菜品编号必须为3位数字';
+                }
+            },
+            dishName: function(value) {
+                if (value.length < 2 || value.length > 20) {
+                    return '菜品名称长度必须为2-20个字符';
+                }
+            },
+            dishPrice: function(value) {
+                if (!/^\d+(\.\d{1,2})?$/.test(value)) {
+                    return '菜品价格必须为数字，最多保留两位小数';
+                }
+            },
+            promoterPrice: function(value) {
+                if (!/^\d+(\.\d{1,2})?$/.test(value)) {
+                    return '促销菜品价格必须为数字，最多保留两位小数';
+                }
+            },
+            dishStyle: function(value) {
+                if (value.length < 2 || value.length > 10) {
+                    return '菜系长度必须为2-10个字符';
+                }
+            },
+            canteenid: function(value) {
+                if (!/^\d{3}$/.test(value)) {
+                    return '所属食堂ID必须为3位数字';
+                }
+            },
+            description: function(value) {
+                if (value.length < 10 || value.length > 100) {
+                    return '简介长度必须为10-100个字符';
+                }
+            },
+            imagefileName: function(value) {
+                if (!/^[a-zA-Z0-9]{1,10}\.(jpg|jpeg|png)$/.test(value)) {
+                    return '图片文件名格式不正确，只允许使用字母、数字和点号，并且后缀只能为jpg、jpeg或png';
+                }
+            }
+        });
+
+        form.on('submit(addDish)', function(data) {
+            var str = JSON.stringify(data.field);
+            var param = JSON.parse(str);
+            $.ajax({
+                type: "POST",
+                dataType: "json",
+                url: "/dish/addDish",
+                data: JSON.stringify(param),  // 将参数转为 JSON 字符串
+                contentType: "application/json",  // 设置请求头为 application/json
+                success: function(result) {
+                    if (result.code == "0") {
+                        var index = parent.layer.getFrameIndex(window.name);
+                        parent.layer.close(index);
+                        parent.layer.msg('添加菜品成功');
+                        parent.layui.table.reload('dishTable', {
+                            page: {
+                                curr: 1
+                            }
+                        });
+                    } else {
+                        layer.msg(result.msg, {
+                            icon: 5
+                        });
+                    }
+                },
+                error: function(xhr, status, error) {  // 处理请求错误
+                    console.error(error);
+                }
+            });
+        });
+
+        var active = {
+            reset: function() {
+                var index = parent.layer.getFrameIndex(window.name);
+                parent.layer.close(index);
+                parent.layer.msg('已取消操作');
+            }
+        };
+
+        $('#dishAdd .layui-btn').on('click', function() {
+            var type = $(this).data('type');
+            active[type] ? active[type].call(this) : '';
+        });
+    });
+</script>
+</body>
+</html>
\ No newline at end of file
Index: target/classes/public/TS-dish.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html>\r\n\t<head>\r\n\t\t<meta charset=\"UTF-8\">\r\n\t\t<meta name=\"renderer\" content=\"webkit\">\r\n\t\t<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\r\n\t\t<meta name=\"viewport\"\r\n\t\t\tcontent=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\" />\r\n\t\t<title>食堂点评交流社区</title>\r\n\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/layui/css/layui.css\" />\r\n\t\t<link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/css/admin.css\" />\r\n\t</head>\r\n\t<body>\r\n\t\t<div class=\"main-layout\" id='main-layout'>\r\n\t\t\t<!--侧边栏-->\r\n\t\t\t<div class=\"main-layout-side\">\r\n\t\t\t\t<div class=\"m-logo\" style=\"color:white;line-height:60px;text-align:center; font-size:18px;\">\r\n\t\t\t\t\t<span>食堂点评交流社区</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<ul class=\"layui-nav layui-nav-tree\" lay-filter=\"leftNav\">\r\n\t\t\t\t\t<li class=\"layui-nav-item\">\r\n\t\t\t\t\t\t<a href=\"javascript:;\" data-url=\"TS-index-index.html\"><i class=\"iconfont\">&#xe604;</i>首页</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"layui-nav-item\">\r\n\t\t\t\t\t\t<a href=\"javascript:;\" data-url=\"TS-communication-social.html\"><i\r\n\t\t\t\t\t\t\t\tclass=\"iconfont\">&#xe604;</i>交流社区</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"layui-nav-item\">\r\n\t\t\t\t\t\t<a href=\"javascript:;\" data-url=\"TS-dish.html\"><i class=\"iconfont\">&#xe604;</i>菜品浏览</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"layui-nav-item\">\r\n\t\t\t\t\t\t<a href=\"javascript:;\" data-url=\"TS-appraise.html\"><i class=\"iconfont\">&#xe604;</i>菜品打分</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"layui-nav-item\">\r\n\t\t\t\t\t\t<a href=\"javascript:;\" data-url=\"TS-canteen.html\"><i class=\"iconfont\">&#xe604;</i>食堂检索</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li class=\"layui-nav-item\">\r\n\t\t\t\t\t\t<a href=\"javascript:;\" data-id='6' data-url=\"loginOut\" data-text=\"退出登录\"><i\r\n\t\t\t\t\t\t\t\tclass=\"iconfont\">&#x1006;</i>退出登录</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t<!--右侧内容-->\r\n\t\t\t<div class=\"main-layout-container\">\r\n\t\t\t\t<div class=\"main-layout-header\">\r\n\t\t\t\t\t<div class=\"menu-btn\" id=\"hideBtn\" style=\"font-size: 16px;width: 100px;\">\r\n\t\t\t\t\t\t菜品浏览\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<ul class=\"layui-nav\" lay-filter=\"rightNav\">\r\n\t\t\t\t\t\t<li class=\"layui-nav-item\"><a href=\"javascript:;\" data-url=\"loginOut\" style=\"color:black\">退出</a>\r\n\t\t\t\t\t\t</li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"browse-main\">\r\n\t\t\t\t\t<div class=\"browse-jiansuo\">\r\n\t\t\t\t\t\t<select name=\"\">\r\n\t\t\t\t\t\t\t<option value=\"\" disabled selected hidden>请选择菜系</option>\r\n\t\t\t\t\t\t\t<option value=\"\">川菜</option>\r\n\t\t\t\t\t\t\t<option value=\"\">鲁菜</option>\r\n\t\t\t\t\t\t\t<option value=\"\">粤菜</option>\r\n\t\t\t\t\t\t\t<option value=\"\">苏菜</option>\r\n\t\t\t\t\t\t\t<option value=\"\">闽菜</option>\r\n\t\t\t\t\t\t\t<option value=\"\">浙菜</option>\r\n\t\t\t\t\t\t\t<option value=\"\">湘菜</option>\r\n\t\t\t\t\t\t\t<option value=\"\">徽菜</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t<select name=\"\">\r\n\t\t\t\t\t\t\t<option value=\"\" disabled selected hidden>请选择食堂</option>\r\n\t\t\t\t\t\t\t<option value=\"\"></option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t<form style=\"display: flex;\">\r\n\t\t\t\t\t\t\t<input type=\"number\" id=\"minPrice\" name=\"minPrice\" oninput=\"updatePrice()\" required placeholder=\"价格下限\">\r\n\t\t\t\t\t\t\t<div style=\"width: 12px;border: 1px solid black;height: 0px;margin-top: 47px;\"></div>\r\n\t\t\t\t\t\t\t<input type=\"number\" id=\"maxPrice\" name=\"maxPrice\" required placeholder=\"价格上限\">\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"browse-list\">\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<img src=\"assets/admin/images/ms-list/ms1.jpg\" >\r\n\t\t\t\t\t\t\t\t<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<img src=\"assets/admin/images/ms-list/ms1.jpg\" >\r\n\t\t\t\t\t\t\t\t<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<img src=\"assets/admin/images/ms-list/ms1.jpg\" >\r\n\t\t\t\t\t\t\t\t<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<img src=\"assets/admin/images/ms-list/ms1.jpg\" >\r\n\t\t\t\t\t\t\t\t<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<img src=\"assets/admin/images/ms-list/ms1.jpg\" >\r\n\t\t\t\t\t\t\t\t<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<img src=\"assets/admin/images/ms-list/ms1.jpg\" >\r\n\t\t\t\t\t\t\t\t<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<img src=\"assets/admin/images/ms-list/ms1.jpg\" >\r\n\t\t\t\t\t\t\t\t<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<img src=\"assets/admin/images/ms-list/ms1.jpg\" >\r\n\t\t\t\t\t\t\t\t<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<img src=\"assets/admin/images/ms-list/ms1.jpg\" >\r\n\t\t\t\t\t\t\t\t<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<img src=\"assets/admin/images/ms-list/ms1.jpg\" >\r\n\t\t\t\t\t\t\t\t<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<img src=\"assets/admin/images/ms-list/ms1.jpg\" >\r\n\t\t\t\t\t\t\t\t<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<img src=\"assets/admin/images/ms-list/ms1.jpg\" >\r\n\t\t\t\t\t\t\t\t<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<img src=\"assets/admin/images/ms-list/ms1.jpg\" >\r\n\t\t\t\t\t\t\t\t<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t</div>\r\n\t\t<script src=\"assets/js/jquery-3.3.1.min.js\"></script>\r\n\t\t<script type=\"text/javascript\">\r\n\t\t\tfunction updatePrice() {\r\n\t\t\t  var minPrice = document.getElementById(\"minPrice\").value;\r\n\t\t\t  document.getElementById(\"maxPrice\").setAttribute(\"min\", minPrice);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdocument.addEventListener(\"keyup\", function(event) {\r\n\t\t\t  if (event.key === \"Enter\") {\r\n\t\t\t    event.preventDefault();\r\n\t\t\t    var minPrice = document.getElementById(\"minPrice\").value;\r\n\t\t\t    var maxPrice = document.getElementById(\"maxPrice\").value;\r\n\t\t\t    if (parseInt(maxPrice) < parseInt(minPrice)) {\r\n\t\t\t      alert(\"最大价格不能小于最小价格，请重新输入！\");\r\n\t\t\t    } else {\r\n\t\t\t      alert(\"提交成功！最小价格: \" + minPrice + \", 最大价格: \" + maxPrice);\r\n\t\t\t    }\r\n\t\t\t  }\r\n\t\t\t});\r\n\t\t</script>\r\n\t\t\r\n\t\t<script src=\"assets/admin/layui/layui.js\" type=\"text/javascript\" charset=\"utf-8\"></script>\r\n\t\t<script src=\"assets/admin/js/common.js\" type=\"text/javascript\" charset=\"utf-8\"></script>\r\n\t\t<script src=\"assets/admin/js/main.js\" type=\"text/javascript\" charset=\"utf-8\"></script>\r\n\t</body>\r\n</html>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/public/TS-dish.html b/target/classes/public/TS-dish.html
--- a/target/classes/public/TS-dish.html	(revision e81b8d652216ddac7dd61bccf6ec28f0e7d33648)
+++ b/target/classes/public/TS-dish.html	(date 1704653488482)
@@ -1,162 +1,113 @@
 <!DOCTYPE html>
 <html>
-	<head>
-		<meta charset="UTF-8">
-		<meta name="renderer" content="webkit">
-		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
-		<meta name="viewport"
-			content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
-		<title>食堂点评交流社区</title>
-		<link rel="stylesheet" type="text/css" href="assets/admin/layui/css/layui.css" />
-		<link rel="stylesheet" type="text/css" href="assets/admin/css/admin.css" />
-	</head>
-	<body>
-		<div class="main-layout" id='main-layout'>
-			<!--侧边栏-->
-			<div class="main-layout-side">
-				<div class="m-logo" style="color:white;line-height:60px;text-align:center; font-size:18px;">
-					<span>食堂点评交流社区</span>
-				</div>
-				<ul class="layui-nav layui-nav-tree" lay-filter="leftNav">
-					<li class="layui-nav-item">
-						<a href="javascript:;" data-url="TS-index-index.html"><i class="iconfont">&#xe604;</i>首页</a>
-					</li>
-					<li class="layui-nav-item">
-						<a href="javascript:;" data-url="TS-communication-social.html"><i
-								class="iconfont">&#xe604;</i>交流社区</a>
-					</li>
-					<li class="layui-nav-item">
-						<a href="javascript:;" data-url="TS-dish.html"><i class="iconfont">&#xe604;</i>菜品浏览</a>
-					</li>
-					<li class="layui-nav-item">
-						<a href="javascript:;" data-url="TS-appraise.html"><i class="iconfont">&#xe604;</i>菜品打分</a>
-					</li>
-					<li class="layui-nav-item">
-						<a href="javascript:;" data-url="TS-canteen.html"><i class="iconfont">&#xe604;</i>食堂检索</a>
-					</li>
-					<li class="layui-nav-item">
-						<a href="javascript:;" data-id='6' data-url="loginOut" data-text="退出登录"><i
-								class="iconfont">&#x1006;</i>退出登录</a>
-					</li>
-				</ul>
-			</div>
-			<!--右侧内容-->
-			<div class="main-layout-container">
-				<div class="main-layout-header">
-					<div class="menu-btn" id="hideBtn" style="font-size: 16px;width: 100px;">
-						菜品浏览
-					</div>
-					<ul class="layui-nav" lay-filter="rightNav">
-						<li class="layui-nav-item"><a href="javascript:;" data-url="loginOut" style="color:black">退出</a>
-						</li>
-					</ul>
-				</div>
-				<div class="browse-main">
-					<div class="browse-jiansuo">
-						<select name="">
-							<option value="" disabled selected hidden>请选择菜系</option>
-							<option value="">川菜</option>
-							<option value="">鲁菜</option>
-							<option value="">粤菜</option>
-							<option value="">苏菜</option>
-							<option value="">闽菜</option>
-							<option value="">浙菜</option>
-							<option value="">湘菜</option>
-							<option value="">徽菜</option>
-						</select>
-						<select name="">
-							<option value="" disabled selected hidden>请选择食堂</option>
-							<option value=""></option>
-						</select>
-						<form style="display: flex;">
-							<input type="number" id="minPrice" name="minPrice" oninput="updatePrice()" required placeholder="价格下限">
-							<div style="width: 12px;border: 1px solid black;height: 0px;margin-top: 47px;"></div>
-							<input type="number" id="maxPrice" name="maxPrice" required placeholder="价格上限">
-						</form>
-					</div>
-					<div class="browse-list">
-						<ul>
-							<li>
-								<img src="assets/admin/images/ms-list/ms1.jpg" >
-								<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>
-							</li>
-							<li>
-								<img src="assets/admin/images/ms-list/ms1.jpg" >
-								<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>
-							</li>
-							<li>
-								<img src="assets/admin/images/ms-list/ms1.jpg" >
-								<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>
-							</li>
-							<li>
-								<img src="assets/admin/images/ms-list/ms1.jpg" >
-								<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>
-							</li>
-							<li>
-								<img src="assets/admin/images/ms-list/ms1.jpg" >
-								<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>
-							</li>
-							<li>
-								<img src="assets/admin/images/ms-list/ms1.jpg" >
-								<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>
-							</li>
-							<li>
-								<img src="assets/admin/images/ms-list/ms1.jpg" >
-								<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>
-							</li>
-							<li>
-								<img src="assets/admin/images/ms-list/ms1.jpg" >
-								<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>
-							</li>
-							<li>
-								<img src="assets/admin/images/ms-list/ms1.jpg" >
-								<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>
-							</li>
-							<li>
-								<img src="assets/admin/images/ms-list/ms1.jpg" >
-								<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>
-							</li>
-							<li>
-								<img src="assets/admin/images/ms-list/ms1.jpg" >
-								<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>
-							</li>
-							<li>
-								<img src="assets/admin/images/ms-list/ms1.jpg" >
-								<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>
-							</li>
-							<li>
-								<img src="assets/admin/images/ms-list/ms1.jpg" >
-								<p>冬天，这5种水果煮熟后，养脾胃、润肺燥</p>
-							</li>
-						</ul>
-					</div>
-				</div>
-			</div>
-
-		</div>
-		<script src="assets/js/jquery-3.3.1.min.js"></script>
-		<script type="text/javascript">
-			function updatePrice() {
-			  var minPrice = document.getElementById("minPrice").value;
-			  document.getElementById("maxPrice").setAttribute("min", minPrice);
-			}
-			
-			document.addEventListener("keyup", function(event) {
-			  if (event.key === "Enter") {
-			    event.preventDefault();
-			    var minPrice = document.getElementById("minPrice").value;
-			    var maxPrice = document.getElementById("maxPrice").value;
-			    if (parseInt(maxPrice) < parseInt(minPrice)) {
-			      alert("最大价格不能小于最小价格，请重新输入！");
-			    } else {
-			      alert("提交成功！最小价格: " + minPrice + ", 最大价格: " + maxPrice);
-			    }
-			  }
-			});
-		</script>
-		
-		<script src="assets/admin/layui/layui.js" type="text/javascript" charset="utf-8"></script>
-		<script src="assets/admin/js/common.js" type="text/javascript" charset="utf-8"></script>
-		<script src="assets/admin/js/main.js" type="text/javascript" charset="utf-8"></script>
-	</body>
-</html>
+<head>
+    <meta charset="UTF-8">
+    <meta name="renderer" content="webkit">
+    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
+    <meta name="viewport"
+          content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
+    <title>菜品信息浏览</title>
+    <link rel="stylesheet" type="text/css"
+          href="assets/admin/layui/css/layui.css" />
+    <link rel="stylesheet" type="text/css" href="assets/admin/css/admin.css" />
+</head>
+
+<body>
+<div class="page-content-wrap" id="dishSearch">
+    <h5 style="text-align:center;font-size: 20px;line-height: 25px;color:#666">菜品信息浏览</h5>
+    <hr>
+    <div class="layui-form-item">
+        <div class="layui-inline">
+            <input type="text" id="DishNameSearch" placeholder="请输入菜品名称"
+                   autocomplete="off" class="layui-input">
+        </div>
+        <button class="layui-btn layui-btn-normal site-demo-active"
+                data-type="search" id="searchDish">搜索</button>
+        <table class="layui-table"
+               lay-data="{ url:'/dish/getAllDishes', page:true, id:'idTest'}"
+               lay-filter="demo">
+            <thead>
+            <tr>
+                <th lay-data="{type:'checkbox', }"></th>
+                <th lay-data="{field:'dishid',sort: true}">编号</th>
+                <th lay-data="{field:'dishname'}">姓名</th>
+                <th lay-data="{field:'price'}">价格</th>
+                <th lay-data="{field:'promoteprice'}">促销价格</th>
+                <th lay-data="{field:'dishstyle'}">菜系</th>
+                <th lay-data="{field:'canteenid'}">所属食堂ID</th>
+                <th lay-data="{field:'description'}">简介</th>
+                <th lay-data="{field:'imagefilename'}">图片文件名</th>
+                <th lay-data="{field:'ifrecommend'}">是否推荐</th>
+                <th lay-data="{fixed: 'right', width:220, align:'left', toolbar: '#barDemo'}"></th>
+            </tr>
+            </thead>
+        </table>
+    </div>
+
+
+    <script type="text/html" id="barDemo">
+        <a class="layui-btn layui-btn-sm" lay-event="comment">评价</a>
+    </script>
+    <hr>
+    <h5 style="text-align: center;">@2023.菜品管理系统</h5>
+</div>
+<script src="assets/admin/layui/layui.all.js" type="text/javascript"
+        charset="utf-8"></script>
+<script>
+    layui.use('table', function() {
+        var $ = layui.jquery
+        var table = layui.table;
+        //监听表格复选框选择
+        table.on('checkbox(demo)', function(obj) {
+            console.log(obj)
+        });
+        //监听工具条
+        table.on('tool(demo)', function(obj) {
+            var data = obj.data;
+            if (obj.event === 'comment') {
+                var editFrom = layui.layer.open({
+                    title : "评价菜品",
+                    type : 2,
+                    content : "/TS-dishcmt.html",//弹出层页面
+                    area: ['800px', '400px'],
+                    success : function(layero, index){
+                        var body = layui.layer.getChildFrame('body', index);
+                        //获取窗口对象
+                        var iframeWindow = layero.find('iframe')[0].contentWindow;
+                        body.find("#dishid").val(data.dishid);
+                        body.find("#dishname").val(data.dishname);
+                        body.find("#price").val(data.price);
+                        body.find("#promoteprice").val(data.promoteprice);
+                        body.find("#dishstyle").val(data.dishstyle);
+                        body.find("#canteenid").val(data.canteenid);
+                        body.find("#description").val(data.description);
+                        body.find("#imagefilename").val(data.imagefilename);
+                        body.find("#ifrecommend").val(data.ifrecommend);
+                        iframeWindow.layui.form.render();
+                        iframeWindow.layui.form.render('select');
+                    }});
+            }
+        });
+
+        //触发事件
+        var active = {
+            search:function(){
+                var name=$("#searchDish").val();
+                table.reload('idTest',{
+                    method: 'POST'
+                    , where: {"dishname":name},page: {
+                        curr: 1 //重新从第 1 页开始
+                    }
+                })
+            }
+        };
+
+        $('#searchDish .layui-btn').on('click', function() {
+            var type = $(this).data('type');
+            active[type] ? active[type].call(this) : '';
+        });
+
+    });
+</script>
+</body>
+</html>
\ No newline at end of file
Index: target/classes/public/CM-appraise.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"renderer\" content=\"webkit\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\r\n    <meta name=\"viewport\"\r\n          content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\" />\r\n    <title>菜品评价管理</title>\r\n    <link rel=\"stylesheet\" type=\"text/css\"\r\n          href=\"assets/admin/layui/css/layui.css\" />\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/css/admin.css\" />\r\n</head>\r\n\r\n<body>\r\n<div class=\"page-content-wrap\" id=\"canteenSearch\">\r\n    <h5 style=\"text-align:center;font-size: 20px;line-height: 25px;color:#666\">菜品评价管理</h5>\r\n    <hr>\r\n    <div class=\"layui-form-item\">\r\n        <div class=\"layui-inline tool-btn\">\r\n            <button class=\"layui-btn layui-btn-small site-demo-active\"\r\n                    data-type=\"tabAdd\">\r\n                <i class=\"layui-icon\">&#xe654;</i>\r\n            </button>\r\n            <!-- \t\t\t\t<button\r\n                                class=\"layui-btn layui-btn-small layui-btn-warm listOrderBtn hidden-xs\"\r\n                                data-url=\"/admin/category/listorderall.html\">\r\n                                <i class=\"iconfont\">&#xe656;</i>\r\n                            </button> -->\r\n        </div>\r\n        <div class=\"layui-inline\">\r\n            <input type=\"text\" id=\"canteenNameSearch\" placeholder=\"请输入菜品ID\"\r\n                   autocomplete=\"off\" class=\"layui-input\">\r\n        </div>\r\n        <button class=\"layui-btn layui-btn-normal site-demo-active\"\r\n                data-type=\"search\" id=\"searchCanteen\">搜索</button>\r\n        <table class=\"layui-table\"\r\n               lay-data=\"{ url:'/dishReview/getAllDishReviews', page:true, id:'idTest'}\"\r\n               lay-filter=\"demo\">\r\n            <thead>\r\n            <tr>\r\n                <th lay-data=\"{type:'checkbox', }\"></th>\r\n                <th lay-data=\"{field:'dishreviewid',sort: true}\">评价编号</th>\r\n                <th lay-data=\"{field:'userid'}\">评价人ID</th>\r\n                <th lay-data=\"{field:'dishid'}\">菜品ID</th>\r\n                <th lay-data=\"{field:'title'}\">评价标题</th>\r\n                <th lay-data=\"{field:'content'}\">评价内容</th>\r\n                <th lay-data=\"{field:'imageurl'}\">图片</th>\r\n                <th lay-data=\"{field:'reviewtime'}\">评价时间</th>\r\n                <th lay-data=\"{field:'rating'}\">评分</th>\r\n                <th\r\n                        lay-data=\"{fixed: 'right', width:220, align:'left', toolbar: '#barDemo'}\"></th>\r\n            </tr>\r\n            </thead>\r\n        </table>\r\n    </div>\r\n\r\n\r\n    <script type=\"text/html\" id=\"barDemo\">\r\n        <a class=\"layui-btn layui-btn-normal layui-btn-sm\" lay-event=\"detail\">查看</a>\r\n        <a class=\"layui-btn layui-btn-sm\" lay-event=\"edit\">编辑</a>\r\n        <a class=\"layui-btn layui-btn-danger layui-btn-sm\" lay-event=\"del\">删除</a>\r\n    </script>\r\n    <hr></hr>\r\n    <h5 style=\"text-align: center;\">@2023.首页</h5>\r\n</div>\r\n<script src=\"assets/admin/layui/layui.all.js\" type=\"text/javascript\"\r\n        charset=\"utf-8\"></script>\r\n<script>\r\n    layui.use('table', function() {\r\n        var $ = layui.jquery\r\n        var table = layui.table;\r\n        //监听表格复选框选择\r\n        table.on('checkbox(demo)', function(obj) {\r\n            console.log(obj)\r\n        });\r\n        //监听工具条\r\n        table.on('tool(demo)', function(obj) {\r\n            var data = obj.data;\r\n            if (obj.event === 'detail') {\r\n                var detailFrom = layui.layer.open({\r\n                    title : \"查看评价信息\",\r\n                    type : 2,\r\n                    content : \"/CM-appraiseDetail.html\",//弹出层页面\r\n                    area: ['500px', '200px'],\r\n                    success : function(layero, index){\r\n                        var body = layui.layer.getChildFrame('body', index);\r\n                        body.find(\"#dishreviewid\").text(data.dishreviewid);\r\n                        body.find(\"#userid\").text(data.userid);\r\n                        body.find(\"#dishid\").text(data.dishid);\r\n                        body.find(\"#title\").text(data.title);\r\n                        body.find(\"#content\").text(data.content);\r\n                        body.find(\"#imageurl\").text(data.imageurl);\r\n                        body.find(\"#reviewtime\").text(data.reviewtime);\r\n                        body.find(\"#rating\").text(data.rating);\r\n                    }});\r\n            }\r\n            if (obj.event === 'del') {\r\n                layer.confirm('真的删除该评价吗？', function(index) {\r\n                    var data = obj.data;\r\n                    $.ajax({\r\n                        //几个参数需要注意一下\r\n                        type: \"POST\",//方法类型\r\n                        dataType: \"json\",//预期服务器返回的数据类型\r\n                        url: \"/dishReview/deleteDishReview\",//url\r\n                        data: { id: data.canteenid },\r\n                        success: function (result) {\r\n                            if (result.code == \"0\") {\r\n                                layer.close(index);\r\n                                layer.msg('删除成功');\r\n                                layui.table.reload('idTest',{page:{curr:1}});\r\n                            }else{\r\n                                layer.msg('删除评价失败', {\r\n                                    icon: 5\r\n                                });\r\n                            }\r\n                        },\r\n                        error : function() {\r\n                            layer.msg('服务器错误', {\r\n                                icon: 5\r\n                            });\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            if (obj.event === 'edit') {\r\n                var editFrom = layui.layer.open({\r\n                    title : \"编辑评价信息\",\r\n                    type : 2,\r\n                    content : \"/CM-appraiseEdit.html\",//弹出层页面\r\n                    area: ['800px', '400px'],\r\n                    success : function(layero, index){\r\n                        var body = layui.layer.getChildFrame('body', index);\r\n                        //获取窗口对象\r\n                        var iframeWindow = layero.find('iframe')[0].contentWindow;\r\n                        body.find(\"#studentNo\").val(data.studentNo);\r\n                        body.find(\"#studentName\").val(data.studentName);\r\n                        body.find(\".studentSex option[value=\"+data.studentSex+\"]\").attr(\"selected\",\"selected\");\r\n                        iframeWindow.layui.form.render();\r\n                        iframeWindow.layui.form.render('select');\r\n                    }});\r\n            }\r\n        });\r\n\r\n        //触发事件\r\n        var active = {\r\n            tabAdd : function() {\r\n\r\n                layer.open({\r\n                    type: 2,\r\n                    title: '编辑评价信息',\r\n                    shadeClose: true,\r\n                    shade: false,\r\n                    /*    maxmin: true,  *///开启最大化最小化按钮\r\n                    area: ['800px', '400px'],\r\n                    content: '/canteenadd.html'\r\n                });\r\n\r\n            },search:function(){\r\n                var name=$(\"#canteenNameSearch\").val();\r\n                table.reload('idTest',{\r\n                    method: 'POST'\r\n                    , where: {\"DishID\":name},page: {\r\n                        curr: 1 //重新从第 1 页开始\r\n                    }\r\n\r\n                })\r\n            }\r\n        };\r\n\r\n        $('#canteenSearch .layui-btn').on('click', function() {\r\n            var type = $(this).data('type');\r\n            active[type] ? active[type].call(this) : '';\r\n        });\r\n\r\n    });\r\n</script>\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/public/CM-appraise.html b/target/classes/public/CM-appraise.html
--- a/target/classes/public/CM-appraise.html	(revision e81b8d652216ddac7dd61bccf6ec28f0e7d33648)
+++ b/target/classes/public/CM-appraise.html	(date 1704650969630)
@@ -134,9 +134,14 @@
                         var body = layui.layer.getChildFrame('body', index);
                         //获取窗口对象
                         var iframeWindow = layero.find('iframe')[0].contentWindow;
-                        body.find("#studentNo").val(data.studentNo);
-                        body.find("#studentName").val(data.studentName);
-                        body.find(".studentSex option[value="+data.studentSex+"]").attr("selected","selected");
+                        body.find("#dishreviewid").text(data.dishreviewid);
+                        body.find("#userid").text(data.userid);
+                        body.find("#dishid").text(data.dishid);
+                        body.find("#title").text(data.title);
+                        body.find("#content").text(data.content);
+                        body.find("#imageurl").text(data.imageurl);
+                        body.find("#reviewtime").text(data.reviewtime);
+                        body.find("#rating").text(data.rating);
                         iframeWindow.layui.form.render();
                         iframeWindow.layui.form.render('select');
                     }});
Index: target/classes/public/CM-dish.html
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><!DOCTYPE html>\r\n<html>\r\n\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"renderer\" content=\"webkit\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\">\r\n    <meta name=\"viewport\"\r\n          content=\"width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no\" />\r\n    <title>网站后台管理模版</title>\r\n    <link rel=\"stylesheet\" type=\"text/css\"\r\n          href=\"assets/admin/layui/css/layui.css\" />\r\n    <link rel=\"stylesheet\" type=\"text/css\" href=\"assets/admin/css/admin.css\" />\r\n</head>\r\n\r\n<body>\r\n<div class=\"page-content-wrap\" id=\"dishSearch\">\r\n    <h5 style=\"text-align:center;font-size: 20px;line-height: 25px;color:#666\">菜品管理</h5>\r\n    <hr>\r\n    <div class=\"layui-form-item\">\r\n        <div class=\"layui-inline tool-btn\">\r\n            <button class=\"layui-btn layui-btn-small site-demo-active\"\r\n                    data-type=\"tabAdd\">\r\n                <i class=\"layui-icon\">&#xe654;</i>\r\n            </button>\r\n        </div>\r\n        <div class=\"layui-inline\">\r\n            <input type=\"text\" id=\"DishNameSearch\" placeholder=\"请输入菜品名称\"\r\n                   autocomplete=\"off\" class=\"layui-input\">\r\n        </div>\r\n        <button class=\"layui-btn layui-btn-normal site-demo-active\"\r\n                data-type=\"search\" id=\"searchDish\">搜索</button>\r\n        <table class=\"layui-table\"\r\n               lay-data=\"{ url:'/dish/getAllDishes', page:true, id:'idTest'}\"\r\n               lay-filter=\"demo\">\r\n            <thead>\r\n            <tr>\r\n                <th lay-data=\"{type:'checkbox', }\"></th>\r\n                <th lay-data=\"{field:'dishid',sort: true}\">编号</th>\r\n                <th lay-data=\"{field:'dishname'}\">姓名</th>\r\n                <th lay-data=\"{field:'price'}\">价格</th>\r\n                <th lay-data=\"{field:'promoteprice'}\">促销价格</th>\r\n                <th lay-data=\"{field:'dishstyle'}\">菜系</th>\r\n                <th lay-data=\"{field:'canteenid'}\">所属食堂ID</th>\r\n                <th lay-data=\"{field:'description'}\">简介</th>\r\n                <th lay-data=\"{field:'imagefilename'}\">图片文件名</th>\r\n                <th lay-data=\"{field:'ifrecommend'}\">是否推荐</th>\r\n                <th lay-data=\"{fixed: 'right', width:220, align:'left', toolbar: '#barDemo'}\"></th>\r\n            </tr>\r\n            </thead>\r\n        </table>\r\n    </div>\r\n\r\n\r\n    <script type=\"text/html\" id=\"barDemo\">\r\n        <a class=\"layui-btn layui-btn-sm\" lay-event=\"edit\">编辑</a>\r\n        <a class=\"layui-btn layui-btn-danger layui-btn-sm\" lay-event=\"del\">删除</a>\r\n    </script>\r\n    <hr>\r\n    <h5 style=\"text-align: center;\">@2023.菜品管理系统</h5>\r\n</div>\r\n<script src=\"assets/admin/layui/layui.all.js\" type=\"text/javascript\"\r\n        charset=\"utf-8\"></script>\r\n<script>\r\n    layui.use('table', function() {\r\n        var $ = layui.jquery\r\n        var table = layui.table;\r\n        //监听表格复选框选择\r\n        table.on('checkbox(demo)', function(obj) {\r\n            console.log(obj)\r\n        });\r\n        //监听工具条\r\n        table.on('tool(demo)', function(obj) {\r\n            var data = obj.data;\r\n            if (obj.event === 'del') {\r\n                layer.confirm('真的删除该菜品吗？', function(index) {\r\n                    var data = obj.data;\r\n                    $.ajax({\r\n                        //几个参数需要注意一下\r\n                        type: \"POST\",//方法类型\r\n                        dataType: \"json\",//预期服务器返回的数据类型\r\n                        url: \"/dish/deleteDish\",//url\r\n                        data: data,\r\n                        success: function (result) {\r\n                            if (result.code === \"0\") {\r\n                                layer.close(index);\r\n                                layer.msg('删除菜品成功');\r\n                                layui.table.reload('idTest',{page:{curr:1}});\r\n                            }else{\r\n                                layer.msg('删除菜品失败', {\r\n                                    icon: 5\r\n                                });\r\n                            }\r\n                        },\r\n                        error : function() {\r\n                            layer.msg('服务器错误', {\r\n                                icon: 5\r\n                            });\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n            if (obj.event === 'edit') {\r\n                var editFrom = layui.layer.open({\r\n                    title : \"编辑菜品信息\",\r\n                    type : 2,\r\n                    content : \"/CM-dishEdit.html\",//弹出层页面\r\n                    area: ['800px', '400px'],\r\n                    success : function(layero, index){\r\n                        var body = layui.layer.getChildFrame('body', index);\r\n                        //获取窗口对象\r\n                        var iframeWindow = layero.find('iframe')[0].contentWindow;\r\n                        body.find(\"#dishid\").val(data.dishid);\r\n                        body.find(\"#dishname\").val(data.dishname);\r\n                        body.find(\"#price\").val(data.price);\r\n                        body.find(\"#promoteprice\").val(data.promoteprice);\r\n                        body.find(\"#dishstyle\").val(data.dishstyle);\r\n                        body.find(\"#canteenid\").val(data.canteenid);\r\n                        body.find(\"#description\").val(data.description);\r\n                        body.find(\"#imagefilename\").val(data.imagefilename);\r\n                        body.find(\"#ifrecommend\").val(data.ifrecommend);\r\n                        iframeWindow.layui.form.render();\r\n                        iframeWindow.layui.form.render('select');\r\n                    }});\r\n            }\r\n        });\r\n\r\n        //触发事件\r\n        var active = {\r\n            tabAdd : function() {\r\n\r\n                layer.open({\r\n                    type: 2,\r\n                    title: '添加菜品信息',\r\n                    shadeClose: true,\r\n                    shade: false,\r\n                    /*    maxmin: true,  *///开启最大化最小化按钮\r\n                    area: ['800px', '400px'],\r\n                    content: '/CM-dishAdd.html'\r\n                });\r\n\r\n            },\r\n            search:function(){\r\n                var name=$(\"#searchDish\").val();\r\n                table.reload('idTest',{\r\n                    method: 'POST'\r\n                    , where: {\"dishname\":name},page: {\r\n                        curr: 1 //重新从第 1 页开始\r\n                    }\r\n\r\n                })\r\n            }\r\n        };\r\n\r\n        $('#searchDish .layui-btn').on('click', function() {\r\n            var type = $(this).data('type');\r\n            active[type] ? active[type].call(this) : '';\r\n        });\r\n\r\n    });\r\n</script>\r\n</body>\r\n\r\n</html>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/target/classes/public/CM-dish.html b/target/classes/public/CM-dish.html
--- a/target/classes/public/CM-dish.html	(revision e81b8d652216ddac7dd61bccf6ec28f0e7d33648)
+++ b/target/classes/public/CM-dish.html	(date 1704654357820)
@@ -128,7 +128,6 @@
         //触发事件
         var active = {
             tabAdd : function() {
-
                 layer.open({
                     type: 2,
                     title: '添加菜品信息',
@@ -151,8 +150,7 @@
                 })
             }
         };
-
-        $('#searchDish .layui-btn').on('click', function() {
+        $('#searchDish.layui-btn').on('click', function() {
             var type = $(this).data('type');
             active[type] ? active[type].call(this) : '';
         });
